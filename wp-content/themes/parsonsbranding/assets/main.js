!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=105)}([function(e,t,i){
/*!
 * @license twgl.js 4.14.1 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/twgl-base.js")}({"./src/attributes.js":
/*!***************************!*\
  !*** ./src/attributes.js ***!
  \***************************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.createAttribsFromArrays=m,t.createBuffersFromArrays=function(e,t){var i={};return Object.keys(t).forEach((function(n){i[n]=b(e,t[n],n)})),t.indices?(i.numElements=t.indices.length,i.elementType=n.getGLTypeForTypedArray(v(t.indices),"indices")):i.numElements=function(e){var t,i;for(i=0;i<y.length&&!((t=y[i])in e);++i);i===y.length&&(t=Object.keys(e)[0]);var n=e[t],r=h(n).length,o=g(n,t),a=r/o;if(r%o>0)throw new Error("numComponents ".concat(o," not correct for length ").concat(r));return a}(t),i},t.createBufferFromArray=b,t.createBufferFromTypedArray=u,t.createBufferInfoFromArrays=function(e,t,i){var r=m(e,t),o=Object.assign({},i||{});o.attribs=Object.assign({},i?i.attribs:{},r);var a=t.indices;if(a){var l=v(a,"indices");o.indices=u(e,l,34963),o.numElements=l.length,o.elementType=n.getGLTypeForTypedArray(l)}else o.numElements||(o.numElements=function(e,t){var i,n;for(n=0;n<y.length&&!((i=y[n])in t)&&!((i=s.attribPrefix+i)in t);++n);n===y.length&&(i=Object.keys(t)[0]);var r=t[i];e.bindBuffer(34962,r.buffer);var o=e.getBufferParameter(34962,34660);e.bindBuffer(34962,null);var a,l=5120===(a=r.type)?1:5121===a?1:5122===a?2:5123===a?2:5124===a?4:5125===a?4:5126===a?4:0,u=o/l,c=r.numComponents||r.size,h=u/c;if(h%1!=0)throw new Error("numComponents ".concat(c," not correct for length ").concat(length));return h}(e,o.attribs));return o},t.setAttribInfoBufferFromArray=function(e,t,i,n){i=v(i),void 0!==n?(e.bindBuffer(34962,t.buffer),e.bufferSubData(34962,n,i)):l(e,34962,t.buffer,i,t.drawType)},t.setAttributePrefix=function(e){s.attribPrefix=e},t.setAttributeDefaults_=function(e){r.copyExistingProperties(e,s)},t.getNumComponents_=g,t.getArray_=h;var n=a(i(/*! ./typedarrays.js */"./src/typedarrays.js")),r=a(i(/*! ./helper.js */"./src/helper.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;var t=o();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(i,r,a):i[r]=e[r]}}return i.default=e,t&&t.set(e,i),i}var s={attribPrefix:""};function l(e,t,i,n,r){e.bindBuffer(t,i),e.bufferData(t,n,r||35044)}function u(e,t,i,n){if(r.isBuffer(e,t))return t;i=i||34962;var o=e.createBuffer();return l(e,i,o,t,n),o}function c(e){return"indices"===e}function h(e){return e.length?e:e.data}var d=/coord|texture/i,f=/color|colour/i;function p(e,t){var i;if(t%(i=d.test(e)?2:f.test(e)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(e,"'. Tried ").concat(i," but ").concat(t," values is not evenly divisible by ").concat(i,". You should specify it."));return i}function g(e,t){return e.numComponents||e.size||p(t,h(e).length)}function v(e,t){if(n.isArrayBuffer(e))return e;if(n.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var i=e.type;return i||(i=c(t)?Uint16Array:Float32Array),new i(e.data)}function m(e,t){var i={};return Object.keys(t).forEach((function(r){if(!c(r)){var o=t[r],a=o.attrib||o.name||o.attribName||s.attribPrefix+r;if(o.value){if(!Array.isArray(o.value)&&!n.isArrayBuffer(o.value))throw new Error("array.value is not array or typedarray");i[a]={value:o.value}}else{var l,h,d,f;if(o.buffer&&o.buffer instanceof WebGLBuffer)l=o.buffer,f=o.numComponents||o.size,h=o.type,d=o.normalize;else if("number"==typeof o||"number"==typeof o.data){var m=o.data||o,y=o.type||Float32Array,b=m*y.BYTES_PER_ELEMENT;h=n.getGLTypeForTypedArrayType(y),d=void 0!==o.normalize?o.normalize:(x=y)===Int8Array||x===Uint8Array,f=o.numComponents||o.size||p(r,m),l=e.createBuffer(),e.bindBuffer(34962,l),e.bufferData(34962,b,o.drawType||35044)}else{var w=v(o,r);l=u(e,w,void 0,o.drawType),h=n.getGLTypeForTypedArray(w),d=void 0!==o.normalize?o.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(w),f=g(o,r)}i[a]={buffer:l,numComponents:f,type:h,normalize:d,stride:o.stride||0,offset:o.offset||0,divisor:void 0===o.divisor?void 0:o.divisor,drawType:o.drawType}}}var x})),e.bindBuffer(34962,null),i}var y=["position","positions","a_position"];function b(e,t,i){var n="indices"===i?34963:34962;return u(e,v(t,i),n)}},"./src/draw.js":
/*!*********************!*\
  !*** ./src/draw.js ***!
  \*********************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.drawBufferInfo=o,t.drawObjectList=function(e,t){var i=null,r=null;t.forEach((function(t){if(!1!==t.active){var a=t.programInfo,s=t.vertexArrayInfo||t.bufferInfo,l=!1,u=void 0===t.type?4:t.type;a!==i&&(i=a,e.useProgram(a.program),l=!0),(l||s!==r)&&(r&&r.vertexArrayObject&&!s.vertexArrayObject&&e.bindVertexArray(null),r=s,n.setBuffersAndAttributes(e,a,s)),n.setUniforms(a,t.uniforms),o(e,s,u,t.count,t.offset,t.instanceCount)}})),r&&r.vertexArrayObject&&e.bindVertexArray(null)};var n=function(e){if(e&&e.__esModule)return e;var t=r();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}}return i.default=e,t&&t.set(e,i),i}(i(/*! ./programs.js */"./src/programs.js"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function o(e,t,i,n,r,o){i=void 0===i?4:i;var a=t.indices,s=t.elementType,l=void 0===n?t.numElements:n;r=void 0===r?0:r,s||a?void 0!==o?e.drawElementsInstanced(i,l,void 0===s?5123:t.elementType,r,o):e.drawElements(i,l,void 0===s?5123:t.elementType,r):void 0!==o?e.drawArraysInstanced(i,r,l,o):e.drawArrays(i,r,l)}},"./src/framebuffers.js":
/*!*****************************!*\
  !*** ./src/framebuffers.js ***!
  \*****************************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.bindFramebufferInfo=function(e,t,i){i=i||36160,t?(e.bindFramebuffer(i,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(i,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},t.createFramebufferInfo=function(e,t,i,o){var a=e.createFramebuffer();e.bindFramebuffer(36160,a),i=i||e.drawingBufferWidth,o=o||e.drawingBufferHeight;var c=0,h={framebuffer:a,attachments:[],width:i,height:o};return(t=t||s).forEach((function(t){var a=t.attachment,s=t.format,d=function(e){return l[e]}(s);if(d||(d=36064+c++),!a)if(function(e){return u[e]}(s))a=e.createRenderbuffer(),e.bindRenderbuffer(36161,a),e.renderbufferStorage(36161,s,i,o);else{var f=Object.assign({},t);f.width=i,f.height=o,void 0===f.auto&&(f.auto=!1,f.min=f.min||f.minMag||9729,f.mag=f.mag||f.minMag||9729,f.wrapS=f.wrapS||f.wrap||33071,f.wrapT=f.wrapT||f.wrap||33071),a=n.createTexture(e,f)}if(r.isRenderbuffer(e,a))e.framebufferRenderbuffer(36160,d,36161,a);else{if(!r.isTexture(e,a))throw new Error("unknown attachment type");void 0!==t.layer?e.framebufferTextureLayer(36160,d,a,t.level||0,t.layer):e.framebufferTexture2D(36160,d,t.texTarget||3553,a,t.level||0)}h.attachments.push(a)})),h},t.resizeFramebufferInfo=function(e,t,i,o,a){o=o||e.drawingBufferWidth,a=a||e.drawingBufferHeight,t.width=o,t.height=a,(i=i||s).forEach((function(i,s){var l=t.attachments[s],u=i.format;if(r.isRenderbuffer(e,l))e.bindRenderbuffer(36161,l),e.renderbufferStorage(36161,u,o,a);else{if(!r.isTexture(e,l))throw new Error("unknown attachment type");n.resizeTexture(e,l,i,o,a)}}))};var n=a(i(/*! ./textures.js */"./src/textures.js")),r=a(i(/*! ./helper.js */"./src/helper.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;var t=o();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(i,r,a):i[r]=e[r]}}return i.default=e,t&&t.set(e,i),i}var s=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],l={34041:33306,6401:36128,36168:36128,6402:36096,33189:36096},u={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0}},"./src/helper.js":
/*!***********************!*\
  !*** ./src/helper.js ***!
  \***********************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.copyExistingProperties=function(e,t){Object.keys(t).forEach((function(i){t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&(t[i]=e[i])}))},t.copyNamedProperties=function(e,t,i){e.forEach((function(e){var n=t[e];void 0!==n&&(i[e]=n)}))},t.error=function(){var e;(e=console).error.apply(e,arguments)},t.warn=function(){var e;(e=console).warn.apply(e,arguments)},t.isBuffer=function(e,t){return"undefined"!=typeof WebGLBuffer&&t instanceof WebGLBuffer},t.isRenderbuffer=function(e,t){return"undefined"!=typeof WebGLRenderbuffer&&t instanceof WebGLRenderbuffer},t.isShader=function(e,t){return"undefined"!=typeof WebGLShader&&t instanceof WebGLShader},t.isTexture=function(e,t){return"undefined"!=typeof WebGLTexture&&t instanceof WebGLTexture},t.isSampler=function(e,t){return"undefined"!=typeof WebGLSampler&&t instanceof WebGLSampler}},"./src/programs.js":
/*!*************************!*\
  !*** ./src/programs.js ***!
  \*************************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.createAttributeSetters=U,t.createProgram=L,t.createProgramFromScripts=function(e,t,i,n,r){for(var o=C(i,n,r),a=[],s=0;s<t.length;++s){var l=P(e,t[s],e[k[s]],o.errorCallback);if(!l)return null;a.push(l)}return L(e,a,o)},t.createProgramFromSources=O,t.createProgramInfo=function(e,t,i,n,r){var o=C(i,n,r),a=!0;if(t=t.map((function(e){if(e.indexOf("\n")<0){var t=u(e);t?e=t.text:(o.errorCallback("no element with id: "+e),a=!1)}return e})),!a)return null;var s=O(e,t,o);return s?Y(e,s):null},t.createProgramInfoFromProgram=Y,t.createUniformSetters=F,t.createUniformBlockSpecFromProgram=j,t.createUniformBlockInfoFromProgram=B,t.createUniformBlockInfo=function(e,t,i){return B(e,t.program,t.uniformBlockSpec,i)},t.createTransformFeedback=function(e,t,i){var n=e.createTransformFeedback();return e.bindTransformFeedback(36386,n),e.useProgram(t.program),q(e,t,i),e.bindTransformFeedback(36386,null),n},t.createTransformFeedbackInfo=M,t.bindTransformFeedbackInfo=q,t.setAttributes=W,t.setBuffersAndAttributes=function(e,t,i){i.vertexArrayObject?e.bindVertexArray(i.vertexArrayObject):(W(t.attribSetters||t,i.attribs),i.indices&&e.bindBuffer(34963,i.indices))},t.setUniforms=N,t.setUniformBlock=function(e,t,i){z(e,t,i)&&e.bufferData(35345,i.array,35048)},t.setBlockUniforms=function(e,t){var i=e.uniforms;for(var n in t){var r=i[n];if(r){var o=t[n];o.length?r.set(o):r[0]=o}}},t.bindUniformBlock=z,t.setUniformsAndBindTextures=void 0;var n=a(i(/*! ./utils.js */"./src/utils.js")),r=a(i(/*! ./helper.js */"./src/helper.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;var t=o();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(i,r,a):i[r]=e[r]}}return i.default=e,t&&t.set(e,i),i}var s=r.error,l=r.warn;function u(e){return"undefined"!=typeof document&&document.getElementById?document.getElementById(e):null}var c={};function h(e,t){return c[t].bindPoint}function d(e,t){return function(i){e.uniform1i(t,i)}}function f(e,t){return function(i){e.uniform1iv(t,i)}}function p(e,t){return function(i){e.uniform2iv(t,i)}}function g(e,t){return function(i){e.uniform3iv(t,i)}}function v(e,t){return function(i){e.uniform4iv(t,i)}}function m(e,t,i,o){var a=h(0,t);return n.isWebGL2(e)?function(t){var n,s;r.isTexture(e,t)?(n=t,s=null):(n=t.texture,s=t.sampler),e.uniform1i(o,i),e.activeTexture(33984+i),e.bindTexture(a,n),e.bindSampler(i,s)}:function(t){e.uniform1i(o,i),e.activeTexture(33984+i),e.bindTexture(a,t)}}function y(e,t,i,o,a){for(var s=h(0,t),l=new Int32Array(a),u=0;u<a;++u)l[u]=i+u;return n.isWebGL2(e)?function(t){e.uniform1iv(o,l),t.forEach((function(t,n){var o,a;e.activeTexture(33984+l[n]),r.isTexture(e,t)?(o=t,a=null):(o=t.texture,a=t.sampler),e.bindSampler(i,a),e.bindTexture(s,o)}))}:function(t){e.uniform1iv(o,l),t.forEach((function(t,i){e.activeTexture(33984+l[i]),e.bindTexture(s,t)}))}}function b(e,t){return function(i){if(i.value)switch(e.disableVertexAttribArray(t),i.value.length){case 4:e.vertexAttrib4fv(t,i.value);break;case 3:e.vertexAttrib3fv(t,i.value);break;case 2:e.vertexAttrib2fv(t,i.value);break;case 1:e.vertexAttrib1fv(t,i.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(34962,i.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,i.numComponents||i.size,i.type||5126,i.normalize||!1,i.stride||0,i.offset||0),void 0!==i.divisor&&e.vertexAttribDivisor(t,i.divisor)}}function w(e,t){return function(i){if(i.value){if(e.disableVertexAttribArray(t),4!==i.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(t,i.value)}else e.bindBuffer(34962,i.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,i.numComponents||i.size,i.type||5124,i.stride||0,i.offset||0),void 0!==i.divisor&&e.vertexAttribDivisor(t,i.divisor)}}function x(e,t){return function(i){if(i.value){if(e.disableVertexAttribArray(t),4!==i.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(t,i.value)}else e.bindBuffer(34962,i.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,i.numComponents||i.size,i.type||5125,i.stride||0,i.offset||0),void 0!==i.divisor&&e.vertexAttribDivisor(t,i.divisor)}}function D(e,t,i){var n=i.size,r=i.count;return function(i){e.bindBuffer(34962,i.buffer);for(var o=i.size||i.numComponents||n,a=o/r,s=i.type||5126,l=c[s].size*o,u=i.normalize||!1,h=i.offset||0,d=l/r,f=0;f<r;++f)e.enableVertexAttribArray(t+f),e.vertexAttribPointer(t+f,a,s,u,l,h+d*f),void 0!==i.divisor&&e.vertexAttribDivisor(t+f,i.divisor)}}c[5126]={Type:Float32Array,size:4,setter:function(e,t){return function(i){e.uniform1f(t,i)}},arraySetter:function(e,t){return function(i){e.uniform1fv(t,i)}}},c[35664]={Type:Float32Array,size:8,setter:function(e,t){return function(i){e.uniform2fv(t,i)}}},c[35665]={Type:Float32Array,size:12,setter:function(e,t){return function(i){e.uniform3fv(t,i)}}},c[35666]={Type:Float32Array,size:16,setter:function(e,t){return function(i){e.uniform4fv(t,i)}}},c[5124]={Type:Int32Array,size:4,setter:d,arraySetter:f},c[35667]={Type:Int32Array,size:8,setter:p},c[35668]={Type:Int32Array,size:12,setter:g},c[35669]={Type:Int32Array,size:16,setter:v},c[5125]={Type:Uint32Array,size:4,setter:function(e,t){return function(i){e.uniform1ui(t,i)}},arraySetter:function(e,t){return function(i){e.uniform1uiv(t,i)}}},c[36294]={Type:Uint32Array,size:8,setter:function(e,t){return function(i){e.uniform2uiv(t,i)}}},c[36295]={Type:Uint32Array,size:12,setter:function(e,t){return function(i){e.uniform3uiv(t,i)}}},c[36296]={Type:Uint32Array,size:16,setter:function(e,t){return function(i){e.uniform4uiv(t,i)}}},c[35670]={Type:Uint32Array,size:4,setter:d,arraySetter:f},c[35671]={Type:Uint32Array,size:8,setter:p},c[35672]={Type:Uint32Array,size:12,setter:g},c[35673]={Type:Uint32Array,size:16,setter:v},c[35674]={Type:Float32Array,size:16,setter:function(e,t){return function(i){e.uniformMatrix2fv(t,!1,i)}}},c[35675]={Type:Float32Array,size:36,setter:function(e,t){return function(i){e.uniformMatrix3fv(t,!1,i)}}},c[35676]={Type:Float32Array,size:64,setter:function(e,t){return function(i){e.uniformMatrix4fv(t,!1,i)}}},c[35685]={Type:Float32Array,size:24,setter:function(e,t){return function(i){e.uniformMatrix2x3fv(t,!1,i)}}},c[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(i){e.uniformMatrix2x4fv(t,!1,i)}}},c[35687]={Type:Float32Array,size:24,setter:function(e,t){return function(i){e.uniformMatrix3x2fv(t,!1,i)}}},c[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(i){e.uniformMatrix3x4fv(t,!1,i)}}},c[35689]={Type:Float32Array,size:32,setter:function(e,t){return function(i){e.uniformMatrix4x2fv(t,!1,i)}}},c[35690]={Type:Float32Array,size:48,setter:function(e,t){return function(i){e.uniformMatrix4x3fv(t,!1,i)}}},c[35678]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:3553},c[35680]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:34067},c[35679]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:32879},c[35682]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:3553},c[36289]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:35866},c[36292]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:35866},c[36293]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:34067},c[36298]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:3553},c[36299]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:32879},c[36300]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:34067},c[36303]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:35866},c[36306]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:3553},c[36307]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:32879},c[36308]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:34067},c[36311]={Type:null,size:0,setter:m,arraySetter:y,bindPoint:35866};var _={};_[5126]={size:4,setter:b},_[35664]={size:8,setter:b},_[35665]={size:12,setter:b},_[35666]={size:16,setter:b},_[5124]={size:4,setter:w},_[35667]={size:8,setter:w},_[35668]={size:12,setter:w},_[35669]={size:16,setter:w},_[5125]={size:4,setter:x},_[36294]={size:8,setter:x},_[36295]={size:12,setter:x},_[36296]={size:16,setter:x},_[35670]={size:4,setter:w},_[35671]={size:8,setter:w},_[35672]={size:12,setter:w},_[35673]={size:16,setter:w},_[35674]={size:4,setter:D,count:2},_[35675]={size:9,setter:D,count:3},_[35676]={size:16,setter:D,count:4};var S=/^[ \t]*\n/;function E(e,t,i,n){var r=n||s,o=e.createShader(i),a=0;if(S.test(t)&&(a=1,t=t.replace(S,"")),e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,35713)){var l=e.getShaderInfoLog(o);return r(function(e,t){return t=t||0,++t,e.split("\n").map((function(e,i){return i+t+": "+e})).join("\n")}(t,a)+"\n*** Error compiling shader: "+l),e.deleteShader(o),null}return o}function C(e,t,i){var n,r;if("function"==typeof t&&(i=t,t=void 0),"function"==typeof e)i=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var o=e;i=o.errorCallback,e=o.attribLocations,n=o.transformFeedbackVaryings,r=o.transformFeedbackMode}var a={errorCallback:i||s,transformFeedbackVaryings:n,transformFeedbackMode:r};if(e){var l={};Array.isArray(e)?e.forEach((function(e,i){l[e]=t?t[i]:i})):l=e,a.attribLocations=l}return a}var k=["VERTEX_SHADER","FRAGMENT_SHADER"];function T(e,t){return t.indexOf("frag")>=0?35632:t.indexOf("vert")>=0?35633:void 0}function A(e,t){t.forEach((function(t){e.deleteShader(t)}))}function L(e,t,i,n,o){for(var a=C(i,n,o),s=[],l=[],c=0;c<t.length;++c){var h=t[c];if("string"==typeof h){var d=u(h),f=d?d.text:h,p=e[k[c]];d&&d.type&&(p=T(0,d.type)||p),h=E(e,f,p,a.errorCallback),l.push(h)}r.isShader(e,h)&&s.push(h)}if(s.length!==t.length)return a.errorCallback("not enough shaders for program"),A(e,l),null;var g=e.createProgram();s.forEach((function(t){e.attachShader(g,t)})),a.attribLocations&&Object.keys(a.attribLocations).forEach((function(t){e.bindAttribLocation(g,a.attribLocations[t],t)}));var v=a.transformFeedbackVaryings;if(v&&(v.attribs&&(v=v.attribs),Array.isArray(v)||(v=Object.keys(v)),e.transformFeedbackVaryings(g,v,a.transformFeedbackMode||35981)),e.linkProgram(g),!e.getProgramParameter(g,35714)){var m=e.getProgramInfoLog(g);return a.errorCallback("Error in program linking:"+m),e.deleteProgram(g),A(e,l),null}return g}function P(e,t,i,n){var r,o=u(t);if(!o)throw new Error("unknown script element: ".concat(t));r=o.text;var a=i||T(0,o.type);if(!a)throw new Error("unknown shader type");return E(e,r,a,n)}function O(e,t,i,n,r){for(var o=C(i,n,r),a=[],s=0;s<t.length;++s){var l=E(e,t[s],e[k[s]],o.errorCallback);if(!l)return null;a.push(l)}return L(e,a,o)}function I(e){var t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}function F(e,t){var i=0;function n(t,n){var r,o=e.getUniformLocation(t,n.name),a=n.size>1&&"[0]"===n.name.substr(-3),s=n.type,l=c[s];if(!l)throw new Error("unknown type: 0x".concat(s.toString(16)));if(l.bindPoint){var u=i;i+=n.size,r=a?l.arraySetter(e,s,u,o,n.size):l.setter(e,s,u,o,n.size)}else r=l.arraySetter&&a?l.arraySetter(e,o):l.setter(e,o);return r.location=o,r}for(var r={},o=e.getProgramParameter(t,35718),a=0;a<o;++a){var s=e.getActiveUniform(t,a);if(!I(s)){var l=s.name;"[0]"===l.substr(-3)&&(l=l.substr(0,l.length-3));var u=n(t,s);r[l]=u}}return r}function M(e,t){for(var i={},n=e.getProgramParameter(t,35971),r=0;r<n;++r){var o=e.getTransformFeedbackVarying(t,r);i[o.name]={index:r,type:o.type,size:o.size}}return i}function q(e,t,i){for(var n in t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),i.attribs&&(i=i.attribs),i){var r=t[n];if(r){var o=i[n];o.offset?e.bindBufferRange(35982,r.index,o.buffer,o.offset,o.size):e.bindBufferBase(35982,r.index,o.buffer)}}}function j(e,t){for(var i=e.getProgramParameter(t,35718),n=[],r=[],o=0;o<i;++o){r.push(o),n.push({});var a=e.getActiveUniform(t,o);if(I(a))break;n[o].name=a.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(i){var o=i[0],a=i[1];e.getActiveUniforms(t,r,e[o]).forEach((function(e,t){n[t][a]=e}))}));for(var s={},l=e.getProgramParameter(t,35382),u=0;u<l;++u){var c=e.getActiveUniformBlockName(t,u),h={index:u,usedByVertexShader:e.getActiveUniformBlockParameter(t,u,35396),usedByFragmentShader:e.getActiveUniformBlockParameter(t,u,35398),size:e.getActiveUniformBlockParameter(t,u,35392),uniformIndices:e.getActiveUniformBlockParameter(t,u,35395)};h.used=h.usedByVertexShader||h.usedByFragmentShader,s[c]=h}return{blockSpecs:s,uniformData:n}}var R=/\[\d+\]\.$/;function B(e,t,i,n){var r=i.blockSpecs,o=i.uniformData,a=r[n];if(!a)return l("no uniform block object named:",n),{name:n,uniforms:{}};var s=new ArrayBuffer(a.size),u=e.createBuffer(),h=a.index;e.bindBuffer(35345,u),e.uniformBlockBinding(t,a.index,h);var d=n+".";R.test(d)&&(d=d.replace(R,"."));var f={};return a.uniformIndices.forEach((function(e){var t=o[e],i=c[t.type],n=i.Type,r=t.size*i.size,a=t.name;a.substr(0,d.length)===d&&(a=a.substr(d.length)),f[a]=new n(s,t.offset,r/n.BYTES_PER_ELEMENT)})),{name:n,array:s,asFloat:new Float32Array(s),buffer:u,uniforms:f}}function z(e,t,i){var n=(t.uniformBlockSpec||t).blockSpecs[i.name];if(n){var r=n.index;return e.bindBufferRange(35345,r,i.buffer,i.offset||0,i.array.byteLength),!0}return!1}function N(e,t){for(var i=e.uniformSetters||e,n=arguments.length,r=1;r<n;++r){var o=arguments[r];if(Array.isArray(o))for(var a=o.length,s=0;s<a;++s)N(i,o[s]);else for(var l in o){var u=i[l];u&&u(o[l])}}}var H=N;function U(e,t){for(var i={},n=e.getProgramParameter(t,35721),r=0;r<n;++r){var o=e.getActiveAttrib(t,r);if(!I(o)){var a=e.getAttribLocation(t,o.name),s=_[o.type],l=s.setter(e,a,s);l.location=a,i[o.name]=l}}return i}function W(e,t){for(var i in t){var n=e[i];n&&n(t[i])}}function Y(e,t){var i={program:t,uniformSetters:F(e,t),attribSetters:U(e,t)};return n.isWebGL2(e)&&(i.uniformBlockSpec=j(e,t),i.transformFeedbackInfo=M(e,t)),i}t.setUniformsAndBindTextures=H},"./src/textures.js":
/*!*************************!*\
  !*** ./src/textures.js ***!
  \*************************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.setTextureDefaults_=function(e){o.copyExistingProperties(e,u),e.textureColor&&E(e.textureColor)},t.createSampler=F,t.createSamplers=function(e,t){var i={};return Object.keys(t).forEach((function(n){i[n]=F(e,t[n])})),i},t.setSamplerParameters=I,t.createTexture=Z,t.setEmptyTexture=$,t.setTextureFromArray=G,t.loadTextureFromUrl=Y,t.setTextureFromElement=B,t.setTextureFilteringForSize=M,t.setTextureParameters=O,t.setDefaultTextureColor=E,t.createTextures=function(e,t,i){i=i||z;var n=0,r=[],o={},a={};function s(){0===n&&setTimeout((function(){i(r.length?r:void 0,o,a)}),0)}return Object.keys(t).forEach((function(i){var l,u,c=t[i];("string"==typeof(u=c.src)||Array.isArray(u)&&"string"==typeof u[0])&&(l=function(e,t,o){a[i]=o,--n,e&&r.push(e),s()},++n),o[i]=Z(e,c,l)})),s(),o},t.resizeTexture=function(e,t,i,n,r,o){n=n||i.width,r=r||i.height,o=o||i.depth;var a=i.target||3553;e.bindTexture(a,t);var s,l=i.level||0,u=i.internalFormat||i.format||6408,h=b(u),d=i.format||h.format,f=i.src;if(s=f&&(c(f)||Array.isArray(f)&&"number"==typeof f[0])?i.type||_(0,f,h.type):i.type||h.type,34067===a)for(var p=0;p<6;++p)e.texImage2D(34069+p,l,u,n,r,0,d,s,null);else 32879===a||35866===a?e.texImage3D(a,l,u,n,r,o,0,d,s,null):e.texImage2D(a,l,u,n,r,0,d,s,null)},t.canGenerateMipmap=x,t.canFilter=D,t.getNumComponentsForFormat=function(e){var t=g[e];if(!t)throw"unknown format: "+e;return t.numColorComponents},t.getBytesPerElementForInternalFormat=y,t.getFormatAndTypeForInternalFormat=b;var n=s(i(/*! ./utils.js */"./src/utils.js")),r=s(i(/*! ./typedarrays.js */"./src/typedarrays.js")),o=s(i(/*! ./helper.js */"./src/helper.js"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){if(e&&e.__esModule)return e;var t=a();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=n?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=e[r]}}return i.default=e,t&&t.set(e,i),i}var l,u={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},c=r.isArrayBuffer;function h(){return l=l||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null)}var d,f=6407,p=33319,g={},v=g;function m(e){if(!d){var t={6406:{textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},6409:{textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},6410:{textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]}};t[f]={textureFormat:f,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},t[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},t[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[5121]},t[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[5120]},t[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},t[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[5126]},t[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5121]},t[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5120]},t[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5123]},t[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5122]},t[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},t[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5124]},t[33323]={textureFormat:p,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[5121]},t[36757]={textureFormat:p,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[5120]},t[33327]={textureFormat:p,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},t[33328]={textureFormat:p,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[5126]},t[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5121]},t[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5120]},t[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5123]},t[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5122]},t[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5125]},t[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5124]},t[32849]={textureFormat:f,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[5121]},t[35905]={textureFormat:f,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5121]},t[36194]={textureFormat:f,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},t[36758]={textureFormat:f,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5120]},t[35898]={textureFormat:f,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},t[35901]={textureFormat:f,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},t[34843]={textureFormat:f,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},t[34837]={textureFormat:f,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5126]},t[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5121]},t[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5120]},t[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5123]},t[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5122]},t[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5125]},t[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5124]},t[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},t[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},t[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[5120]},t[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},t[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},t[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[33640]},t[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},t[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[5126]},t[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5121]},t[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5120]},t[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[33640]},t[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5123]},t[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5122]},t[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5124]},t[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5125]},t[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},t[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},t[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5126]},t[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},t[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(t).forEach((function(e){var i=t[e];i.bytesPerElementMap={},i.bytesPerElement.forEach((function(e,t){var n=i.type[t];i.bytesPerElementMap[n]=e}))})),d=t}return d[e]}function y(e,t){var i=m(e);if(!i)throw"unknown internal format";var n=i.bytesPerElementMap[t];if(void 0===n)throw"unknown internal format";return n}function b(e){var t=m(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function w(e){return 0==(e&e-1)}function x(e,t,i,r){if(!n.isWebGL2(e))return w(t)&&w(i);var o=m(r);if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function D(e){var t=m(e);if(!t)throw"unknown internal format";return t.textureFilterable}function _(e,t,i){return c(t)?r.getGLTypeForTypedArray(t):i||5121}function S(e,t,i,n,r){if(r%1!=0)throw"can't guess dimensions";if(i||n){if(n){if(!i&&(i=r/n)%1)throw"can't guess dimensions"}else if((n=r/i)%1)throw"can't guess dimensions"}else{var o=Math.sqrt(r/(34067===t?6:1));o%1==0?(i=o,n=o):(i=r,n=1)}return{width:i,height:n}}function E(e){u.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}v[6406]={numColorComponents:1},v[6409]={numColorComponents:1},v[6410]={numColorComponents:2},v[f]={numColorComponents:3},v[6408]={numColorComponents:4},v[6403]={numColorComponents:1},v[36244]={numColorComponents:1},v[p]={numColorComponents:2},v[33320]={numColorComponents:2},v[f]={numColorComponents:3},v[36248]={numColorComponents:3},v[6408]={numColorComponents:4},v[36249]={numColorComponents:4},v[6402]={numColorComponents:1},v[34041]={numColorComponents:2};var C={};function k(e,t){void 0!==t.colorspaceConversion&&(C.colorspaceConversion=e.getParameter(37443),e.pixelStorei(37443,t.colorspaceConversion)),void 0!==t.premultiplyAlpha&&(C.premultiplyAlpha=e.getParameter(37441),e.pixelStorei(37441,t.premultiplyAlpha)),void 0!==t.flipY&&(C.flipY=e.getParameter(37440),e.pixelStorei(37440,t.flipY))}function T(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(37443,C.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(37441,C.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(37440,C.flipY)}function A(e){C.unpackAlignment=e.getParameter(3317),n.isWebGL2(e)&&(C.unpackRowLength=e.getParameter(3314),C.unpackImageHeight=e.getParameter(32878),C.unpackSkipPixels=e.getParameter(3316),C.unpackSkipRows=e.getParameter(3315),C.unpackSkipImages=e.getParameter(32877))}function L(e){e.pixelStorei(3317,C.unpackAlignment),n.isWebGL2(e)&&(e.pixelStorei(3314,C.unpackRowLength),e.pixelStorei(32878,C.unpackImageHeight),e.pixelStorei(3316,C.unpackSkipPixels),e.pixelStorei(3315,C.unpackSkipRows),e.pixelStorei(32877,C.unpackSkipImages))}function P(e,t,i,n){n.minMag&&(i.call(e,t,10241,n.minMag),i.call(e,t,10240,n.minMag)),n.min&&i.call(e,t,10241,n.min),n.mag&&i.call(e,t,10240,n.mag),n.wrap&&(i.call(e,t,10242,n.wrap),i.call(e,t,10243,n.wrap),(32879===t||o.isSampler(e,t))&&i.call(e,t,32882,n.wrap)),n.wrapR&&i.call(e,t,32882,n.wrapR),n.wrapS&&i.call(e,t,10242,n.wrapS),n.wrapT&&i.call(e,t,10243,n.wrapT),n.minLod&&i.call(e,t,33082,n.minLod),n.maxLod&&i.call(e,t,33083,n.maxLod),n.baseLevel&&i.call(e,t,33084,n.baseLevel),n.maxLevel&&i.call(e,t,33085,n.maxLevel)}function O(e,t,i){var n=i.target||3553;e.bindTexture(n,t),P(e,n,e.texParameteri,i)}function I(e,t,i){P(e,t,e.samplerParameteri,i)}function F(e,t){var i=e.createSampler();return I(e,i,t),i}function M(e,t,i,n,r,o){o=o||6408;var a=(i=i||u.textureOptions).target||3553;if(n=n||i.width,r=r||i.height,e.bindTexture(a,t),x(e,n,r,o))e.generateMipmap(a);else{var s=D(o)?9729:9728;e.texParameteri(a,10241,s),e.texParameteri(a,10240,s),e.texParameteri(a,10242,33071),e.texParameteri(a,10243,33071)}}function q(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function j(e,t){return(t=t||{}).cubeFaceOrder||[34069,34070,34071,34072,34073,34074]}function R(e,t){var i=j(0,t).map((function(e,t){return{face:e,ndx:t}}));return i.sort((function(e,t){return e.face-t.face})),i}function B(e,t,i,n){var r=(n=n||u.textureOptions).target||3553,o=n.level||0,a=i.width,s=i.height,l=n.internalFormat||n.format||6408,c=b(l),d=n.format||c.format,f=n.type||c.type;if(k(e,n),e.bindTexture(r,t),34067===r){var p,g,v=i.width,m=i.height;if(v/6===m)p=m,g=[0,0,1,0,2,0,3,0,4,0,5,0];else if(m/6===v)p=v,g=[0,0,0,1,0,2,0,3,0,4,0,5];else if(v/3==m/2)p=v/3,g=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(v/2!=m/3)throw"can't figure out cube map from element: "+(i.src?i.src:i.nodeName);p=v/2,g=[0,0,1,0,0,1,1,1,0,2,1,2]}var y=h();y?(y.canvas.width=p,y.canvas.height=p,a=p,s=p,R(0,n).forEach((function(t){var n=g[2*t.ndx+0]*p,r=g[2*t.ndx+1]*p;y.drawImage(i,n,r,p,p,0,0,p,p),e.texImage2D(t.face,o,l,d,f,y.canvas)})),y.canvas.width=1,y.canvas.height=1):"undefined"!=typeof createImageBitmap&&(a=p,s=p,R(0,n).forEach((function(u){var c=g[2*u.ndx+0]*p,h=g[2*u.ndx+1]*p;e.texImage2D(u.face,o,l,p,p,0,d,f,null),createImageBitmap(i,c,h,p,p,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(i){k(e,n),e.bindTexture(r,t),e.texImage2D(u.face,o,l,d,f,i),T(e,n),q(n)&&M(e,t,n,a,s,l)}))})))}else if(32879===r||35866===r){var w=Math.min(i.width,i.height),x=Math.max(i.width,i.height),D=x/w;if(D%1!=0)throw"can not compute 3D dimensions of element";var _=i.width===x?1:0,S=i.height===x?1:0;A(e),e.pixelStorei(3317,1),e.pixelStorei(3314,i.width),e.pixelStorei(32878,0),e.pixelStorei(32877,0),e.texImage3D(r,o,l,w,w,w,0,d,f,null);for(var E=0;E<D;++E){var C=E*w*_,P=E*w*S;e.pixelStorei(3316,C),e.pixelStorei(3315,P),e.texSubImage3D(r,o,0,0,E,w,w,1,d,f,i)}L(e)}else e.texImage2D(r,o,l,d,f,i);T(e,n),q(n)&&M(e,t,n,a,s,l),O(e,t,n)}function z(){}function N(e,t){return void 0!==t||function(e){if("undefined"!=typeof document){var t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}var i=new URL(location.href).origin;return new URL(e,location.href).origin===i}(e)?t:"anonymous"}function H(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function U(e,t,i){return H(e)?(setTimeout((function(){i(null,e)})),e):function(e,t,i){var n;if(i=i||z,t=void 0!==t?t:u.crossOrigin,t=N(e,t),"undefined"!=typeof Image){n=new Image,void 0!==t&&(n.crossOrigin=t);var r=function(){n.removeEventListener("error",a),n.removeEventListener("load",s),n=null},a=function(){var t="couldn't load image: "+e;o.error(t),i(t,n),r()},s=function(){i(null,n),r()};return n.addEventListener("error",a),n.addEventListener("load",s),n.src=e,n}if("undefined"!=typeof ImageBitmap){var l,c,h=function(){i(l,c)},d={};t&&(d.mode="cors"),fetch(e,d).then((function(e){if(!e.ok)throw e;return e.blob()})).then((function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(e){c=e,setTimeout(h)})).catch((function(e){l=e,setTimeout(h)})),n=null}return n}(e,t,i)}function W(e,t,i){var n=(i=i||u.textureOptions).target||3553;if(e.bindTexture(n,t),!1!==i.color){var r=function(e){return e=e||u.textureColor,c(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(i.color);if(34067===n)for(var o=0;o<6;++o)e.texImage2D(34069+o,0,6408,1,1,0,6408,5121,r);else 32879===n||35866===n?e.texImage3D(n,0,6408,1,1,1,0,6408,5121,r):e.texImage2D(n,0,6408,1,1,0,6408,5121,r)}}function Y(e,t,i,n){return n=n||z,i=i||u.textureOptions,W(e,t,i),U((i=Object.assign({},i)).src,i.crossOrigin,(function(r,o){r?n(r,t,o):(B(e,t,o,i),n(null,t,o))}))}function V(e,t,i,n){n=n||z;var r=i.src;if(6!==r.length)throw"there must be 6 urls for a cubemap";var o=i.level||0,a=i.internalFormat||i.format||6408,s=b(a),l=i.format||s.format,u=i.type||5121,c=i.target||3553;if(34067!==c)throw"target must be TEXTURE_CUBE_MAP";W(e,t,i),i=Object.assign({},i);var h,d=6,f=[],p=j(0,i);h=r.map((function(r,s){return U(r,i.crossOrigin,(g=p[s],function(r,s){--d,r?f.push(r):s.width!==s.height?f.push("cubemap face img is not a square: "+s.src):(k(e,i),e.bindTexture(c,t),5===d?j().forEach((function(t){e.texImage2D(t,o,a,l,u,s)})):e.texImage2D(g,o,a,l,u,s),T(e,i),q(i)&&e.generateMipmap(c)),0===d&&n(f.length?f:void 0,t,h)}));var g}))}function X(e,t,i,n){n=n||z;var r=i.src,o=i.internalFormat||i.format||6408,a=b(o),s=i.format||a.format,l=i.type||5121,u=i.target||35866;if(32879!==u&&35866!==u)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";W(e,t,i),i=Object.assign({},i);var c,d=r.length,f=[],p=i.level||0,g=i.width,v=i.height,m=r.length,y=!0;c=r.map((function(r,a){return U(r,i.crossOrigin,(b=a,function(r,a){if(--d,r)f.push(r);else{if(k(e,i),e.bindTexture(u,t),y){y=!1,g=i.width||a.width,v=i.height||a.height,e.texImage3D(u,p,o,g,v,m,0,s,l,null);for(var w=0;w<m;++w)e.texSubImage3D(u,p,0,0,w,g,v,1,s,l,a)}else{var x,D=a;a.width===g&&a.height===v||(D=(x=h()).canvas,x.canvas.width=g,x.canvas.height=v,x.drawImage(a,0,0,g,v)),e.texSubImage3D(u,p,0,0,b,g,v,1,s,l,D),x&&D===x.canvas&&(x.canvas.width=0,x.canvas.height=0)}T(e,i),q(i)&&e.generateMipmap(u)}0===d&&n(f.length?f:void 0,t,c)}));var b}))}function G(e,t,i,o){var a=(o=o||u.textureOptions).target||3553;e.bindTexture(a,t);var s=o.width,l=o.height,h=o.depth,d=o.level||0,f=o.internalFormat||o.format||6408,p=b(f),g=o.format||p.format,v=o.type||_(0,i,p.type);if(c(i))i instanceof Uint8ClampedArray&&(i=new Uint8Array(i.buffer));else{var m=r.getTypedArrayTypeForGLType(v);i=new m(i)}var w,x=y(f,v),D=i.byteLength/x;if(D%1)throw"length wrong size for format: "+n.glEnumToString(e,g);if(32879===a||35866===a)if(s||l||h)!s||l&&h?!l||s&&h?(w=S(0,a,s,l,D/h),s=w.width,l=w.height):(w=S(0,a,s,h,D/l),s=w.width,h=w.height):(w=S(0,a,l,h,D/s),l=w.width,h=w.height);else{var E=Math.cbrt(D);if(E%1!=0)throw"can't guess cube size of array of numElements: "+D;s=E,l=E,h=E}else w=S(0,a,s,l,D),s=w.width,l=w.height;if(A(e),e.pixelStorei(3317,o.unpackAlignment||1),k(e,o),34067===a){var C=D/6*(x/i.BYTES_PER_ELEMENT);R(0,o).forEach((function(t){var n=C*t.ndx,r=i.subarray(n,n+C);e.texImage2D(t.face,d,f,s,l,0,g,v,r)}))}else 32879===a||35866===a?e.texImage3D(a,d,f,s,l,h,0,g,v,i):e.texImage2D(a,d,f,s,l,0,g,v,i);return T(e,o),L(e),{width:s,height:l,depth:h,type:v}}function $(e,t,i){var n=i.target||3553;e.bindTexture(n,t);var r=i.level||0,o=i.internalFormat||i.format||6408,a=b(o),s=i.format||a.format,l=i.type||a.type;if(k(e,i),34067===n)for(var u=0;u<6;++u)e.texImage2D(34069+u,r,o,i.width,i.height,0,s,l,null);else 32879===n||35866===n?e.texImage3D(n,r,o,i.width,i.height,i.depth,0,s,l,null):e.texImage2D(n,r,o,i.width,i.height,0,s,l,null);T(e,i)}function Z(e,t,i){i=i||z,t=t||u.textureOptions;var n=e.createTexture(),r=t.target||3553,o=t.width||1,a=t.height||1,s=t.internalFormat||6408;e.bindTexture(r,n),34067===r&&(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071));var l=t.src;if(l)if("function"==typeof l&&(l=l(e,t)),"string"==typeof l)Y(e,n,t,i);else if(c(l)||Array.isArray(l)&&("number"==typeof l[0]||Array.isArray(l[0])||c(l[0]))){var h=G(e,n,l,t);o=h.width,a=h.height}else if(Array.isArray(l)&&("string"==typeof l[0]||H(l[0])))34067===r?V(e,n,t,i):X(e,n,t,i);else{if(!H(l))throw"unsupported src type";B(e,n,l,t),o=l.width,a=l.height}else $(e,n,t);return q(t)&&M(e,n,t,o,a,s),O(e,n,t),n}},"./src/twgl-base.js":
/*!**************************!*\
  !*** ./src/twgl-base.js ***!
  \**************************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0;var n=i(/*! ./twgl.js */"./src/twgl.js");Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=n[e])}))},"./src/twgl.js":
/*!*********************!*\
  !*** ./src/twgl.js ***!
  \*********************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0;var n={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0,attributes:!0,textures:!0,utils:!0,draw:!0,framebuffers:!0,programs:!0,typedarrays:!0,vertexArrays:!0};t.addExtensionsToContext=b,t.getContext=function(e,t){return function(e,t){for(var i=["webgl2","webgl","experimental-webgl"],n=null,r=0;r<i.length;++r)if(n=e.getContext(i[r],t)){g.addExtensionsToContext&&b(n);break}return n}(e,t)},t.getWebGLContext=function(e,t){return function(e,t){for(var i=["webgl","experimental-webgl"],n=null,r=0;r<i.length;++r)if(n=e.getContext(i[r],t)){g.addExtensionsToContext&&b(n);break}return n}(e,t)},t.resizeCanvasToDisplaySize=function(e,t){t=t||1,t=Math.max(0,t);var i=e.clientWidth*t|0,n=e.clientHeight*t|0;return(e.width!==i||e.height!==n)&&(e.width=i,e.height=n,!0)},t.setDefaults=function(e){a.copyExistingProperties(e,g),r.setAttributeDefaults_(e),o.setTextureDefaults_(e)},t.vertexArrays=t.typedarrays=t.programs=t.framebuffers=t.draw=t.utils=t.textures=t.attributes=void 0;var r=p(i(/*! ./attributes.js */"./src/attributes.js"));t.attributes=r,Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=r[e]))}));var o=p(i(/*! ./textures.js */"./src/textures.js"));t.textures=o,Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=o[e]))}));var a=p(i(/*! ./helper.js */"./src/helper.js")),s=p(i(/*! ./utils.js */"./src/utils.js"));t.utils=s,Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=s[e]))}));var l=p(i(/*! ./draw.js */"./src/draw.js"));t.draw=l,Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=l[e]))}));var u=p(i(/*! ./framebuffers.js */"./src/framebuffers.js"));t.framebuffers=u,Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=u[e]))}));var c=p(i(/*! ./programs.js */"./src/programs.js"));t.programs=c,Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=c[e]))}));var h=p(i(/*! ./typedarrays.js */"./src/typedarrays.js"));t.typedarrays=h,Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=h[e]))}));var d=p(i(/*! ./vertex-arrays.js */"./src/vertex-arrays.js"));function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e){if(e&&e.__esModule)return e;var t=f();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=n?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=e[r]}}return i.default=e,t&&t.set(e,i),i}t.vertexArrays=d,Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(t[e]=d[e]))}));var g={addExtensionsToContext:!0},v=/^(.*?)_/;function m(e,t){s.glEnumToString(e,0);var i=e.getExtension(t);if(i){var n={},r=v.exec(t)[1],o="_"+r;for(var l in i){var u=i[l],c="function"==typeof u,h=c?r:o,d=l;l.endsWith(h)&&(d=l.substring(0,l.length-h.length)),void 0!==e[d]?c||e[d]===u||a.warn(d,e[d],u,l):c?e[d]=function(e){return function(){return e.apply(i,arguments)}}(u):(e[d]=u,n[d]=u)}n.constructor={name:i.constructor.name},s.glEnumToString(n,0)}return i}var y=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function b(e){for(var t=0;t<y.length;++t)m(e,y[t])}},"./src/typedarrays.js":
/*!****************************!*\
  !*** ./src/typedarrays.js ***!
  \****************************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.getGLTypeForTypedArray=function(e){if(e instanceof Int8Array)return 5120;if(e instanceof Uint8Array)return 5121;if(e instanceof Uint8ClampedArray)return 5121;if(e instanceof Int16Array)return 5122;if(e instanceof Uint16Array)return 5123;if(e instanceof Int32Array)return 5124;if(e instanceof Uint32Array)return 5125;if(e instanceof Float32Array)return 5126;throw new Error("unsupported typed array type")},t.getGLTypeForTypedArrayType=function(e){if(e===Int8Array)return 5120;if(e===Uint8Array)return 5121;if(e===Uint8ClampedArray)return 5121;if(e===Int16Array)return 5122;if(e===Uint16Array)return 5123;if(e===Int32Array)return 5124;if(e===Uint32Array)return 5125;if(e===Float32Array)return 5126;throw new Error("unsupported typed array type")},t.getTypedArrayTypeForGLType=function(e){var t=n[e];if(!t)throw new Error("unknown gl type");return t},t.isArrayBuffer=void 0;var n={},r=n;r[5120]=Int8Array,r[5121]=Uint8Array,r[5122]=Int16Array,r[5123]=Uint16Array,r[5124]=Int32Array,r[5125]=Uint32Array,r[5126]=Float32Array,r[32819]=Uint16Array,r[32820]=Uint16Array,r[33635]=Uint16Array,r[5131]=Uint16Array,r[33640]=Uint32Array,r[35899]=Uint32Array,r[35902]=Uint32Array,r[36269]=Uint32Array,r[34042]=Uint32Array;var o="undefined"!=typeof SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};t.isArrayBuffer=o},"./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.isWebGL1=function(e){return!e.texStorage2D},t.isWebGL2=function(e){return!!e.texStorage2D},t.glEnumToString=void 0;var n,r,o=(n={},r={},function(e,t){return function(e){var t=e.constructor.name;if(!n[t]){for(var i in e)if("number"==typeof e[i]){var o=r[e[i]];r[e[i]]=o?"".concat(o," | ").concat(i):i}n[t]=!0}}(e),r[t]||"0x"+t.toString(16)});t.glEnumToString=o},"./src/vertex-arrays.js":
/*!******************************!*\
  !*** ./src/vertex-arrays.js ***!
  \******************************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.createVertexArrayInfo=function(e,t,i){var r=e.createVertexArray();return e.bindVertexArray(r),t.length||(t=[t]),t.forEach((function(t){n.setBuffersAndAttributes(e,t,i)})),e.bindVertexArray(null),{numElements:i.numElements,elementType:i.elementType,vertexArrayObject:r}},t.createVAOAndSetAttributes=o,t.createVAOFromBufferInfo=function(e,t,i){return o(e,t.attribSetters||t,i.attribs,i.indices)};var n=function(e){if(e&&e.__esModule)return e;var t=r();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}}return i.default=e,t&&t.set(e,i),i}(i(/*! ./programs.js */"./src/programs.js"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function o(e,t,i,r){var o=e.createVertexArray();return e.bindVertexArray(o),n.setAttributes(t,i),r&&e.bindBuffer(34963,r),e.bindVertexArray(null),o}}})},e.exports=n()},function(e,t,i){var n=i(28)("wks"),r=i(18),o=i(3).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=n},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t,i){e.exports=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t,i){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return i&&o(r,i.prototype),r}).apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return a(e,arguments,r(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,e)})(e)}function l(e,t){try{var i=e()}catch(e){return t(e)}return i&&i.then?i.then(void 0,t):i}var u;"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(e){e[e.off=0]="off",e[e.error=1]="error",e[e.warning=2]="warning",e[e.info=3]="info",e[e.debug=4]="debug"}(u||(u={}));var c=u.off,h=function(){function e(e){this.t=e}e.getLevel=function(){return c},e.setLevel=function(e){return c=u[e]};var t=e.prototype;return t.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.i(console.error,u.error,t)},t.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.i(console.warn,u.warning,t)},t.info=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.i(console.info,u.info,t)},t.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.i(console.log,u.debug,t)},t.i=function(t,i,n){i<=e.getLevel()&&t.apply(console,["["+this.t+"] "].concat(n))},e}(),d=E,f=b,p=y,g=w,v=S,m=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function y(e,t){for(var i,n=[],r=0,o=0,a="",s=t&&t.delimiter||"/",l=t&&t.whitelist||void 0,u=!1;null!==(i=m.exec(e));){var c=i[0],h=i[1],d=i.index;if(a+=e.slice(o,d),o=d+c.length,h)a+=h[1],u=!0;else{var f="",p=i[2],g=i[3],v=i[4],y=i[5];if(!u&&a.length){var b=a.length-1,w=a[b];(!l||l.indexOf(w)>-1)&&(f=w,a=a.slice(0,b))}a&&(n.push(a),a="",u=!1);var _=g||v,S=f||s;n.push({name:p||r++,prefix:f,delimiter:S,optional:"?"===y||"*"===y,repeat:"+"===y||"*"===y,pattern:_?D(_):"[^"+x(S===s?S:S+s)+"]+?"})}}return(a||o<e.length)&&n.push(a+e.substr(o)),n}function b(e,t){return function(i,n){var r=e.exec(i);if(!r)return!1;for(var o=r[0],a=r.index,s={},l=n&&n.decode||decodeURIComponent,u=1;u<r.length;u++)if(void 0!==r[u]){var c=t[u-1];s[c.name]=c.repeat?r[u].split(c.delimiter).map((function(e){return l(e,c)})):l(r[u],c)}return{path:o,index:a,params:s}}}function w(e,t){for(var i=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(i[n]=new RegExp("^(?:"+e[n].pattern+")$",_(t)));return function(t,n){for(var r="",o=n&&n.encode||encodeURIComponent,a=!n||!1!==n.validate,s=0;s<e.length;s++){var l=e[s];if("string"!=typeof l){var u,c=t?t[l.name]:void 0;if(Array.isArray(c)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but got array');if(0===c.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<c.length;h++){if(u=o(c[h],l),a&&!i[s].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'"');r+=(0===h?l.prefix:l.delimiter)+u}}else if("string"!=typeof c&&"number"!=typeof c&&"boolean"!=typeof c){if(!l.optional)throw new TypeError('Expected "'+l.name+'" to be '+(l.repeat?"an array":"a string"))}else{if(u=o(String(c),l),a&&!i[s].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+u+'"');r+=l.prefix+u}}else r+=l}return r}}function x(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function D(e){return e.replace(/([=!:$/()])/g,"\\$1")}function _(e){return e&&e.sensitive?"":"i"}function S(e,t,i){for(var n=(i=i||{}).strict,r=!1!==i.start,o=!1!==i.end,a=i.delimiter||"/",s=[].concat(i.endsWith||[]).map(x).concat("$").join("|"),l=r?"^":"",u=0;u<e.length;u++){var c=e[u];if("string"==typeof c)l+=x(c);else{var h=c.repeat?"(?:"+c.pattern+")(?:"+x(c.delimiter)+"(?:"+c.pattern+"))*":c.pattern;t&&t.push(c),l+=c.optional?c.prefix?"(?:"+x(c.prefix)+"("+h+"))?":"("+h+")?":x(c.prefix)+"("+h+")"}}if(o)n||(l+="(?:"+x(a)+")?"),l+="$"===s?"$":"(?="+s+")";else{var d=e[e.length-1],f="string"==typeof d?d[d.length-1]===a:void 0===d;n||(l+="(?:"+x(a)+"(?="+s+"))?"),f||(l+="(?="+x(a)+"|"+s+")")}return new RegExp(l,_(i))}function E(e,t,i){return e instanceof RegExp?function(e,t){if(!t)return e;var i=e.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,i){for(var n=[],r=0;r<e.length;r++)n.push(E(e[r],t,i).source);return new RegExp("(?:"+n.join("|")+")",_(i))}(e,t,i):function(e,t,i){return S(y(e,i),t,i)}(e,t,i)}d.match=function(e,t){var i=[];return b(E(e,i,t),i)},d.regexpToFunction=f,d.parse=p,d.compile=function(e,t){return w(y(e,t),t)},d.tokensToFunction=g,d.tokensToRegExp=v;var C={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},k=new(function(){function e(){this.o=C,this.u=new DOMParser}var t=e.prototype;return t.toString=function(e){return e.outerHTML},t.toDocument=function(e){return this.u.parseFromString(e,"text/html")},t.toElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t},t.getHtml=function(e){return void 0===e&&(e=document),this.toString(e.documentElement)},t.getWrapper=function(e){return void 0===e&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},t.getContainer=function(e){return void 0===e&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},t.removeContainer=function(e){document.body.contains(e)&&e.parentNode.removeChild(e)},t.addContainer=function(e,t){var i=this.getContainer();i?this.s(e,i):t.appendChild(e)},t.getNamespace=function(e){void 0===e&&(e=document);var t=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return t?t.getAttribute(this.o.prefix+"-"+this.o.namespace):null},t.getHref=function(e){if(e.tagName&&"a"===e.tagName.toLowerCase()){if("string"==typeof e.href)return e.href;var t=e.getAttribute("href")||e.getAttribute("xlink:href");if(t)return this.resolveUrl(t.baseVal||t)}return null},t.resolveUrl=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t.length;if(0===n)throw new Error("resolveUrl requires at least one argument; got none.");var r=document.createElement("base");if(r.href=arguments[0],1===n)return r.href;var o=document.getElementsByTagName("head")[0];o.insertBefore(r,o.firstChild);for(var a,s=document.createElement("a"),l=1;l<n;l++)s.href=arguments[l],r.href=a=s.href;return o.removeChild(r),a},t.s=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},e}()),T=new(function(){function e(){this.h=[],this.v=-1}var n=e.prototype;return n.init=function(e,t){this.l="barba";var i={ns:t,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(i),this.v=0;var n={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(n,"",e)},n.change=function(e,t,i){if(i&&i.state){var n=i.state,r=n.index;t=this.m(this.v-r),this.replace(n.states),this.v=r}else this.add(e,t);return t},n.add=function(e,t){var i=this.size,n=this.p(t),r={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(r),this.v=i;var o={from:this.l,index:i,states:[].concat(this.h)};switch(n){case"push":window.history&&window.history.pushState(o,"",e);break;case"replace":window.history&&window.history.replaceState(o,"",e)}},n.update=function(e,t){var n=t||this.v,r=i({},this.get(n),{},e);this.set(n,r)},n.remove=function(e){e?this.h.splice(e,1):this.h.pop(),this.v--},n.clear=function(){this.h=[],this.v=-1},n.replace=function(e){this.h=e},n.get=function(e){return this.h[e]},n.set=function(e,t){return this.h[e]=t},n.p=function(e){var t="push",i=e,n=C.prefix+"-"+C.history;return i.hasAttribute&&i.hasAttribute(n)&&(t=i.getAttribute(n)),t},n.m=function(e){return Math.abs(e)>1?e>0?"forward":"back":0===e?"popstate":e>0?"back":"forward"},t(e,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),e}()),A=function(e,t){try{var i=function(){if(!t.next.html)return Promise.resolve(e).then((function(e){var i=t.next;if(e){var n=k.toElement(e);i.namespace=k.getNamespace(n),i.container=k.getContainer(n),i.html=e,T.update({ns:i.namespace});var r=k.toDocument(e);document.title=r.title}}))}();return Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},L=d,P={__proto__:null,update:A,nextTick:function(){return new Promise((function(e){window.requestAnimationFrame(e)}))},pathToRegexp:L},O=function(){return window.location.origin},I=function(e){return void 0===e&&(e=window.location.href),F(e).port},F=function(e){var t,i=e.match(/:\d+/);if(null===i)/^http/.test(e)&&(t=80),/^https/.test(e)&&(t=443);else{var n=i[0].substring(1);t=parseInt(n,10)}var r,o=e.replace(O(),""),a={},s=o.indexOf("#");s>=0&&(r=o.slice(s+1),o=o.slice(0,s));var l=o.indexOf("?");return l>=0&&(a=M(o.slice(l+1)),o=o.slice(0,l)),{hash:r,path:o,port:t,query:a}},M=function(e){return e.split("&").reduce((function(e,t){var i=t.split("=");return e[i[0]]=i[1],e}),{})},q=function(e){return void 0===e&&(e=window.location.href),e.replace(/(\/#.*|\/|#.*)$/,"")},j={__proto__:null,getHref:function(){return window.location.href},getOrigin:O,getPort:I,getPath:function(e){return void 0===e&&(e=window.location.href),F(e).path},parse:F,parseQuery:M,clean:q};function R(e,t,i){return void 0===t&&(t=2e3),new Promise((function(n,r){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)if(200===o.status)n(o.responseText);else if(o.status){var t={status:o.status,statusText:o.statusText};i(e,t),r(t)}},o.ontimeout=function(){var n=new Error("Timeout error ["+t+"]");i(e,n),r(n)},o.onerror=function(){var t=new Error("Fetch error");i(e,t),r(t)},o.open("GET",e),o.timeout=t,o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),o.setRequestHeader("x-barba","yes"),o.send()}))}var B=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then};function z(e,t){return void 0===t&&(t={}),function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=!1,a=new Promise((function(i,r){t.async=function(){return o=!0,function(e,t){e?r(e):i(t)}};var a=e.apply(t,n);o||(B(a)?a.then(i,r):i(a))}));return a}}var N=new(function(e){function t(){var t;return(t=e.call(this)||this).logger=new h("@barba/core"),t.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],t.registered=new Map,t.init(),t}n(t,e);var i=t.prototype;return i.init=function(){var e=this;this.registered.clear(),this.all.forEach((function(t){e[t]||(e[t]=function(i,n){e.registered.has(t)||e.registered.set(t,new Set),e.registered.get(t).add({ctx:n||{},fn:i})})}))},i.do=function(e){for(var t=this,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if(this.registered.has(e)){var o=Promise.resolve();return this.registered.get(e).forEach((function(e){o=o.then((function(){return z(e.fn,e.ctx).apply(void 0,n)}))})),o.catch((function(i){t.logger.debug("Hook error ["+e+"]"),t.logger.error(i)}))}return Promise.resolve()},i.clear=function(){var e=this;this.all.forEach((function(t){delete e[t]})),this.init()},i.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var e=[];this.registered.forEach((function(t,i){return e.push(i)})),this.logger.info("Registered hooks: "+e.join(","))},t}((function(){}))),H=function(){function e(e){if(this.P=[],"boolean"==typeof e)this.g=e;else{var t=Array.isArray(e)?e:[e];this.P=t.map((function(e){return L(e)}))}}return e.prototype.checkHref=function(e){if("boolean"==typeof this.g)return this.g;var t=F(e).path;return this.P.some((function(e){return null!==e.exec(t)}))},e}(),U=function(e){function t(t){var i;return(i=e.call(this,t)||this).k=new Map,i}n(t,e);var r=t.prototype;return r.set=function(e,t,i){return this.k.set(e,{action:i,request:t}),{action:i,request:t}},r.get=function(e){return this.k.get(e)},r.getRequest=function(e){return this.k.get(e).request},r.getAction=function(e){return this.k.get(e).action},r.has=function(e){return!this.checkHref(e)&&this.k.has(e)},r.delete=function(e){return this.k.delete(e)},r.update=function(e,t){var n=i({},this.k.get(e),{},t);return this.k.set(e,n),n},t}(H),W=function(){return!window.history.pushState},Y=function(e){return!e.el||!e.href},V=function(e){var t=e.event;return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},X=function(e){var t=e.el;return t.hasAttribute("target")&&"_blank"===t.target},G=function(e){var t=e.el;return void 0!==t.protocol&&window.location.protocol!==t.protocol||void 0!==t.hostname&&window.location.hostname!==t.hostname},$=function(e){var t=e.el;return void 0!==t.port&&I()!==I(t.href)},Z=function(e){var t=e.el;return t.getAttribute&&"string"==typeof t.getAttribute("download")},K=function(e){return e.el.hasAttribute(C.prefix+"-"+C.prevent)},J=function(e){return Boolean(e.el.closest("["+C.prefix+"-"+C.prevent+'="all"]'))},Q=function(e){var t=e.href;return q(t)===q()&&I(t)===I()},ee=function(e){function t(t){var i;return(i=e.call(this,t)||this).suite=[],i.tests=new Map,i.init(),i}n(t,e);var i=t.prototype;return i.init=function(){this.add("pushState",W),this.add("exists",Y),this.add("newTab",V),this.add("blank",X),this.add("corsDomain",G),this.add("corsPort",$),this.add("download",Z),this.add("preventSelf",K),this.add("preventAll",J),this.add("sameUrl",Q,!1)},i.add=function(e,t,i){void 0===i&&(i=!0),this.tests.set(e,t),i&&this.suite.push(e)},i.run=function(e,t,i,n){return this.tests.get(e)({el:t,event:i,href:n})},i.checkLink=function(e,t,i){var n=this;return this.suite.some((function(r){return n.run(r,e,t,i)}))},t}(H),te=function(e){function t(i,n){var r;void 0===n&&(n="Barba error");for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];return(r=e.call.apply(e,[this].concat(a))||this).error=i,r.label=n,Error.captureStackTrace&&Error.captureStackTrace(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),t),r.name="BarbaError",r}return n(t,e),t}(s(Error)),ie=function(){function e(e){void 0===e&&(e=[]),this.logger=new h("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}var t=e.prototype;return t.add=function(e,t){switch(e){case"rule":this.A.splice(t.position||0,0,t.value);break;case"transition":default:this.all.push(t)}this.update()},t.resolve=function(e,t){var i=this;void 0===t&&(t={});var n=t.once?this.once:this.page;n=n.filter(t.self?function(e){return e.name&&"self"===e.name}:function(e){return!e.name||"self"!==e.name});var r=new Map,o=n.find((function(n){var o=!0,a={};return!(!t.self||"self"!==n.name)||(i.A.reverse().forEach((function(t){o&&(o=i.R(n,t,e,a),n.from&&n.to&&(o=i.R(n,t,e,a,"from")&&i.R(n,t,e,a,"to")),n.from&&!n.to&&(o=i.R(n,t,e,a,"from")),!n.from&&n.to&&(o=i.R(n,t,e,a,"to")))})),r.set(n,a),o)})),a=r.get(o),s=[];if(s.push(t.once?"once":"page"),t.self&&s.push("self"),a){var l,u=[o];Object.keys(a).length>0&&u.push(a),(l=this.logger).info.apply(l,["Transition found ["+s.join(",")+"]"].concat(u))}else this.logger.info("No transition found ["+s.join(",")+"]");return o},t.update=function(){var e=this;this.all=this.all.map((function(t){return e.T(t)})).sort((function(e,t){return e.priority-t.priority})).reverse().map((function(e){return delete e.priority,e})),this.page=this.all.filter((function(e){return void 0!==e.leave||void 0!==e.enter})),this.once=this.all.filter((function(e){return void 0!==e.once}))},t.R=function(e,t,i,n,r){var o=!0,a=!1,s=e,l=t.name,u=l,c=l,h=l,d=r?s[r]:s,f="to"===r?i.next:i.current;if(r?d&&d[l]:d[l]){switch(t.type){case"strings":default:var p=Array.isArray(d[u])?d[u]:[d[u]];f[u]&&-1!==p.indexOf(f[u])&&(a=!0),-1===p.indexOf(f[u])&&(o=!1);break;case"object":var g=Array.isArray(d[c])?d[c]:[d[c]];f[c]?(f[c].name&&-1!==g.indexOf(f[c].name)&&(a=!0),-1===g.indexOf(f[c].name)&&(o=!1)):o=!1;break;case"function":d[h](i)?a=!0:o=!1}a&&(r?(n[r]=n[r]||{},n[r][l]=s[r][l]):n[l]=s[l])}return o},t.O=function(e,t,i){var n=0;return(e[t]||e.from&&e.from[t]||e.to&&e.to[t])&&(n+=Math.pow(10,i),e.from&&e.from[t]&&(n+=1),e.to&&e.to[t]&&(n+=2)),n},t.T=function(e){var t=this;e.priority=0;var i=0;return this.A.forEach((function(n,r){i+=t.O(e,n.name,r+1)})),e.priority=i,e},e}(),ne=function(){function e(e){void 0===e&&(e=[]),this.logger=new h("@barba/core"),this.S=!1,this.store=new ie(e)}var i=e.prototype;return i.get=function(e,t){return this.store.resolve(e,t)},i.doOnce=function(e){var t=e.data,i=e.transition;try{var n=function(){r.S=!1},r=this,o=i||{};r.S=!0;var a=l((function(){return Promise.resolve(r.j("beforeOnce",t,o)).then((function(){return Promise.resolve(r.once(t,o)).then((function(){return Promise.resolve(r.j("afterOnce",t,o)).then((function(){}))}))}))}),(function(e){r.S=!1,r.logger.debug("Transition error [before/after/once]"),r.logger.error(e)}));return Promise.resolve(a&&a.then?a.then(n):n())}catch(e){return Promise.reject(e)}},i.doPage=function(e){var t=e.data,i=e.transition,n=e.page,r=e.wrapper;try{var o=function(e){if(a)return e;s.S=!1},a=!1,s=this,u=i||{},c=!0===u.sync||!1;s.S=!0;var h=l((function(){function e(){return Promise.resolve(s.j("before",t,u)).then((function(){function e(e){return Promise.resolve(s.remove(t)).then((function(){return Promise.resolve(s.j("after",t,u)).then((function(){}))}))}var i=function(){if(c)return l((function(){return Promise.resolve(s.add(t,r)).then((function(){return Promise.resolve(s.j("beforeLeave",t,u)).then((function(){return Promise.resolve(s.j("beforeEnter",t,u)).then((function(){return Promise.resolve(Promise.all([s.leave(t,u),s.enter(t,u)])).then((function(){return Promise.resolve(s.j("afterLeave",t,u)).then((function(){return Promise.resolve(s.j("afterEnter",t,u)).then((function(){}))}))}))}))}))}))}),(function(e){if(s.M(e))throw new te(e,"Transition error [sync]")}));var e=function(e){return l((function(){var e=function(){if(!1!==i)return Promise.resolve(s.add(t,r)).then((function(){return Promise.resolve(s.j("beforeEnter",t,u)).then((function(){return Promise.resolve(s.enter(t,u,i)).then((function(){return Promise.resolve(s.j("afterEnter",t,u)).then((function(){}))}))}))}))}();if(e&&e.then)return e.then((function(){}))}),(function(e){if(s.M(e))throw new te(e,"Transition error [before/after/enter]")}))},i=!1,o=l((function(){return Promise.resolve(s.j("beforeLeave",t,u)).then((function(){return Promise.resolve(Promise.all([s.leave(t,u),A(n,t)]).then((function(e){return e[0]}))).then((function(e){return i=e,Promise.resolve(s.j("afterLeave",t,u)).then((function(){}))}))}))}),(function(e){if(s.M(e))throw new te(e,"Transition error [before/after/leave]")}));return o&&o.then?o.then(e):e()}();return i&&i.then?i.then(e):e()}))}var i=function(){if(c)return Promise.resolve(A(n,t)).then((function(){}))}();return i&&i.then?i.then(e):e()}),(function(e){if(s.S=!1,e.name&&"BarbaError"===e.name)throw s.logger.debug(e.label),s.logger.error(e.error),e;throw s.logger.debug("Transition error [page]"),s.logger.error(e),e}));return Promise.resolve(h&&h.then?h.then(o):o(h))}catch(e){return Promise.reject(e)}},i.once=function(e,t){try{return Promise.resolve(N.do("once",e,t)).then((function(){return t.once?z(t.once,t)(e):Promise.resolve()}))}catch(e){return Promise.reject(e)}},i.leave=function(e,t){try{return Promise.resolve(N.do("leave",e,t)).then((function(){return t.leave?z(t.leave,t)(e):Promise.resolve()}))}catch(e){return Promise.reject(e)}},i.enter=function(e,t,i){try{return Promise.resolve(N.do("enter",e,t)).then((function(){return t.enter?z(t.enter,t)(e,i):Promise.resolve()}))}catch(e){return Promise.reject(e)}},i.add=function(e,t){try{return k.addContainer(e.next.container,t),N.do("nextAdded",e),Promise.resolve()}catch(e){return Promise.reject(e)}},i.remove=function(e){try{return k.removeContainer(e.current.container),N.do("currentRemoved",e),Promise.resolve()}catch(e){return Promise.reject(e)}},i.M=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},i.j=function(e,t,i){try{return Promise.resolve(N.do(e,t,i)).then((function(){return i[e]?z(i[e],i)(t):Promise.resolve()}))}catch(e){return Promise.reject(e)}},t(e,[{key:"isRunning",get:function(){return this.S},set:function(e){this.S=e}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some((function(e){return"self"===e.name}))}},{key:"shouldWait",get:function(){return this.store.all.some((function(e){return e.to&&!e.to.route||e.sync}))}}]),e}(),re=function(){function e(e){var t=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==e.length&&(e.forEach((function(e){t.byNamespace.set(e.namespace,e)})),this.names.forEach((function(e){N[e](t.L(e))})))}return e.prototype.L=function(e){var t=this;return function(i){var n=e.match(/enter/i)?i.next:i.current,r=t.byNamespace.get(n.namespace);return r&&r[e]?z(r[e],r)(i):Promise.resolve()}},e}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var oe={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}};return new(function(){function e(){this.version="2.9.7",this.schemaPage=oe,this.Logger=h,this.logger=new h("@barba/core"),this.plugins=[],this.hooks=N,this.dom=k,this.helpers=P,this.history=T,this.request=R,this.url=j}var n=e.prototype;return n.use=function(e,t){var i=this.plugins;i.indexOf(e)>-1?this.logger.warn("Plugin ["+e.name+"] already installed."):"function"==typeof e.install?(e.install(this,t),i.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},n.init=function(e){var t=void 0===e?{}:e,n=t.transitions,r=void 0===n?[]:n,o=t.views,a=void 0===o?[]:o,s=t.schema,l=void 0===s?C:s,u=t.requestError,c=t.timeout,d=void 0===c?2e3:c,f=t.cacheIgnore,p=void 0!==f&&f,g=t.prefetchIgnore,v=void 0!==g&&g,m=t.preventRunning,y=void 0!==m&&m,b=t.prevent,w=void 0===b?null:b,x=t.debug,D=t.logLevel;if(h.setLevel(!0===(void 0!==x&&x)?"debug":void 0===D?"off":D),this.logger.info(this.version),Object.keys(l).forEach((function(e){C[e]&&(C[e]=l[e])})),this.$=u,this.timeout=d,this.cacheIgnore=p,this.prefetchIgnore=v,this.preventRunning=y,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var _=this.data.current;if(!_.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new U(p),this.prevent=new ee(v),this.transitions=new ne(r),this.views=new re(a),null!==w){if("function"!=typeof w)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",w)}this.history.init(_.url.href,_.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach((function(e){return e.init()}));var S=this.data;S.trigger="barba",S.next=S.current,S.current=i({},this.schemaPage),this.hooks.do("ready",S),this.once(S),this.q()},n.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},n.force=function(e){window.location.assign(e)},n.go=function(e,t,i){var n;if(void 0===t&&(t="barba"),this.transitions.isRunning)this.force(e);else if(!(n="popstate"===t?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return t=this.history.change(e,t,i),i&&(i.stopPropagation(),i.preventDefault()),this.page(e,t,n)},n.once=function(e){try{var t=this;return Promise.resolve(t.hooks.do("beforeEnter",e)).then((function(){function i(){return Promise.resolve(t.hooks.do("afterEnter",e)).then((function(){}))}var n=function(){if(t.transitions.hasOnce){var i=t.transitions.get(e,{once:!0});return Promise.resolve(t.transitions.doOnce({transition:i,data:e})).then((function(){}))}}();return n&&n.then?n.then(i):i()}))}catch(e){return Promise.reject(e)}},n.page=function(e,t,n){try{var r=function(){var e=o.data;return Promise.resolve(o.hooks.do("page",e)).then((function(){var t=l((function(){var t=o.transitions.get(e,{once:!1,self:n});return Promise.resolve(o.transitions.doPage({data:e,page:a,transition:t,wrapper:o._})).then((function(){o.q()}))}),(function(){0===h.getLevel()&&o.force(e.current.url.href)}));if(t&&t.then)return t.then((function(){}))}))},o=this;o.data.next.url=i({href:e},o.url.parse(e)),o.data.trigger=t;var a=o.cache.has(e)?o.cache.update(e,{action:"click"}).request:o.cache.set(e,o.request(e,o.timeout,o.onRequestError.bind(o,t)),"click").request,s=function(){if(o.transitions.shouldWait)return Promise.resolve(A(a,o.data)).then((function(){}))}();return Promise.resolve(s&&s.then?s.then(r):r())}catch(e){return Promise.reject(e)}},n.onRequestError=function(e){this.transitions.isRunning=!1;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r=i[0],o=i[1],a=this.cache.getAction(r);return this.cache.delete(r),!(this.$&&!1===this.$(e,a,r,o)||("click"===a&&this.force(r),1))},n.prefetch=function(e){var t=this;this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba")).catch((function(e){t.logger.error(e)})),"prefetch")},n.F=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},n.H=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},n.B=function(e){var t=this,i=this.I(e);if(i){var n=this.dom.getHref(i);this.prevent.checkHref(n)||this.cache.has(n)||this.cache.set(n,this.request(n,this.timeout,this.onRequestError.bind(this,i)).catch((function(e){t.logger.error(e)})),"enter")}},n.U=function(e){var t=this.I(e);if(t)return this.transitions.isRunning&&this.preventRunning?(e.preventDefault(),void e.stopPropagation()):void this.go(this.dom.getHref(t),t,e)},n.D=function(e){this.go(this.url.getHref(),"popstate",e)},n.I=function(e){for(var t=e.target;t&&!this.dom.getHref(t);)t=t.parentNode;if(t&&!this.prevent.checkLink(t,e,this.dom.getHref(t)))return t},n.q=function(){var e=this.url.getHref(),t={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:i({href:e},this.url.parse(e))};this.C={current:t,next:i({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},t(e,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),e}())}()},function(e,t){var i=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=i)},function(e,t,i){e.exports=!i(15)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,i){var n=i(3),r=i(5),o=i(13),a=i(8),s=i(12),l=function(e,t,i){var u,c,h,d,f=e&l.F,p=e&l.G,g=e&l.S,v=e&l.P,m=e&l.B,y=p?n:g?n[t]||(n[t]={}):(n[t]||{}).prototype,b=p?r:r[t]||(r[t]={}),w=b.prototype||(b.prototype={});for(u in p&&(i=t),i)h=((c=!f&&y&&void 0!==y[u])?y:i)[u],d=m&&c?s(h,n):v&&"function"==typeof h?s(Function.call,h):h,y&&a(y,u,h,e&l.U),b[u]!=h&&o(b,u,d),v&&w[u]!=h&&(w[u]=h)};n.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,i){var n=i(3),r=i(13),o=i(11),a=i(18)("src"),s=i(65),l=(""+s).split("toString");i(5).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,i,s){var u="function"==typeof i;u&&(o(i,"name")||r(i,"name",t)),e[t]!==i&&(u&&(o(i,a)||r(i,a,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=i:s?e[t]?e[t]=i:r(e,t,i):(delete e[t],r(e,t,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t,i){var n=i(10),r=i(44),o=i(46),a=Object.defineProperty;t.f=i(6)?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),r)try{return a(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var n=i(2);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var n=i(47);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,i){var n=i(9),r=i(19);e.exports=i(6)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(2);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t,i){var n=i(12),r=i(52),o=i(53),a=i(10),s=i(21),l=i(54),u={},c={};(t=e.exports=function(e,t,i,h,d){var f,p,g,v,m=d?function(){return e}:l(e),y=n(i,h,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(f=s(e.length);f>b;b++)if((v=t?y(a(p=e[b])[0],p[1]):y(e[b]))===u||v===c)return v}else for(g=m.call(e);!(p=g.next()).done;)if((v=r(g,y,p.value,t))===u||v===c)return v}).BREAK=u,t.RETURN=c},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var n=i(34),r=i(31);e.exports=function(e){return n(r(e))}},function(e,t,i){var n=i(30),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t,i){var n=i(31);e.exports=function(e){return Object(n(e))}},function(e,t,i){var n=i(18)("meta"),r=i(2),o=i(11),a=i(9).f,s=0,l=Object.isExtensible||function(){return!0},u=!i(15)((function(){return l(Object.preventExtensions({}))})),c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return u&&h.NEED&&l(e)&&!o(e,n)&&c(e),e}}},function(e,t,i){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function i(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function r(e){var t=e.a.offsetWidth,i=t+100;return e.f.style.width=i+"px",e.c.scrollLeft=i,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(e,i){function n(){var e=o;r(e)&&e.a.parentNode&&i(e.g)}var o=e;t(e.b,n),t(e.c,n),r(e)}function a(e,t){var i=t||{};this.family=e,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}var s=null,l=null,u=null,c=null;function h(){return null===c&&(c=!!document.fonts),c}function d(){if(null===u){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}u=""!==e.style.font}return u}function f(e,t){return[e.style,e.weight,d()?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var r=this,a=e||"BESbswy",u=0,c=t||3e3,d=(new Date).getTime();return new Promise((function(e,t){if(h()&&!function(){if(null===l)if(h()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);l=!!e&&603>parseInt(e[1],10)}else l=!1;return l}()){var p=new Promise((function(e,t){!function i(){(new Date).getTime()-d>=c?t(Error(c+"ms timeout exceeded")):document.fonts.load(f(r,'"'+r.family+'"'),a).then((function(t){1<=t.length?e():setTimeout(i,25)}),t)}()})),g=new Promise((function(e,t){u=setTimeout((function(){t(Error(c+"ms timeout exceeded"))}),c)}));Promise.race([g,p]).then((function(){clearTimeout(u),e(r)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function l(){var t;(t=-1!=v&&-1!=m||-1!=v&&-1!=y||-1!=m&&-1!=y)&&((t=v!=m&&v!=y&&m!=y)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(v==b&&m==b&&y==b||v==w&&m==w&&y==w||v==x&&m==x&&y==x)),t=!t),t&&(D.parentNode&&D.parentNode.removeChild(D),clearTimeout(u),e(r))}var h=new i(a),p=new i(a),g=new i(a),v=-1,m=-1,y=-1,b=-1,w=-1,x=-1,D=document.createElement("div");D.dir="ltr",n(h,f(r,"sans-serif")),n(p,f(r,"serif")),n(g,f(r,"monospace")),D.appendChild(h.a),D.appendChild(p.a),D.appendChild(g.a),document.body.appendChild(D),b=h.a.offsetWidth,w=p.a.offsetWidth,x=g.a.offsetWidth,function e(){if((new Date).getTime()-d>=c)D.parentNode&&D.parentNode.removeChild(D),t(Error(c+"ms timeout exceeded"));else{var i=document.hidden;!0!==i&&void 0!==i||(v=h.a.offsetWidth,m=p.a.offsetWidth,y=g.a.offsetWidth,l()),u=setTimeout(e,50)}}(),o(h,(function(e){v=e,l()})),n(h,f(r,'"'+r.family+'",sans-serif')),o(p,(function(e){m=e,l()})),n(p,f(r,'"'+r.family+'",serif')),o(g,(function(e){y=e,l()})),n(g,f(r,'"'+r.family+'",monospace'))}))}))},e.exports=a}()},function(e,t,i){"use strict";var n=i(26),r={};r[i(1)("toStringTag")]="z",r+""!="[object z]"&&i(8)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},function(e,t,i){var n=i(27),r=i(1)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?i:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var n=i(5),r=i(3),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(43)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,i){"use strict";var n=i(66)(!0);i(32)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})}))},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){"use strict";var n=i(43),r=i(7),o=i(8),a=i(13),s=i(16),l=i(67),u=i(36),c=i(73),h=i(1)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,i,p,g,v,m){l(i,t,p);var y,b,w,x=function(e){if(!d&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},D=t+" Iterator",_="values"==g,S=!1,E=e.prototype,C=E[h]||E["@@iterator"]||g&&E[g],k=C||x(g),T=g?_?x("entries"):k:void 0,A="Array"==t&&E.entries||C;if(A&&(w=c(A.call(new e)))!==Object.prototype&&w.next&&(u(w,D,!0),n||"function"==typeof w[h]||a(w,h,f)),_&&C&&"values"!==C.name&&(S=!0,k=function(){return C.call(this)}),n&&!m||!d&&!S&&E[h]||a(E,h,k),s[t]=k,s[D]=f,g)if(y={values:_?k:x("values"),keys:v?k:x("keys"),entries:T},m)for(b in y)b in E||o(E,b,y[b]);else r(r.P+r.F*(d||S),t,y);return y}},function(e,t,i){var n=i(69),r=i(49);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t,i){var n=i(27);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,i){var n=i(28)("keys"),r=i(18);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(9).f,r=i(11),o=i(1)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,i){for(var n=i(74),r=i(33),o=i(8),a=i(3),s=i(13),l=i(16),u=i(1),c=u("iterator"),h=u("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),g=0;g<p.length;g++){var v,m=p[g],y=f[m],b=a[m],w=b&&b.prototype;if(w&&(w[c]||s(w,c,d),w[h]||s(w,h,m),l[m]=d,y))for(v in n)w[v]||o(w,v,n[v],!0)}},function(e,t,i){var n=i(8);e.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){"use strict";var n=i(3),r=i(7),o=i(8),a=i(38),s=i(23),l=i(17),u=i(39),c=i(2),h=i(15),d=i(55),f=i(36),p=i(78);e.exports=function(e,t,i,g,v,m){var y=n[e],b=y,w=v?"set":"add",x=b&&b.prototype,D={},_=function(e){var t=x[e];o(x,e,"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,i){return t.call(this,0===e?0:e,i),this})};if("function"==typeof b&&(m||x.forEach&&!h((function(){(new b).entries().next()})))){var S=new b,E=S[w](m?{}:-0,1)!=S,C=h((function(){S.has(1)})),k=d((function(e){new b(e)})),T=!m&&h((function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)}));k||((b=t((function(t,i){u(t,b,e);var n=p(new y,t,b);return null!=i&&l(i,v,n[w],n),n}))).prototype=x,x.constructor=b),(C||T)&&(_("delete"),_("has"),v&&_("get")),(T||E)&&_(w),m&&x.clear&&delete x.clear}else b=g.getConstructor(t,e,v,w),a(b.prototype,i),s.NEED=!0;return f(b,e),D[e]=b,r(r.G+r.W+r.F*(b!=y),D),m||g.setStrong(b,e,v),b}},function(e,t,i){"use strict";var n=i(7);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,i){"use strict";var n=i(7),r=i(47),o=i(12),a=i(17);e.exports=function(e){n(n.S,e,{from:function(e){var t,i,n,s,l=arguments[1];return r(this),(t=void 0!==l)&&r(l),null==e?new this:(i=[],t?(n=0,s=o(l,arguments[2],2),a(e,!1,(function(e){i.push(s(e,n++))}))):a(e,!1,i.push,i),new this(i))}})}},function(e,t){e.exports=!1},function(e,t,i){e.exports=!i(6)&&!i(15)((function(){return 7!=Object.defineProperty(i(45)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,i){var n=i(2),r=i(3).document,o=n(r)&&n(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,i){var n=i(2);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var n=i(10),r=i(68),o=i(49),a=i(35)("IE_PROTO"),s=function(){},l=function(){var e,t=i(45)("iframe"),n=o.length;for(t.style.display="none",i(72).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[o[n]];return l()};e.exports=Object.create||function(e,t){var i;return null!==e?(s.prototype=n(e),i=new s,s.prototype=null,i[a]=e):i=l(),void 0===t?i:r(i,t)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){"use strict";var n=i(9).f,r=i(48),o=i(38),a=i(12),s=i(39),l=i(17),u=i(32),c=i(50),h=i(77),d=i(6),f=i(23).fastKey,p=i(14),g=d?"_s":"size",v=function(e,t){var i,n=f(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,u){var c=e((function(e,n){s(e,c,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[g]=0,null!=n&&l(n,i,e[u],e)}));return o(c.prototype,{clear:function(){for(var e=p(this,t),i=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var i=p(this,t),n=v(i,e);if(n){var r=n.n,o=n.p;delete i._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),i._f==n&&(i._f=r),i._l==n&&(i._l=o),i[g]--}return!!n},forEach:function(e){p(this,t);for(var i,n=a(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!v(p(this,t),e)}}),d&&n(c.prototype,"size",{get:function(){return p(this,t)[g]}}),c},def:function(e,t,i){var n,r,o=v(e,t);return o?o.v=i:(e._l=o={i:r=f(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[g]++,"F"!==r&&(e._i[r]=o)),e},getEntry:v,setStrong:function(e,t,i){u(e,t,(function(e,i){this._t=p(e,t),this._k=i,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))}),i?"entries":"values",!i,!0),h(t)}}},function(e,t,i){var n=i(10);e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,i){var n=i(16),r=i(1)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[r]===e)}},function(e,t,i){var n=i(26),r=i(1)("iterator"),o=i(16);e.exports=i(5).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||o[n(e)]}},function(e,t,i){var n=i(1)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:i=!0}},o[n]=function(){return a},e(o)}catch(e){}return i}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){var n=i(26),r=i(82);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,i){var n=i(12),r=i(34),o=i(22),a=i(21),s=i(92);e.exports=function(e,t){var i=1==e,l=2==e,u=3==e,c=4==e,h=6==e,d=5==e||h,f=t||s;return function(t,s,p){for(var g,v,m=o(t),y=r(m),b=n(s,p,3),w=a(y.length),x=0,D=i?f(t,w):l?f(t,0):void 0;w>x;x++)if((d||x in y)&&(v=b(g=y[x],x,m),e))if(i)D[x]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return x;case 2:D.push(g)}else if(c)return!1;return h?-1:u||c?c:D}}},function(e,t,i){"use strict";var n=i(6),r=i(33),o=i(95),a=i(56),s=i(22),l=i(34),u=Object.assign;e.exports=!u||i(15)((function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[i]||Object.keys(u({},t)).join("")!=n}))?function(e,t){for(var i=s(e),u=arguments.length,c=1,h=o.f,d=a.f;u>c;)for(var f,p=l(arguments[c++]),g=h?r(p).concat(h(p)):r(p),v=g.length,m=0;v>m;)f=g[m++],n&&!d.call(p,f)||(i[f]=p[f]);return i}:u},function(e,t,i){var n;e.exports=(n=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},new(function(){function e(){this.name="@barba/prefetch",this.version="2.1.10",this.toPrefetch=new Set}var t=e.prototype;return t.install=function(e,t){var i=void 0===t?{}:t,n=i.root,r=void 0===n?document.body:n,o=i.timeout,a=void 0===o?2e3:o;this.logger=new e.Logger(this.name),this.logger.info(this.version),this.barba=e,this.root=r,this.timeout=a},t.init=function(){var e=this;this.barba.prefetchIgnore?this.logger.warn("barba.prefetchIgnore is enabled"):this.barba.cacheIgnore?this.logger.warn("barba.cacheIgnore is enabled"):(this.observer=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var i=t.target,n=e.barba.dom.getHref(i);e.toPrefetch.has(n)&&(e.observer.unobserve(i),e.barba.cache.has(n)?e.barba.cache.update(n,{action:"prefetch"}):e.barba.cache.set(n,e.barba.request(n,e.barba.timeout,e.barba.onRequestError.bind(e.barba,"barba")).catch((function(t){e.logger.error(t)})),"prefetch"))}}))})),this.observe(),this.barba.hooks.after(this.observe,this))},t.observe=function(){var e=this;n((function(){e.root.querySelectorAll("a").forEach((function(t){var i=t,n=e.barba.dom.getHref(i);e.barba.cache.has(n)||e.barba.prevent.checkHref(n)||e.barba.prevent.checkLink(i,{},n)||(e.observer.observe(t),e.toPrefetch.add(n))}))}),{timeout:this.timeout})},e}()))},function(e,t,i){"use strict";(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.a=i}).call(this,i(104))},function(e,t,i){},function(e,t){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document,t=[];n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},n.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,i){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==i[t-1]}))},n.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(window,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(window,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var r=n.element,o=a(r),s=this._rootContainsTarget(r),l=n.entry,u=e&&s&&this._computeTargetAndRootIntersection(r,t),c=n.entry=new i({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:o,rootBounds:t,intersectionRect:u});l?e&&s?this._hasCrossedThreshold(l,c)&&this._queuedEntries.push(c):l&&l.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(t,i){if("none"!=window.getComputedStyle(t).display){for(var n,r,o,s,u,c,h,d,f=a(t),p=l(t),g=!1;!g;){var v=null,m=1==p.nodeType?window.getComputedStyle(p):{};if("none"==m.display)return;if(p==this.root||p==e?(g=!0,v=i):p!=e.body&&p!=e.documentElement&&"visible"!=m.overflow&&(v=a(p)),v&&(n=v,r=f,o=void 0,s=void 0,u=void 0,c=void 0,h=void 0,d=void 0,o=Math.max(n.top,r.top),s=Math.min(n.bottom,r.bottom),u=Math.max(n.left,r.left),c=Math.min(n.right,r.right),d=s-o,!(f=(h=c-u)>=0&&d>=0&&{top:o,bottom:s,left:u,right:c,width:h,height:d})))break;p=l(p)}return f}},n.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var i=e.documentElement,n=e.body;t={top:0,left:0,right:i.clientWidth||n.clientWidth,width:i.clientWidth||n.clientWidth,bottom:i.clientHeight||n.clientHeight,height:i.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},n.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,i){return"px"==t.unit?t.value:t.value*(i%2?e.width:e.height)/100})),i={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},n.prototype._hasCrossedThreshold=function(e,t){var i=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(i!==n)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==i||o==n||o<i!=o<n)return!0}},n.prototype._rootIsInDom=function(){return!this.root||s(e,this.root)},n.prototype._rootContainsTarget=function(t){return s(this.root||e,t)},n.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},n.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=n,window.IntersectionObserverEntry=i}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,i=t.width*t.height,n=this.intersectionRect,r=n.width*n.height;this.intersectionRatio=i?Number((r/i).toFixed(4)):this.isIntersecting?1:0}function n(e,t){var i,n,r,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){i(),r=null}),n))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function r(e,t,i,n){"function"==typeof e.addEventListener?e.addEventListener(t,i,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,i)}function o(e,t,i,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,i,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,i)}function a(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(e,t){for(var i=t;i;){if(i==e)return!0;i=l(i)}return!1}function l(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}()},function(e,t,i){i(25),i(29),i(37),i(76),i(81),i(83),i(84),e.exports=i(5).Map},function(e,t,i){e.exports=i(28)("native-function-to-string",Function.toString)},function(e,t,i){var n=i(30),r=i(31);e.exports=function(e){return function(t,i){var o,a,s=String(r(t)),l=n(i),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,i){"use strict";var n=i(48),r=i(19),o=i(36),a={};i(13)(a,i(1)("iterator"),(function(){return this})),e.exports=function(e,t,i){e.prototype=n(a,{next:r(1,i)}),o(e,t+" Iterator")}},function(e,t,i){var n=i(9),r=i(10),o=i(33);e.exports=i(6)?Object.defineProperties:function(e,t){r(e);for(var i,a=o(t),s=a.length,l=0;s>l;)n.f(e,i=a[l++],t[i]);return e}},function(e,t,i){var n=i(11),r=i(20),o=i(70)(!1),a=i(35)("IE_PROTO");e.exports=function(e,t){var i,s=r(e),l=0,u=[];for(i in s)i!=a&&n(s,i)&&u.push(i);for(;t.length>l;)n(s,i=t[l++])&&(~o(u,i)||u.push(i));return u}},function(e,t,i){var n=i(20),r=i(21),o=i(71);e.exports=function(e){return function(t,i,a){var s,l=n(t),u=r(l.length),c=o(a,u);if(e&&i!=i){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===i)return e||c||0;return!e&&-1}}},function(e,t,i){var n=i(30),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):o(e,t)}},function(e,t,i){var n=i(3).document;e.exports=n&&n.documentElement},function(e,t,i){var n=i(11),r=i(22),o=i(35)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,i){"use strict";var n=i(75),r=i(50),o=i(16),a=i(20);e.exports=i(32)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t,i){var n=i(1)("unscopables"),r=Array.prototype;null==r[n]&&i(13)(r,n,{}),e.exports=function(e){r[n][e]=!0}},function(e,t,i){"use strict";var n=i(51),r=i(14);e.exports=i(40)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=n.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(r(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,i){"use strict";var n=i(3),r=i(9),o=i(6),a=i(1)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,i){var n=i(2),r=i(79).set;e.exports=function(e,t,i){var o,a=t.constructor;return a!==i&&"function"==typeof a&&(o=a.prototype)!==i.prototype&&n(o)&&r&&r(e,o),e}},function(e,t,i){var n=i(2),r=i(10),o=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=i(12)(Function.call,i(80).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return o(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:o}},function(e,t,i){var n=i(56),r=i(19),o=i(20),a=i(46),s=i(11),l=i(44),u=Object.getOwnPropertyDescriptor;t.f=i(6)?u:function(e,t){if(e=o(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t,i){var n=i(7);n(n.P+n.R,"Map",{toJSON:i(57)("Map")})},function(e,t,i){var n=i(17);e.exports=function(e,t){var i=[];return n(e,!1,i.push,i,t),i}},function(e,t,i){i(41)("Map")},function(e,t,i){i(42)("Map")},function(e,t,i){i(25),i(29),i(37),i(86),i(87),i(88),i(89),e.exports=i(5).Set},function(e,t,i){"use strict";var n=i(51),r=i(14);e.exports=i(40)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(r(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,i){var n=i(7);n(n.P+n.R,"Set",{toJSON:i(57)("Set")})},function(e,t,i){i(41)("Set")},function(e,t,i){i(42)("Set")},function(e,t,i){i(25),i(37),i(91),i(97),i(98),e.exports=i(5).WeakMap},function(e,t,i){"use strict";var n,r=i(3),o=i(58)(0),a=i(8),s=i(23),l=i(59),u=i(96),c=i(2),h=i(14),d=i(14),f=!r.ActiveXObject&&"ActiveXObject"in r,p=s.getWeak,g=Object.isExtensible,v=u.ufstore,m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(c(e)){var t=p(e);return!0===t?v(h(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(h(this,"WeakMap"),e,t)}},b=e.exports=i(40)("WeakMap",m,y,u,!0,!0);d&&f&&(l((n=u.getConstructor(m,"WeakMap")).prototype,y),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=b.prototype,i=t[e];a(t,e,(function(t,r){if(c(t)&&!g(t)){this._f||(this._f=new n);var o=this._f[e](t,r);return"set"==e?this:o}return i.call(this,t,r)}))})))},function(e,t,i){var n=i(93);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,i){var n=i(2),r=i(94),o=i(1)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){var n=i(27);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,i){"use strict";var n=i(38),r=i(23).getWeak,o=i(10),a=i(2),s=i(39),l=i(17),u=i(58),c=i(11),h=i(14),d=u(5),f=u(6),p=0,g=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},m=function(e,t){return d(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var i=m(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,i,o){var u=e((function(e,n){s(e,u,t,"_i"),e._t=t,e._i=p++,e._l=void 0,null!=n&&l(n,i,e[o],e)}));return n(u.prototype,{delete:function(e){if(!a(e))return!1;var i=r(e);return!0===i?g(h(this,t)).delete(e):i&&c(i,this._i)&&delete i[this._i]},has:function(e){if(!a(e))return!1;var i=r(e);return!0===i?g(h(this,t)).has(e):i&&c(i,this._i)}}),u},def:function(e,t,i){var n=r(o(t),!0);return!0===n?g(e).set(t,i):n[e._i]=i,e},ufstore:g}},function(e,t,i){i(41)("WeakMap")},function(e,t,i){i(42)("WeakMap")},function(e,t,i){i(29),i(100),e.exports=i(5).Array.from},function(e,t,i){"use strict";var n=i(12),r=i(7),o=i(22),a=i(52),s=i(53),l=i(21),u=i(101),c=i(54);r(r.S+r.F*!i(55)((function(e){Array.from(e)})),"Array",{from:function(e){var t,i,r,h,d=o(e),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=0,y=c(d);if(v&&(g=n(g,p>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(i=new f(t=l(d.length));t>m;m++)u(i,m,v?g(d[m],m):d[m]);else for(h=y.call(d),i=new f;!(r=h.next()).done;m++)u(i,m,v?a(h,g,[r.value,m],!0):r.value);return i.length=m,i}})},function(e,t,i){"use strict";var n=i(9),r=i(19);e.exports=function(e,t,i){t in e?n.f(e,t,r(0,i)):e[t]=i}},function(e,t,i){i(103),e.exports=i(5).Object.assign},function(e,t,i){var n=i(7);n(n.S+n.F,"Object",{assign:i(59)})},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";i.r(t);var n={};i.r(n),i.d(n,"keyboardHandler",(function(){return Qa})),i.d(n,"mouseHandler",(function(){return es})),i.d(n,"resizeHandler",(function(){return ts})),i.d(n,"selectHandler",(function(){return is})),i.d(n,"touchHandler",(function(){return ns})),i.d(n,"wheelHandler",(function(){return rs}));i(62);function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
 * GSAP 3.0.4
 * https://greensock.com
 *
 * @license Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var a,s,l,u,c,h,d,f,p,g,v,m,y,b,w,x,D,_,S,E,C,k,T,A,L={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},P={duration:.5,overwrite:!1,delay:0},O=2*Math.PI,I=O/4,F=0,M=Math.sqrt,q=Math.cos,j=Math.sin,R=function(e){return"string"==typeof e},B=function(e){return"function"==typeof e},z=function(e){return"number"==typeof e},N=function(e){return void 0===e},H=function(e){return"object"==typeof e},U=function(e){return!1!==e},W=function(){return"undefined"!=typeof window},Y=function(e){return B(e)||R(e)},V=Array.isArray,X=/(?:-?\.?\d|\.)+/gi,G=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,$=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,Z=/\(([^()]+)\)/i,K=/[\+-]=-?[\.\d]+/,J=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,Q={},ee={},te=function(e){return(ee=ke(e,Q))&&ei},ie=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},ne=function(e,t){return!t&&console.warn(e)},re=function(e,t){return e&&(Q[e]=t)&&ee&&(ee[e]=t)||Q},oe=function(){return 0},ae={},se=[],le={},ue={},ce={},he=30,de=[],fe="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",pe=function(e){var t,i,n=e[0];if(H(n)||B(n)||(e=[e]),!(t=(n._gsap||{}).harness)){for(i=de.length;i--&&!de[i].targetTest(n););t=de[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Et(e[i],t)))||e.splice(i,1);return e},ge=function(e){return e._gsap||pe(Ge(e))[0]._gsap},ve=function(e,t){var i=e[t];return B(i)?e[t]():N(i)&&e.getAttribute(t)||i},me=function(e,t){return(e=e.split(",")).forEach(t)||e},ye=function(e){return Math.round(1e4*e)/1e4},be=function(e,t){for(var i=t.length,n=0;e.indexOf(t[n])<0&&++n<i;);return n<i},we=function(e,t,i){var n,r=z(e[1]),o=(r?2:1)+(t<2?0:1),a=e[o];return r&&(a.duration=e[1]),1===t?(a.runBackwards=1,a.immediateRender=U(a.immediateRender)):2===t&&(n=e[o-1],a.startAt=n,a.immediateRender=U(a.immediateRender)),a.parent=i,a},xe=function(){var e,t,i=se.length,n=se.slice(0);for(le={},se.length=0,e=0;e<i;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},De=function(e,t,i,n){se.length&&xe(),e.render(t,i,n),se.length&&xe()},_e=function(e){var t=parseFloat(e);return t||0===t?t:e},Se=function(e){return e},Ee=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Ce=function(e,t){for(var i in t)i in e||"duration"===i||"ease"===i||(e[i]=t[i])},ke=function(e,t){for(var i in t)e[i]=t[i];return e},Te=function e(t,i){for(var n in i)t[n]=H(i[n])?e(t[n]||(t[n]={}),i[n]):i[n];return t},Ae=function(e,t){var i,n={};for(i in e)i in t||(n[i]=e[i]);return n},Le=function(e,t,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r=t._prev,o=t._next;r?r._next=o:e[i]===t&&(e[i]=o),o?o._prev=r:e[n]===t&&(e[n]=r),t._dp=e,t._next=t._prev=t.parent=null},Pe=function(e,t){!e.parent||t&&!e.parent.autoRemoveChildren||e.parent.remove(e),e._act=0},Oe=function(e){for(var t=e;t;)t._dirty=1,t=t.parent;return e},Ie=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Fe=function(e){return e._repeat?Me(e._tTime,e=e.duration()+e._rDelay)*e:0},Me=function(e,t){return(e/=t)&&~~e===e?~~e-1:~~e},qe=function(e,t){return t._ts>0?(e-t._start)*t._ts:(t._dirty?t.totalDuration():t._tDur)+(e-t._start)*t._ts},je=function(e,t,i){if(t.parent&&Pe(t),t._start=i+t._delay,t._end=t._start+(t.totalDuration()/t._ts||0),function(e,t,i,n,r){void 0===i&&(i="_first"),void 0===n&&(n="_last");var o,a=e[n];if(r)for(o=t[r];a&&a[r]>o;)a=a._prev;a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[n]=t,t._prev=a,t.parent=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,t._time||!t._dur&&t._initted){var n=(e.rawTime()-t._start)*t._ts;(!t._dur||Ue(0,t.totalDuration(),n)-t._tTime>1e-8)&&t.render(n,!0)}if(Oe(e),e._dp&&e._time>=e._dur&&e._ts&&e._dur<e.duration())for(var r=e;r._dp;)r.totalTime(r._tTime,!0),r=r._dp;return e},Re=function(e,t,i,n){return Ot(e,t),e._initted?!i&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)?(se.push(e),e._lazy=[t,n],1):void 0:1},Be=function(e){if(e instanceof kt)return Oe(e);var t=e._repeat;return e._tDur=t?t<0?1e20:ye(e._dur*(t+1)+e._rDelay*t):e._dur,Oe(e.parent),e},ze={_start:0,endTime:oe},Ne=function e(t,i,n){var r,o,a=t.labels,s=t._recent||ze,l=t.duration()>=1e8?s.endTime(!1):t._dur;return R(i)&&(isNaN(i)||i in a)?"<"===(r=i.charAt(0))||">"===r?("<"===r?s._start:s.endTime(s._repeat>=0))+(parseFloat(i.substr(1))||0):(r=i.indexOf("="))<0?(i in a||(a[i]=l),a[i]):(o=+(i.charAt(r-1)+i.substr(r+1)),r>1?e(t,i.substr(0,r-1))+o:l+o):null==i?l:+i},He=function(e,t){return e||0===e?t(e):t},Ue=function(e,t,i){return i<e?e:i>t?t:i},We=function(e){return(e+"").substr((parseFloat(e)+"").length)},Ye=[].slice,Ve=function(e){return e&&H(e)&&"length"in e&&e.length-1 in e&&H(e[0])&&!e.nodeType&&e!==s},Xe=function(e,t,i){return void 0===i&&(i=[]),e.forEach((function(e){var n;return R(e)&&!t||Ve(e)?(n=i).push.apply(n,Ge(e)):i.push(e)}))||i},Ge=function(e,t){return!R(e)||t||!l&&pt()?V(e)?Xe(e,t):Ve(e)?Ye.call(e,0):e?[e]:[]:Ye.call(u.querySelectorAll(e),0)},$e=function(e){if(B(e))return e;var t=H(e)?e:{each:e},i=wt(t.ease),n=t.from||0,r=parseFloat(t.base)||0,o={},a=n>0&&n<1,s=isNaN(n)||a,l=t.axis,u=n,c=n;return R(n)?u=c={center:.5,edges:.5,end:1}[n]||0:!a&&s&&(u=n[0],c=n[1]),function(e,a,h){var d,f,p,g,v,m,y,b,w,x=(h||t).length,D=o[x];if(!D){if(!(w="auto"===t.grid?0:(t.grid||[1,1e8])[1])){for(y=-1e8;y<(y=h[w++].getBoundingClientRect().left)&&w<x;);w--}for(D=o[x]=[],d=s?Math.min(w,x)*u-.5:n%w,f=s?x*c/w-.5:n/w|0,y=0,b=1e8,m=0;m<x;m++)p=m%w-d,g=f-(m/w|0),D[m]=v=l?Math.abs("y"===l?g:p):M(p*p+g*g),v>y&&(y=v),v<b&&(b=v);D.max=y-b,D.min=b,D.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(w>x?x-1:l?"y"===l?x/w:w:Math.max(w,x/w))||0)*("edges"===n?-1:1),D.b=x<0?r-x:r,D.u=We(t.amount||t.each)||0,i=i&&x<0?bt(i):i}return x=(D[e]-D.min)/D.max||0,ye(D.b+(i?i(x):x)*D.v)+D.u}},Ze=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(i){return~~(Math.round(parseFloat(i)/e)*e*t)/t+(z(i)?0:We(i))}},Ke=function(e,t){var i,n,r=V(e);return!r&&H(e)&&(i=r=e.radius||1e8,e=Ge(e.values),(n=!z(e[0]))&&(i*=i)),He(t,r?function(t){for(var r,o,a=parseFloat(n?t.x:t),s=parseFloat(n?t.y:0),l=1e8,u=0,c=e.length;c--;)(r=n?(r=e[c].x-a)*r+(o=e[c].y-s)*o:Math.abs(e[c]-a))<l&&(l=r,u=c);return u=!i||l<=i?e[u]:t,n||u===t||z(t)?u:u+We(t)}:Ze(e))},Je=function(e,t,i,n){return He(V(e)?!t:!0===i?!!(i=0):!n,(function(){return V(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&~~(Math.round((e+Math.random()*(t-e))/i)*i*n)/n}))},Qe=function(e,t,i){return He(i,(function(i){return e[~~t(i)]}))},et=function(e){for(var t,i,n,r,o=0,a="";~(t=e.indexOf("random(",o));)n=e.indexOf(")",t),r="["===e.charAt(t+7),i=e.substr(t+7,n-t-7).match(r?J:X),a+=e.substr(o,t-o)+Je(r?i:+i[0],+i[1],+i[2]||1e-5),o=n+1;return a+e.substr(o,e.length-o)},tt=function(e,t,i,n,r){var o=t-e,a=n-i;return He(r,(function(t){return i+(t-e)/o*a}))},it=function(e,t,i){var n,r,o,a=e.labels,s=1e8;for(n in a)(r=a[n]-t)<0==!!i&&r&&s>(r=Math.abs(r))&&(o=n,s=r);return o},nt=function(e,t,i){var n,r,o=e.vars,a=o[t];if(a)return n=o[t+"Params"],r=o.callbackScope||e,i&&se.length&&xe(),n?a.apply(r,n):a.call(r)},rt=function(e){return Pe(e),e.progress()<1&&nt(e,"onInterrupt"),e},ot=function(e){var t=(e=!e.name&&e.default||e).name,i=B(e),n=t&&!i&&e.init?function(){this._props=[]}:e,r={init:oe,render:Yt,add:Lt,kill:Xt,modifier:Vt,rawVars:0},o={targetTest:0,get:0,getSetter:Nt,aliases:{},register:0};if(pt(),e!==n){if(ue[t])return;Ee(n,Ee(Ae(e,r),o)),ke(n.prototype,ke(r,Ae(e,o))),ue[n.prop=t]=n,e.targetTest&&(de.push(n),ae[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}re(t,n),e.register&&e.register(ei,n,Zt)},at={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},st=function(e,t,i){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(i-t)*e*6:e<.5?i:3*e<2?t+(i-t)*(2/3-e)*6:t)+.5|0},lt=function(e,t){var i,n,r,o,a,s,l,u,c,h,d=e?z(e)?[e>>16,e>>8&255,255&e]:0:at.black;if(!d){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),at[e])d=at[e];else if("#"===e.charAt(0))4===e.length&&(i=e.charAt(1),n=e.charAt(2),r=e.charAt(3),e="#"+i+i+n+n+r+r),d=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(d=h=e.match(X),t){if(~e.indexOf("="))return e.match(G)}else o=+d[0]%360/360,a=+d[1]/100,i=2*(s=+d[2]/100)-(n=s<=.5?s*(a+1):s+a-s*a),d.length>3&&(d[3]*=1),d[0]=st(o+1/3,i,n),d[1]=st(o,i,n),d[2]=st(o-1/3,i,n);else d=e.match(X)||at.transparent;d=d.map(Number)}return t&&!h&&(i=d[0]/255,n=d[1]/255,r=d[2]/255,s=((l=Math.max(i,n,r))+(u=Math.min(i,n,r)))/2,l===u?o=a=0:(c=l-u,a=s>.5?c/(2-l-u):c/(l+u),o=l===i?(n-r)/c+(n<r?6:0):l===n?(r-i)/c+2:(i-n)/c+4,o*=60),d[0]=o+.5|0,d[1]=100*a+.5|0,d[2]=100*s+.5|0),d},ut=function(e,t){var i,n,r,o=(e+"").match(ct),a=0,s="";if(!o)return e;for(i=0;i<o.length;i++)n=o[i],a+=(r=e.substr(a,e.indexOf(n,a)-a)).length+n.length,3===(n=lt(n,t)).length&&n.push(1),s+=r+(t?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return s+e.substr(a)},ct=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in at)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),ht=/hsl[a]?\(/,dt=function(e){var t,i=e.join(" ");ct.lastIndex=0,ct.test(i)&&(t=ht.test(i),e[0]=ut(e[0],t),e[1]=ut(e[1],t))},ft=(m=Date.now,y=500,b=33,w=m(),x=w,_=D=1/60,E=function e(t){var i,n,r=m()-x,o=!0===t;r>y&&(w+=r-b),x+=r,v.time=(x-w)/1e3,((i=v.time-_)>0||o)&&(v.frame++,_+=i+(i>=D?.004:D-i),n=1),o||(f=p(e)),n&&S.forEach((function(e){return e(v.time,r,v.frame,t)}))},v={time:0,frame:0,tick:function(){E(!0)},wake:function(){c&&(!l&&W()&&(s=l=window,u=s.document||{},Q.gsap=ei,(s.gsapVersions||(s.gsapVersions=[])).push(ei.version),te(ee||s.GreenSockGlobals||!s.gsap&&s||{}),g=s.requestAnimationFrame),f&&v.sleep(),p=g||function(e){return setTimeout(e,1e3*(_-v.time)+1|0)},d=1,E(2))},sleep:function(){(g?s.cancelAnimationFrame:clearTimeout)(f),d=0,p=oe},lagSmoothing:function(e,t){y=e||1e8,b=Math.min(t,y,0)},fps:function(e){D=1/(e||60),_=v.time+D},add:function(e){S.indexOf(e)<0&&S.push(e),pt()},remove:function(e){var t;~(t=S.indexOf(e))&&S.splice(t,1)},_listeners:S=[]}),pt=function(){return!d&&ft.wake()},gt={},vt=/^[\d.\-M][\d.\-,\s]/,mt=/["']/g,yt=function(e){for(var t,i,n,r={},o=e.substr(1,e.length-3).split(":"),a=o[0],s=1,l=o.length;s<l;s++)i=o[s],t=s!==l-1?i.lastIndexOf(","):i.length,n=i.substr(0,t),r[a]=isNaN(n)?n.replace(mt,"").trim():+n,a=i.substr(t+1).trim();return r},bt=function(e){return function(t){return 1-e(1-t)}},wt=function(e,t){return e&&(B(e)?e:gt[e]||function(e){var t=(e+"").split("("),i=gt[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[yt(t[1])]:Z.exec(e)[1].split(",").map(_e)):gt._CE&&vt.test(e)?gt._CE("",e):i}(e))||t},xt=function(e,t,i,n){void 0===i&&(i=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var r,o={easeIn:t,easeOut:i,easeInOut:n};return me(e,(function(e){for(var t in gt[e]=Q[e]=o,gt[r=e.toLowerCase()]=i,o)gt[r+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=gt[e+"."+t]=o[t]})),o},Dt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},_t=function e(t,i,n){var r=i>=1?i:1,o=(n||(t?.3:.45))/(i<1?i:1),a=o/O*(Math.asin(1/r)||0),s=function(e){return 1===e?1:r*Math.pow(2,-10*e)*j((e-a)*o)+1},l="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:Dt(s);return o=O/o,l.config=function(i,n){return e(t,i,n)},l},St=function e(t,i){void 0===i&&(i=1.70158);var n=function(e){return--e*e*((i+1)*e+i)+1},r="out"===t?n:"in"===t?function(e){return 1-n(1-e)}:Dt(n);return r.config=function(i){return e(t,i)},r};me("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var i=t<5?t+1:t;xt(e+",Power"+(i-1),t?function(e){return Math.pow(e,i)}:function(e){return e},(function(e){return 1-Math.pow(1-e,i)}),(function(e){return e<.5?Math.pow(2*e,i)/2:1-Math.pow(2*(1-e),i)/2}))})),gt.Linear.easeNone=gt.none=gt.Linear.easeIn,xt("Elastic",_t("in"),_t("out"),_t()),C=7.5625,T=1/(k=2.75),xt("Bounce",(function(e){return 1-A(1-e)}),A=function(e){return e<T?C*e*e:e<.7272727272727273?C*Math.pow(e-1.5/k,2)+.75:e<.9090909090909092?C*(e-=2.25/k)*e+.9375:C*Math.pow(e-2.625/k,2)+.984375}),xt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),xt("Circ",(function(e){return-(M(1-e*e)-1)})),xt("Sine",(function(e){return 1-q(e*I)})),xt("Back",St("in"),St("out"),St()),gt.SteppedEase=gt.steps=Q.SteppedEase={config:function(e,t){void 0===e&&(e=1);var i=1/e,n=e+(t?0:1),r=t?1:0;return function(e){return((n*Ue(0,1-1e-8,e)|0)+r)*i}}},P.ease=gt["quad.out"];var Et=function(e,t){this.id=F++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ve,this.set=t?t.getSetter:Nt},Ct=function(){function e(e,t){var i=e.parent||a;this.vars=e,this._dur=this._tDur=+e.duration||0,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase,Be(this)),this._ts=1,this.data=e.data,d||ft.wake(),i&&je(i,this,t||0===t?t:i._time),e.reversed&&this.reversed(!0),e.paused&&this.paused(!0)}var t=e.prototype;return t.delay=function(e){return e||0===e?(this._delay=e,this):this._delay},t.duration=function(e){var t=arguments.length,i=this._repeat,n=i>0?i*((t?e:this._dur)+this._rDelay):0;return t?this.totalDuration(i<0?e:e+n):this.totalDuration()&&this._dur},t.totalDuration=function(e){if(!arguments.length)return this._tDur;var t=this._repeat,i=(e||this._rDelay)&&t<0;return this._tDur=i?1e20:e,this._dur=i?e:(e-t*this._rDelay)/(t+1),this._dirty=0,Oe(this.parent),this},t.totalTime=function(e,t){if(pt(),!arguments.length)return this._tTime;var i,n=this.parent||this._dp;if(n&&n.smoothChildTiming&&this._ts){for(i=this._start,this._start=n._time-(this._ts>0?e/this._ts:((this._dirty?this.totalDuration():this._tDur)-e)/-this._ts),this._end+=this._start-i,n._dirty||Oe(n);n.parent;)n.parent._time!==n._start+(n._ts>0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;this.parent||je(this._dp,this,this._start-this._delay)}return this._tTime===e&&this._dur||(this._ts||(this._pTime=e),De(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime((e+Fe(this))%this.duration()||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._tTime/this.totalDuration()},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Fe(this),t):this.duration()?this._time/this._dur:this.ratio},t.iteration=function(e,t){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*i,t):this._repeat?Me(this._tTime,i)+1:1},t.timeScale=function(e){return arguments.length?null!==this._pauseTS?(this._pauseTS=e,this):(this._ts=e,Ie(this).totalTime(this._tTime,!0)):this._ts||this._pauseTS||0},t.paused=function(e){var t=!this._ts;return arguments.length?(t!==e&&(e?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS||1,this._pauseTS=null,e=this._tTime||this._pTime,1===this.progress()&&(this._tTime-=1e-8),this.totalTime(e,!0))),this):t},t.startTime=function(e){return arguments.length?(this.parent&&this.parent._sort&&je(this.parent,this,e-this._delay),this):this._start},t.endTime=function(e){return this._start+(U(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?qe(t.rawTime(e),this):this._tTime:this._tTime},t.repeat=function(e){return arguments.length?(this._repeat=e,Be(this)):this._repeat},t.repeatDelay=function(e){return arguments.length?(this._rDelay=e,Be(this)):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Ne(this,e),U(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,U(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){var t=this._ts||this._pauseTS||0;return arguments.length?(e!==this.reversed()&&(this[null===this._pauseTS?"_ts":"_pauseTS"]=Math.abs(t)*(e?-1:1),this.totalTime(this._tTime,!0)),this):t<0},t.invalidate=function(){return this._initted=0,this},t.isActive=function(e){var t,i=this.parent||this._dp,n=this._start;return!i||this._ts&&(this._initted||!e)&&i.isActive(e)&&(t=i.rawTime(!0))>=n&&t<this.endTime(!0)-1e-8},t.eventCallback=function(e,t,i){var n=this.vars;return arguments.length>1?(t?(n[e]=t,i&&(n[e+"Params"]=i),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},t.then=function(e){var t=this;return new Promise((function(i){var n=e||Se,r=function(){var e=t.then;t.then=null,(n=n(t))&&(n.then||n===t)&&(t._prom=n,t.then=e),i(n),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?r():t._prom=r}))},t.kill=function(){rt(this)},e}();Ee(Ct.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_pauseTS:null});var kt=function(e){function t(t,i){var n;return void 0===t&&(t={}),(n=e.call(this,t,i)||this).labels={},n.smoothChildTiming=U(t.smoothChildTiming),n.autoRemoveChildren=!!t.autoRemoveChildren,n._sort=U(t.sortChildren),n}o(t,e);var i=t.prototype;return i.to=function(e,t,i){return new qt(e,we(arguments,0,this),Ne(this,z(t)?arguments[3]:i)),this},i.from=function(e,t,i){return new qt(e,we(arguments,1,this),Ne(this,z(t)?arguments[3]:i)),this},i.fromTo=function(e,t,i,n){return new qt(e,we(arguments,2,this),Ne(this,z(t)?arguments[4]:n)),this},i.set=function(e,t,i){return t.duration=0,t.parent=this,t.repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new qt(e,t,Ne(this,i)),this},i.call=function(e,t,i){return je(this,qt.delayedCall(0,e,t),Ne(this,i))},i.staggerTo=function(e,t,i,n,r,o,a){return i.duration=t,i.stagger=i.stagger||n,i.onComplete=o,i.onCompleteParams=a,i.parent=this,new qt(e,i,Ne(this,r)),this},i.staggerFrom=function(e,t,i,n,r,o,a){return i.runBackwards=1,i.immediateRender=U(i.immediateRender),this.staggerTo(e,t,i,n,r,o,a)},i.staggerFromTo=function(e,t,i,n,r,o,a,s){return n.startAt=i,n.immediateRender=U(n.immediateRender),this.staggerTo(e,t,n,r,o,a,s)},i.render=function(e,t,i){var n,r,o,s,l,u,c,h,d,f,p,g=this._time,v=this._dirty?this.totalDuration():this._tDur,m=this._dur,y=e>v-1e-8&&e>=0&&this!==a?v:e<1e-8?0:e,b=this._zTime<0!=e<0&&(this._initted||!m);if(y!==this._tTime||i||b){if(b&&(m||(g=this._zTime),!e&&t||(this._zTime=e)),n=y,d=this._start,u=0===(h=this._ts),g!==this._time&&m&&(n+=this._time-g),this._repeat&&(p=this._yoyo,l=m+this._rDelay,((n=ye(y%l))>m||v===y)&&(n=m),(s=~~(y/l))&&s===y/l&&(n=m,s--),p&&1&s&&(n=m-n,1),s!==(f=Me(this._tTime,l))&&!this._lock)){var w=p&&1&f,x=w===(p&&1&s);if(s<f&&(w=!w),g=w?0:m,this._lock=1,this.render(g,t,!m)._lock=0,!t&&this.parent&&nt(this,"onRepeat"),g!==this._time||u!==!this._ts)return this;if(x&&(this._lock=2,g=w?m+1e-4:-1e-4,this.render(g,!0)),this._lock=0,!this._ts&&!u)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,i){var n;if(i>t)for(n=e._first;n&&n._start<=i;){if(!n._dur&&"isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(!n._dur&&"isPause"===n.data&&n._start<t)return n;n=n._prev}}(this,ye(g),ye(n)))&&(y-=n-(n=c._start)),this._tTime=y,this._time=n,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),g||!n||t||nt(this,"onStart"),n>=g&&e>=0)for(r=this._first;r;){if(o=r._next,(r._act||n>=r._start)&&r._ts&&c!==r){if(r.parent!==this)return this.render(e,t,i);if(r.render(r._ts>0?(n-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(n-r._start)*r._ts,t,i),n!==this._time||!this._ts&&!u){c=0;break}}r=o}else{r=this._last;for(var D=e<0?e:n;r;){if(o=r._prev,(r._act||D<=r._end)&&r._ts&&c!==r){if(r.parent!==this)return this.render(e,t,i);if(r.render(r._ts>0?(D-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(D-r._start)*r._ts,t,i),n!==this._time||!this._ts&&!u){c=0;break}}r=o}}if(c&&!t&&(this.pause(),c.render(n>=g?0:-1e-8)._zTime=n>=g?1:-1,this._ts))return this._start=d,this.render(e,t,i);this._onUpdate&&!t&&nt(this,"onUpdate",!0),(y===v||!y&&this._ts<0)&&(d!==this._start&&Math.abs(h)===Math.abs(this._ts)||(!n||v>=this.totalDuration())&&((e||!m)&&Pe(this,1),t||e<0&&!g||(nt(this,y===v?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},i.add=function(e,t){var i=this;if(z(t)||(t=Ne(this,t)),!(e instanceof Ct)){if(V(e))return e.forEach((function(e){return i.add(e,t)})),Oe(this);if(R(e))return this.addLabel(e,t);if(!B(e))return this;e=qt.delayedCall(0,e)}return this!==e?je(this,e,t):this},i.getChildren=function(e,t,i,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=-1e8);for(var r=[],o=this._first;o;)o._start>=n&&(o instanceof qt?t&&r.push(o):(i&&r.push(o),e&&r.push.apply(r,o.getChildren(!0,t,i)))),o=o._next;return r},i.getById=function(e){for(var t=this.getChildren(1,1,1),i=t.length;i--;)if(t[i].vars.id===e)return t[i]},i.remove=function(e){return R(e)?this.removeLabel(e):B(e)?this.killTweensOf(e):(Le(this,e),e===this._recent&&(this._recent=this._last),Oe(this))},i.totalTime=function(t,i){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=ft.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts)),e.prototype.totalTime.call(this,t,i),this._forcing=0,this):this._tTime},i.addLabel=function(e,t){return this.labels[e]=Ne(this,t),this},i.removeLabel=function(e){return delete this.labels[e],this},i.addPause=function(e,t,i){var n=qt.delayedCall(0,t||oe,i);return n.data="isPause",this._hasPause=1,je(this,n,Ne(this,e))},i.removePause=function(e){var t=this._first;for(e=Ne(this,e);t;)t._start===e&&"isPause"===t.data&&Pe(t),t=t._next},i.killTweensOf=function(e,t,i){for(var n=this.getTweensOf(e,i),r=n.length;r--;)Tt!==n[r]&&n[r].kill(e,t);return this},i.getTweensOf=function(e,t){for(var i,n=[],r=Ge(e),o=this._first;o;)o instanceof qt?!be(o._targets,r)||t&&!o.isActive("started"===t)||n.push(o):(i=o.getTweensOf(r,t)).length&&n.push.apply(n,i),o=o._next;return n},i.tweenTo=function(e,t){var i=this,n=Ne(i,e),r=t&&t.startAt,o=qt.to(i,Ee({ease:"none",lazy:!1,time:n,duration:Math.abs(n-(r&&"time"in r?r.time:i._time))/i.timeScale()||1e-8,onStart:function(){i.pause();var e=Math.abs(n-i._time)/i.timeScale();o._dur!==e&&(o._dur=e,o.render(o._time,!0,!0)),t&&t.onStart&&t.onStart.apply(o,t.onStartParams||[])}},t));return o},i.tweenFromTo=function(e,t,i){return this.tweenTo(t,Ee({startAt:{time:Ne(this,e)}},i))},i.recent=function(){return this._recent},i.nextLabel=function(e){return void 0===e&&(e=this._time),it(this,Ne(this,e))},i.previousLabel=function(e){return void 0===e&&(e=this._time),it(this,Ne(this,e),1)},i.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+1e-8)},i.shiftChildren=function(e,t,i){void 0===i&&(i=0);for(var n,r=this._first,o=this.labels;r;)r._start>=i&&(r._start+=e),r=r._next;if(t)for(n in o)o[n]>=i&&(o[n]+=e);return Oe(this)},i.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},i.clear=function(e){void 0===e&&(e=!0);for(var t,i=this._first;i;)t=i._next,this.remove(i),i=t;return this._time=this._tTime=0,e&&(this.labels={}),Oe(this)},i.totalDuration=function(e){var t,i,n=0,r=this,o=r._last,s=1e8,l=r._repeat,u=l*r._rDelay||0,c=l<0;if(!arguments.length){if(r._dirty){for(;o;)t=o._prev,o._dirty&&o.totalDuration(),o._start>s&&r._sort&&o._ts&&!r._lock?(r._lock=1,je(r,o,o._start-o._delay),r._lock=0):s=o._start,o._start<0&&o._ts&&(n-=o._start,(!r.parent&&!r._dp||r.parent&&r.parent.smoothChildTiming)&&(r._start+=o._start/r._ts,r._time-=o._start,r._tTime-=o._start),r.shiftChildren(-o._start,!1,-1e8),s=0),(i=o._end=o._start+o._tDur/Math.abs(o._ts||o._pauseTS||1e-8))>n&&o._ts&&(n=ye(i)),o=t;r._dur=r===a&&r._time>n?r._time:Math.min(1e8,n),r._tDur=c&&(r._dur||u)?1e20:Math.min(1e8,n*(l+1)+u),r._end=r._start+(r._tDur/Math.abs(r._ts||r._pauseTS||1e-8)||0),r._dirty=0}return r._tDur}return c?r:r.timeScale(r.totalDuration()/e)},t.updateRoot=function(e){if(a._ts&&De(a,qe(e,a)),ft.frame>=he){he+=L.autoSleep||120;var t=a._first;if((!t||!t._ts)&&L.autoSleep&&ft._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||ft.sleep()}}},t}(Ct);Ee(kt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Tt,At=function(e,t,i,n,r,o,a){var s,l,u,c,h,d,f,p,g=new Zt(this._pt,e,t,0,1,Wt,null,r),v=0,m=0;for(g.b=i,g.e=n,i+="",(f=~(n+="").indexOf("random("))&&(n=et(n)),o&&(o(p=[i,n],e,t),i=p[0],n=p[1]),l=i.match($)||[];s=$.exec(n);)c=s[0],h=n.substring(v,s.index),u?u=(u+1)%5:"rgba("===h.substr(-5)&&(u=1),c!==l[m++]&&(d=parseFloat(l[m-1])||0,g._pt={_next:g._pt,p:h||1===m?h:",",s:d,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-d,m:u&&u<4?Math.round:0},v=$.lastIndex);return g.c=v<n.length?n.substring(v,n.length):"",g.fp=a,(K.test(n)||f)&&(g.e=0),this._pt=g,g},Lt=function(e,t,i,n,r,o,a,s,l){B(n)&&(n=n(r||0,e,o));var u,c=e[t],h="get"!==i?i:B(c)?l?e[t.indexOf("set")||!B(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():c,d=B(c)?l?Bt:Rt:jt;if(R(n)&&(~n.indexOf("random(")&&(n=et(n)),"="===n.charAt(1)&&(n=parseFloat(h)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(We(h)||0))),h!==n)return isNaN(h+n)?(!c&&!(t in e)&&ie(t,n),At.call(this,e,t,h,n,d,s||L.stringFilter,l)):(u=new Zt(this._pt,e,t,+h||0,n-(h||0),"boolean"==typeof c?Ut:Ht,0,d),l&&(u.fp=l),a&&u.modifier(a,this,e),this._pt=u)},Pt=function(e,t,i,n,r,o){var a,s,l,u;if(ue[e]&&!1!==(a=new ue[e]).init(r,a.rawVars?t[e]:function(e,t,i,n,r){if(B(e)&&(e=It(e,r,t,i,n)),!H(e)||e.style&&e.nodeType||V(e))return R(e)?It(e,r,t,i,n):e;var o,a={};for(o in e)a[o]=It(e[o],r,t,i,n);return a}(t[e],n,r,o,i),i,n,o)&&(i._pt=s=new Zt(i._pt,r,e,0,1,a.render,a,0,a.priority),i!==h))for(l=i._ptLookup[i._targets.indexOf(r)],u=a._props.length;u--;)l[a._props[u]]=s;return a},Ot=function e(t,i){var n,r,o,s,l,u,c,h,d,f,p,g,v=t.vars,m=v.ease,y=v.startAt,b=v.immediateRender,w=v.lazy,x=v.onUpdate,D=v.onUpdateParams,_=v.callbackScope,S=v.runBackwards,E=v.yoyoEase,C=v.keyframes,k=v.autoRevert,T=t._dur,A=t._startAt,L=t._targets,O=t.parent,I=O&&"nested"===O.data?O.parent._targets:L,F="auto"===t._overwrite,M=t.timeline;if(!M||C&&m||(m="none"),t._ease=wt(m,P.ease),t._yEase=E?bt(wt(!0===E?m:E,P.ease)):0,E&&t._yoyo&&!t._repeat&&(E=t._yEase,t._yEase=t._ease,t._ease=E),!M){if(A&&A.render(-1,!0).kill(),y){if(Pe(t._startAt=qt.set(L,Ee({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:U(w),startAt:null,delay:0,onUpdate:x,onUpdateParams:D,callbackScope:_,stagger:0},y))),b)if(i>0)!k&&(t._startAt=0);else if(T)return}else if(S&&T)if(A)!k&&(t._startAt=0);else if(i&&(b=!1),Pe(t._startAt=qt.set(L,ke(Ae(v,ae),{overwrite:!1,data:"isFromStart",lazy:b&&U(w),immediateRender:b,stagger:0,parent:O}))),b){if(!i)return}else e(t._startAt,1e-8);for(n=Ae(v,ae),t._pt=0,g=(h=L[0]?ge(L[0]).harness:0)&&v[h.prop],w=T&&U(w)||w&&!T,r=0;r<L.length;r++){if(c=(l=L[r])._gsap||pe(L)[r]._gsap,t._ptLookup[r]=f={},le[c.id]&&xe(),p=I===L?r:I.indexOf(l),h&&!1!==(d=new h).init(l,g||n,t,p,I)&&(t._pt=s=new Zt(t._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){f[e]=s})),d.priority&&(u=1)),!h||g)for(o in n)ue[o]&&(d=Pt(o,n,t,p,l,I))?d.priority&&(u=1):f[o]=s=Lt.call(t,l,o,"get",n[o],p,I,0,v.stringFilter);t._op&&t._op[r]&&t.kill(l,t._op[r]),F&&t._pt&&(Tt=t,a.killTweensOf(l,f,"started"),Tt=0),t._pt&&w&&(le[c.id]=1)}u&&$t(t),t._onInit&&t._onInit(t)}t._from=!M&&!!v.runBackwards,t._onUpdate=x,t._initted=1},It=function(e,t,i,n,r){return B(e)?e.call(t,i,n,r):R(e)&&~e.indexOf("random(")?et(e):e},Ft=fe+",repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Mt=(Ft+",id,stagger,delay,duration,paused").split(","),qt=function(e){function t(t,i,n){var o;"number"==typeof i&&(n.duration=i,i=n,n=null);var s,l,u,c,h,d,f,p,g=(o=e.call(this,function(e){var t=e.parent||a,i=e.keyframes?Ce:Ee;if(U(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent;return e}(i),n)||this).vars,v=g.duration,m=g.delay,y=g.immediateRender,b=g.stagger,w=g.overwrite,x=g.keyframes,D=g.defaults,_=V(t)&&z(t[0])?[t]:Ge(t);if(o._targets=_.length?pe(_):ne("GSAP target "+t+" not found. https://greensock.com",!L.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=w,x||b||Y(v)||Y(m)){if(i=o.vars,(s=o.timeline=new kt({data:"nested",defaults:D||{}})).kill(),s.parent=r(o),x)Ee(s.vars.defaults,{ease:"none"}),x.forEach((function(e){return s.to(_,e,">")}));else{if(c=_.length,f=b?$e(b):oe,H(b))for(h in b)~Ft.indexOf(h)&&(p||(p={}),p[h]=b[h]);for(l=0;l<c;l++){for(h in u={},i)Mt.indexOf(h)<0&&(u[h]=i[h]);u.stagger=0,p&&ke(u,p),i.yoyoEase&&!i.repeat&&(u.yoyoEase=i.yoyoEase),d=_[l],u.duration=+It(v,r(o),l,d,_),u.delay=(+It(m,r(o),l,d,_)||0)-o._delay,!b&&1===c&&u.delay&&(o._delay=m=u.delay,o._start+=m,u.delay=0),s.to(d,u,f(l,d,_))}v=m=0}v||o.duration(v=s.duration())}else o.timeline=0;return!0===w&&(Tt=r(o),a.killTweensOf(_),Tt=0),(y||!v&&!x&&o._start===o.parent._time&&U(y)&&function e(t){return!t||t._ts&&e(t.parent)}(r(o))&&"nested"!==o.parent.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-m))),o}o(t,e);var i=t.prototype;return i.render=function(e,t,i){var n,r,o,a,s,l,u,c,h,d=this._time,f=this._tDur,p=this._dur,g=e>f-1e-8&&e>=0?f:e<1e-8?0:e;if(p){if(g!==this._tTime||!e||i||this._startAt&&this._zTime<0!=e<0){if(n=g,c=this.timeline,this._repeat){if(a=p+this._rDelay,(n=ye(g%a))>p&&(n=p),(o=~~(g/a))&&o===g/a&&(n=p,o--),(l=this._yoyo&&1&o)&&(h=this._yEase,n=p-n),s=Me(this._tTime,a),n===d&&!i&&this._initted)return this;o!==s&&this.vars.repeatRefresh&&!this._lock&&(this._lock=i=1,this.render(a*o,!0).invalidate()._lock=0)}if(!this._initted&&Re(this,n,i,t))return this;for(this._tTime=g,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(h||this._ease)(n/p),this._from&&(this.ratio=u=1-u),d||!n||t||nt(this,"onStart"),r=this._pt;r;)r.r(u,r.d),r=r._next;c&&c.render(e<0?e:!n&&l?-1e-8:c._dur*u,t,i)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,i),nt(this,"onUpdate")),this._repeat&&o!==s&&this.vars.onRepeat&&!t&&this.parent&&nt(this,"onRepeat"),g!==f&&g||this._tTime!==g||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,i),(e||!p)&&(g||this._ts<0)&&Pe(this,1),t||e<0&&!d||(nt(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else!function(e,t,i,n){var r,o=e._zTime<0?0:1,a=t<0?0:1,s=e._rDelay,l=0;if(s&&e._repeat&&(l=Ue(0,e._tDur,t),Me(l,s)!==Me(e._tTime,s)&&(o=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),(e._initted||!Re(e,t,n,i))&&(a!==o||n||1e-8===e._zTime||!t&&e._zTime)){for(e._zTime=t||(i?1e-8:0),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,i||nt(e,"onStart"),r=e._pt;r;)r.r(a,r.d),r=r._next;!a&&e._startAt&&!e._onUpdate&&e._start&&e._startAt.render(t,!0,n),e._onUpdate&&!i&&nt(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&nt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(e.ratio&&Pe(e,1),i||(nt(e,e.ratio?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}}(this,e,t,i);return this},i.targets=function(){return this._targets},i.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},i.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t)&&(this._lazy=0,this.parent))return rt(this);if(this.timeline)return this.timeline.killTweensOf(e,t,Tt&&!0!==Tt.vars.overwrite),this;var i,n,r,o,a,s,l,u=this._targets,c=e?Ge(e):u,h=this._ptLookup,d=this._pt;if((!t||"all"===t)&&function(e,t){for(var i=e.length,n=i===t.length;n&&i--&&e[i]===t[i];);return i<0}(u,c))return rt(this);for(i=this._op=this._op||[],"all"!==t&&(R(t)&&(a={},me(t,(function(e){return a[e]=1})),t=a),t=function(e,t){var i,n,r,o,a=e[0]?ge(e[0]).harness:0,s=a&&a.aliases;if(!s)return t;for(n in i=ke({},t),s)if(n in i)for(r=(o=s[n].split(",")).length;r--;)i[o[r]]=i[n];return i}(u,t)),l=u.length;l--;)if(~c.indexOf(u[l]))for(a in n=h[l],"all"===t?(i[l]=t,o=n,r={}):(r=i[l]=i[l]||{},o=t),o)(s=n&&n[a])&&("kill"in s.d&&!0!==s.d.kill(a)||Le(this,s,"_pt"),delete n[a]),"all"!==r&&(r[a]=1);return this._initted&&!this._pt&&d&&rt(this),this},t.to=function(e,i){return new t(e,i,arguments[2])},t.from=function(e,i){return new t(e,we(arguments,1))},t.delayedCall=function(e,i,n,r){return new t(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:i,onReverseComplete:i,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:r})},t.fromTo=function(e,i,n){return new t(e,we(arguments,2))},t.set=function(e,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new t(e,i)},t.killTweensOf=function(e,t,i){return a.killTweensOf(e,t,i)},t}(Ct);Ee(qt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),me("staggerTo,staggerFrom,staggerFromTo",(function(e){qt[e]=function(){var t=new kt,i=Ge(arguments);return i.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,i)}}));var jt=function(e,t,i){return e[t]=i},Rt=function(e,t,i){return e[t](i)},Bt=function(e,t,i,n){return e[t](n.fp,i)},zt=function(e,t,i){return e.setAttribute(t,i)},Nt=function(e,t){return B(e[t])?Rt:N(e[t])&&e.setAttribute?zt:jt},Ht=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},Ut=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Wt=function(e,t){var i=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round(1e4*(i.s+i.c*e))/1e4)+n,i=i._next;n+=t.c}t.set(t.t,t.p,n,t)},Yt=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Vt=function(e,t,i,n){for(var r,o=this._pt;o;)r=o._next,o.p===n&&o.modifier(e,t,i),o=r},Xt=function(e){for(var t,i,n=this._pt;n;)i=n._next,n.p===e&&!n.op||n.op===e?Le(this,n,"_pt"):n.dep||(t=1),n=i;return!t},Gt=function(e,t,i,n){n.mSet(e,t,n.m.call(n.tween,i,n.mt),n)},$t=function(e){for(var t,i,n,r,o=e._pt;o;){for(t=o._next,i=n;i&&i.pr>o.pr;)i=i._next;(o._prev=i?i._prev:r)?o._prev._next=o:n=o,(o._next=i)?i._prev=o:r=o,o=t}e._pt=n},Zt=function(){function e(e,t,i,n,r,o,a,s,l){this.t=t,this.s=n,this.c=r,this.p=i,this.r=o||Ht,this.d=a||this,this.set=s||jt,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,i){this.mSet=this.mSet||this.set,this.set=Gt,this.m=e,this.mt=i,this.tween=t},e}();me(fe+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",(function(e){ae[e]=1,"on"===e.substr(0,2)&&(ae[e+"Params"]=1)})),Q.TweenMax=Q.TweenLite=qt,Q.TimelineLite=Q.TimelineMax=kt,a=new kt({sortChildren:!1,defaults:P,autoRemoveChildren:!0,id:"root"}),L.stringFilter=dt;var Kt={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((function(e){return ot(e)}))},timeline:function(e){return new kt(e)},getTweensOf:function(e,t){return a.getTweensOf(e,t)},getProperty:function(e,t,i,n){R(e)&&(e=Ge(e)[0]);var r=ge(e||{}).get,o=i?Se:_e;return"native"===i&&(i=""),e?t?o((ue[t]&&ue[t].get||r)(e,t,i,n)):function(t,i,n){return o((ue[t]&&ue[t].get||r)(e,t,i,n))}:e},quickSetter:function(e,t,i){if((e=Ge(e)).length>1){var n=e.map((function(e){return ei.quickSetter(e,t,i)})),r=n.length;return function(e){for(var t=r;t--;)n[t](e)}}e=e[0]||{};var o=ue[t],a=ge(e),s=o?function(t){var n=new o;h._pt=0,n.init(e,i?t+i:t,h,0,[e]),n.render(1,n),h._pt&&Yt(1,h)}:a.set(e,t);return o?s:function(n){return s(e,t,i?n+i:n,a,1)}},isTweening:function(e){return a.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=wt(e.ease,P.ease)),Te(P,e||{})},config:function(e){return Te(L,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,n=e.plugins,r=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach((function(e){return e&&!ue[e]&&!Q[e]&&ne(t+" effect requires "+e+" plugin.")})),ce[t]=function(e,t){return i(Ge(e),Ee(t||{},r))},o&&(kt.prototype[t]=function(e,i,n){return this.add(ce[t](e,H(i)?i:(n=i)&&{}),n)})},registerEase:function(e,t){gt[e]=wt(t)},parseEase:function(e,t){return arguments.length?wt(e,t):gt},getById:function(e){return a.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var i,n,r=new kt(e);for(r.smoothChildTiming=U(e.smoothChildTiming),a.remove(r),r._dp=0,r._time=r._tTime=a._time,i=a._first;i;)n=i._next,!t&&!i._dur&&i instanceof qt&&i.vars.onComplete===i._targets[0]||je(r,i,i._start-i._delay),i=n;return je(a,r,0),r},utils:{wrap:function e(t,i,n){var r=i-t;return V(t)?Qe(t,e(0,t.length),i):He(n,(function(e){return(r+(e-t)%r)%r+t}))},wrapYoyo:function e(t,i,n){var r=i-t,o=2*r;return V(t)?Qe(t,e(0,t.length-1),i):He(n,(function(e){return t+((e=(o+(e-t)%o)%o)>r?o-e:e)}))},distribute:$e,random:Je,snap:Ke,normalize:function(e,t,i){return tt(e,t,0,1,i)},getUnit:We,clamp:function(e,t,i){return He(i,(function(i){return Ue(e,t,i)}))},splitColor:lt,toArray:Ge,mapRange:tt,pipe:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(i){return e(parseFloat(i))+(t||We(i))}},interpolate:function e(t,i,n,r){var o=isNaN(t+i)?0:function(e){return(1-e)*t+e*i};if(!o){var a,s,l,u,c,h=R(t),d={};if(!0===n&&(r=1)&&(n=null),h)t={p:t},i={p:i};else if(V(t)&&!V(i)){for(l=[],u=t.length,c=u-2,s=1;s<u;s++)l.push(e(t[s-1],t[s]));u--,o=function(e){e*=u;var t=Math.min(c,~~e);return l[t](e-t)},n=i}else r||(t=ke(V(t)?[]:{},t));if(!l){for(a in i)Lt.call(d,t,a,"get",i[a]);o=function(e){return Yt(e,d)||(h?t.p:t)}}}return He(n,o)}},install:te,effects:ce,ticker:ft,updateRoot:kt.updateRoot,plugins:ue,globalTimeline:a,core:{PropTween:Zt,globals:re,Tween:qt,Timeline:kt,Animation:Ct,getCache:ge}};me("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return Kt[e]=qt[e]})),ft.add(kt.updateRoot),h=Kt.to({},{duration:0});var Jt=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Qt=function(e,t){return{name:e,rawVars:1,init:function(e,i,n){n._onInit=function(e){var n,r;if(R(i)&&(n={},me(i,(function(e){return n[e]=1})),i=n),t){for(r in n={},i)n[r]=t(i[r]);i=n}!function(e,t){var i,n,r,o=e._targets;for(i in t)for(n=o.length;n--;)(r=e._ptLookup[n][i])&&(r=r.d)&&(r._pt&&(r=Jt(r,i)),r&&r.modifier&&r.modifier(t[i],e,o[n],i))}(e,i)}}}},ei=Kt.registerPlugin({name:"attr",init:function(e,t,i,n,r){for(var o in t)this.add(e,"setAttribute",(e.getAttribute(o)||0)+"",t[o],n,r,0,0,o),this._props.push(o)}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i])}},Qt("roundProps",Ze),Qt("modifiers"),Qt("snap",Ke))||Kt;qt.version=kt.version=ei.version="3.0.4",c=1,W()&&pt();gt.Power0;
/*!
 * CSSPlugin 3.0.4
 * https://greensock.com
 *
 * Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ti,ii,ni,ri,oi,ai,si,li,ui,ci,hi=gt.Power1,di=gt.Power2,fi=gt.Power3,pi=gt.Power4,gi=(gt.Linear,gt.Quad,gt.Cubic,gt.Quart,gt.Quint,gt.Strong,gt.Elastic,gt.Back),vi=(gt.SteppedEase,gt.Bounce,gt.Sine,gt.Expo),mi=gt.Circ,yi={},bi=180/Math.PI,wi=Math.PI/180,xi=Math.atan2,Di=/([A-Z])/g,_i=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,Si=/(?:left|right|width|margin|padding|x)/i,Ei=/[\s,\(]\S/,Ci={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ki=function(e,t){return t.set(t.t,t.p,~~(1e3*(t.s+t.c*e))/1e3+t.u,t)},Ti=function(e,t){return t.set(t.t,t.p,1===e?t.e:~~(1e3*(t.s+t.c*e))/1e3+t.u,t)},Ai=function(e,t){return t.set(t.t,t.p,e?~~(1e3*(t.s+t.c*e))/1e3+t.u:t.b,t)},Li=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},Pi=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Oi=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Ii=function(e,t,i){return e.style[t]=i},Fi=function(e,t,i){return e.style.setProperty(t,i)},Mi=function(e,t,i){return e._gsap[t]=i},qi=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},ji=function(e,t,i,n,r){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(r,o)},Ri=function(e,t,i,n,r){var o=e._gsap;o[t]=i,o.renderTransform(r,o)},Bi="transform",zi=Bi+"Origin",Ni=function(e,t){var i=ii.createElementNS?ii.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ii.createElement(e);return i.style?i:ii.createElement(e)},Hi=function e(t,i,n){var r=getComputedStyle(t);return r[i]||r.getPropertyValue(i.replace(Di,"-$1").toLowerCase())||r.getPropertyValue(i)||!n&&e(t,Wi(i)||i,1)||""},Ui="O,Moz,ms,Ms,Webkit".split(","),Wi=function(e,t){var i=(t||oi).style,n=5;if(e in i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);n--&&!(Ui[n]+e in i););return n<0?null:(3===n?"ms":n>=0?Ui[n]:"")+e},Yi=function(){"undefined"!=typeof window&&(ti=window,ii=ti.document,ni=ii.documentElement,oi=Ni("div")||{style:{}},ai=Ni("div"),Bi=Wi(Bi),zi=Wi(zi),oi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",li=!!Wi("perspective"),ri=1)},Vi=function e(t){var i,n=Ni("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(ni.appendChild(n),n.appendChild(this),this.style.display="block",t)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(i=this._gsapBBox());return o?r.insertBefore(this,o):r.appendChild(this),ni.removeChild(n),this.style.cssText=a,i},Xi=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},Gi=function(e){var t;try{t=e.getBBox()}catch(i){t=Vi.call(e,!0)}return!t||t.width||t.x||t.y?t:{x:+Xi(e,["x","cx","x1"])||0,y:+Xi(e,["y","cy","y1"])||0,width:0,height:0}},$i=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Gi(e))},Zi=function(e,t){if(t){var i=e.style;t in yi&&(t=Bi),i.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),i.removeProperty(t.replace(Di,"-$1").toLowerCase())):i.removeAttribute(t)}},Ki=function(e,t,i,n,r,o){var a=new Zt(e._pt,t,i,0,1,o?Oi:Pi);return e._pt=a,a.b=n,a.e=r,e._props.push(i),a},Ji={deg:1,rad:1,turn:1},Qi=function(e,t,i,n){var r,o,a,s,l=parseFloat(i),u=(i+"").substr((l+"").length)||"px",c=oi.style,h=Si.test(t),d="svg"===e.tagName.toLowerCase(),f=(d?"client":"offset")+(h?"Width":"Height"),p="px"===n;return n===u||Ji[n]||Ji[u]?l:(s=e.getCTM&&$i(e),"%"===n&&yi[t]?ye(l/(s?e.getBBox()[h?"width":"height"]:e[f])*100):(c[h?"width":"height"]=100+(p?u:n),o="em"===n&&e.appendChild&&!d?e:e.parentNode,s&&(o=(e.ownerSVGElement||{}).parentNode),o&&o!==ii&&o.appendChild||(o=ii.body),(a=o._gsap)&&"%"===n&&a.width&&h&&a.time===ft.time?ye(l/a.width*100):(o.appendChild(oi),r=oi[f],o.removeChild(oi),h&&"%"===n&&((a=ge(o)).time=ft.time,a.width=o[f]),ye(p?r*l/100:100/r*l))))},en=function(e,t,i,n){var r;return ri||Yi(),t in Ci&&"transform"!==t&&~(t=Ci[t]).indexOf(",")&&(t=t.split(",")[0]),yi[t]&&"transform"!==t?(r=dn(e,n),r="transformOrigin"!==t?r[t]:fn(Hi(e,zi))+r.zOrigin+"px"):(!(r=e.style[t])||"auto"===r||n||~r.indexOf("calc("))&&(r=Hi(e,t)||ve(e,t)||("opacity"===t?1:0)),i?Qi(e,t,r,i)+i:r},tn=function(e,t,i,n){var r,o,a,s,l,u,c,h,d,f,p,g,v=new Zt(this._pt,e.style,t,0,1,Wt),m=0,y=0;if(v.b=i,v.e=n,i+="","auto"===(n+="")&&(e.style[t]=n,n=Hi(e,t)||n,e.style[t]=i),dt(r=[i,n]),n=r[1],!!(u=(i=r[0]).indexOf("rgba("))!=!!(c=n.indexOf("rgba("))&&(u?i=i.substr(u)+" "+i.substr(0,u-1):n=n.substr(c)+" "+n.substr(0,c-1)),a=i.match(_i)||[],(n.match(_i)||[]).length){for(;o=_i.exec(n);)c=o[0],d=n.substring(m,o.index),l?l=(l+1)%5:"rgba("===d.substr(-5)&&(l=1),c!==(u=a[y++]||"")&&(s=parseFloat(u)||0,p=u.substr((s+"").length),(g="="===c.charAt(1)?+(c.charAt(0)+"1"):0)&&(c=c.substr(2)),h=parseFloat(c),f=c.substr((h+"").length),m=_i.lastIndex-f.length,f||(f=f||L.units[t]||p,m===n.length&&(n+=f,v.e+=f)),p!==f&&(s=Qi(e,t,u,f)||0),v._pt={_next:v._pt,p:d||1===y?d:",",s:s,c:g?g*h:h-s,m:l&&l<4?Math.round:0});v.c=m<n.length?n.substring(m,n.length):""}else v.r="display"===t&&"none"===n?Oi:Pi;return K.test(n)&&(v.e=0),this._pt=v,v},nn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},rn=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i,n,r,o=t.t,a=o.style,s=t.u;if("all"===s||!0===s)a.cssText="",n=1;else for(r=(s=s.split(",")).length;--r>-1;)i=s[r],yi[i]&&(n=1,i="transformOrigin"===i?zi:Bi),Zi(o,i);n&&(Zi(o,Bi),(n=o._gsap)&&(n.svg&&o.removeAttribute("transform"),dn(o,1)))}},on={clearProps:function(e,t,i,n,r){if("isFromStart"!==r.data){var o=e._pt=new Zt(e._pt,t,i,0,0,rn);return o.u=n,o.pr=-10,o.tween=r,e._props.push(i),1}}},an=[1,0,0,1,0,0],sn={},ln=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},un=function(e){var t=Hi(e,Bi);return ln(t)?an:t.substr(7).match(G).map(ye)},cn=function(e,t){var i,n,r,o,a=e._gsap,s=e.style,l=un(e);return a.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=e.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?an:l:(l!==an||e.offsetParent||e===ni||a.svg||(r=s.display,s.display="block",(i=e.parentNode)&&e.offsetParent||(o=1,n=e.nextSibling,ni.appendChild(e)),l=un(e),r?s.display=r:Zi(e,"display"),o&&(n?i.insertBefore(e,n):i?i.appendChild(e):ni.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},hn=function(e,t,i,n,r,o){var a,s,l,u=e._gsap,c=r||cn(e,!0),h=u.xOrigin||0,d=u.yOrigin||0,f=u.xOffset||0,p=u.yOffset||0,g=c[0],v=c[1],m=c[2],y=c[3],b=c[4],w=c[5],x=t.split(" "),D=parseFloat(x[0])||0,_=parseFloat(x[1])||0;i?c!==an&&(s=g*y-v*m)&&(l=D*(-v/s)+_*(g/s)-(g*w-v*b)/s,D=D*(y/s)+_*(-m/s)+(m*w-y*b)/s,_=l):(D=(a=Gi(e)).x+(~x[0].indexOf("%")?D/100*a.width:D),_=a.y+(~(x[1]||x[0]).indexOf("%")?_/100*a.height:_)),n||!1!==n&&u.smooth?(b=D-h,w=_-d,u.xOffset=f+(b*g+w*m)-b,u.yOffset=p+(b*v+w*y)-w):u.xOffset=u.yOffset=0,u.xOrigin=D,u.yOrigin=_,u.smooth=!!n,u.origin=t,u.originIsAbsolute=!!i,e.style[zi]="0px 0px",o&&(Ki(o,u,"xOrigin",h,D),Ki(o,u,"yOrigin",d,_),Ki(o,u,"xOffset",f,u.xOffset),Ki(o,u,"yOffset",p,u.yOffset))},dn=function(e,t){var i=e._gsap||new Et(e);if("x"in i&&!t&&!i.uncache)return i;var n,r,o,a,s,l,u,c,h,d,f,p,g,v,m,y,b,w,x,D,_,S,E,C,k,T,A,P,O,I,F=e.style,M=i.scaleX<0,q=i.xOrigin||0,j=i.yOrigin||0,R=Hi(e,zi)||"0";return n=r=o=l=u=c=h=d=f=0,a=s=1,i.svg=!(!e.getCTM||!$i(e)),p=cn(e,i.svg),i.svg&&hn(e,R,i.originIsAbsolute,!1!==i.smooth,p),p!==an&&(y=p[0],b=p[1],w=p[2],x=p[3],n=D=p[4],r=_=p[5],6===p.length?(a=Math.sqrt(y*y+b*b),s=Math.sqrt(x*x+w*w),l=y||b?xi(b,y)*bi:0,h=w||x?xi(w,x)*bi+l:0,i.svg&&(n-=q-(q*y+j*w),r-=j-(q*b+j*x))):(I=p[6],P=p[7],k=p[8],T=p[9],A=p[10],O=p[11],n=p[12],r=p[13],o=p[14],u=(g=xi(I,A))*bi,g&&(S=D*(v=Math.cos(-g))+k*(m=Math.sin(-g)),E=_*v+T*m,C=I*v+A*m,k=D*-m+k*v,T=_*-m+T*v,A=I*-m+A*v,O=P*-m+O*v,D=S,_=E,I=C),c=(g=xi(-w,A))*bi,g&&(v=Math.cos(-g),O=x*(m=Math.sin(-g))+O*v,y=S=y*v-k*m,b=E=b*v-T*m,w=C=w*v-A*m),l=(g=xi(b,y))*bi,g&&(S=y*(v=Math.cos(g))+b*(m=Math.sin(g)),E=D*v+_*m,b=b*v-y*m,_=_*v-D*m,y=S,D=E),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,c=180-c),a=ye(Math.sqrt(y*y+b*b+w*w)),s=ye(Math.sqrt(_*_+I*I)),g=xi(D,_),h=Math.abs(g)>2e-4?g*bi:0,f=O?1/(O<0?-O:O):0),i.svg&&(p=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!ln(Hi(e,Bi)),p&&e.setAttribute("transform",p))),Math.abs(h)>90&&Math.abs(h)<270&&(M?(a*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),i.x=((i.xPercent=n&&Math.round(e.offsetWidth/2)===Math.round(-n)?-50:0)?0:n)+"px",i.y=((i.yPercent=r&&Math.round(e.offsetHeight/2)===Math.round(-r)?-50:0)?0:r)+"px",i.z=o+"px",i.scaleX=ye(a),i.scaleY=ye(s),i.rotation=ye(l)+"deg",i.rotationX=ye(u)+"deg",i.rotationY=ye(c)+"deg",i.skewX=h+"deg",i.skewY=d+"deg",i.transformPerspective=f+"px",(i.zOrigin=parseFloat(R.split(" ")[2])||0)&&(F[zi]=fn(R)),i.xOffset=i.yOffset=0,i.force3D=L.force3D,i.renderTransform=i.svg?mn:li?vn:gn,i.uncache=0,i},fn=function(e){return(e=e.split(" "))[0]+" "+e[1]},pn=function(e,t,i){var n=We(t);return ye(parseFloat(t)+parseFloat(Qi(e,"x",i+"px",n)))+n},gn=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,vn(e,t)},vn=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,o=i.x,a=i.y,s=i.z,l=i.rotation,u=i.rotationY,c=i.rotationX,h=i.skewX,d=i.skewY,f=i.scaleX,p=i.scaleY,g=i.transformPerspective,v=i.force3D,m=i.target,y=i.zOrigin,b="",w="auto"===v&&e&&1!==e||!0===v;if(y&&("0deg"!==c||"0deg"!==u)){var x,D=parseFloat(u)*wi,_=Math.sin(D),S=Math.cos(D);D=parseFloat(c)*wi,x=Math.cos(D),o=pn(m,o,_*x*-y),a=pn(m,a,-Math.sin(D)*-y),s=pn(m,s,S*x*-y+y)}(n||r)&&(b="translate("+n+"%, "+r+"%) "),(w||"0px"!==o||"0px"!==a||"0px"!==s)&&(b+="0px"!==s||w?"translate3d("+o+", "+a+", "+s+") ":"translate("+o+", "+a+") "),"0px"!==g&&(b+="perspective("+g+") "),"0deg"!==l&&(b+="rotate("+l+") "),"0deg"!==u&&(b+="rotateY("+u+") "),"0deg"!==c&&(b+="rotateX("+c+") "),"0deg"===h&&"0deg"===d||(b+="skew("+h+", "+d+") "),1===f&&1===p||(b+="scale("+f+", "+p+") "),m.style[Bi]=b||"translate(0, 0)"},mn=function(e,t){var i,n,r,o,a,s=t||this,l=s.xPercent,u=s.yPercent,c=s.x,h=s.y,d=s.rotation,f=s.skewX,p=s.skewY,g=s.scaleX,v=s.scaleY,m=s.target,y=s.xOrigin,b=s.yOrigin,w=s.xOffset,x=s.yOffset,D=s.forceCSS,_=parseFloat(c),S=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=wi,f*=wi,i=Math.cos(d)*g,n=Math.sin(d)*g,r=Math.sin(d-f)*-v,o=Math.cos(d-f)*v,f&&(p*=wi,a=Math.tan(f-p),r*=a=Math.sqrt(1+a*a),o*=a,p&&(a=Math.tan(p),i*=a=Math.sqrt(1+a*a),n*=a)),i=ye(i),n=ye(n),r=ye(r),o=ye(o)):(i=g,o=v,n=r=0),(_&&!~(c+"").indexOf("px")||S&&!~(h+"").indexOf("px"))&&(_=Qi(m,"x",c,"px"),S=Qi(m,"y",h,"px")),(y||b||w||x)&&(_=ye(_+y-(y*i+b*r)+w),S=ye(S+b-(y*n+b*o)+x)),(l||u)&&(a=m.getBBox(),_=ye(_+l/100*a.width),S=ye(S+u/100*a.height)),a="matrix("+i+","+n+","+r+","+o+","+_+","+S+")",m.setAttribute("transform",a),D&&(m.style[Bi]=a)},yn=function(e,t,i,n,r,o){var a,s,l=R(r),u=parseFloat(r)*(l&&~r.indexOf("rad")?bi:1),c=o?u*o:u-n,h=n+c+"deg";return l&&("short"===(a=r.split("_")[1])&&(c%=360)!==c%180&&(c+=c<0?360:-360),"cw"===a&&c<0?c=(c+36e9)%360-360*~~(c/360):"ccw"===a&&c>0&&(c=(c-36e9)%360-360*~~(c/360))),e._pt=s=new Zt(e._pt,t,i,n,c,Ti),s.e=h,s.u="deg",e._props.push(i),s},bn=function(e,t,i){var n,r,o,a,s,l,u,c=ai.style,h=i._gsap;for(r in c.cssText=getComputedStyle(i).cssText+";position:absolute;display:block;",c[Bi]=t,ii.body.appendChild(ai),n=dn(ai,1),yi)(o=h[r])!==(a=n[r])&&"perspective"!==r&&(s=We(o)!==(u=We(a))?Qi(i,r,o,u):parseFloat(o),l=parseFloat(a),e._pt=new Zt(e._pt,h,r,s,l-s,ki),e._pt.u=u,e._props.push(r));ii.body.removeChild(ai)},wn={name:"css",register:Yi,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,n,r){var o,a,s,l,u,c,h,d,f,p,g,v,m,y,b,w,x,D,_,S=this._props,E=e.style;for(h in ri||Yi(),t)if("autoRound"!==h&&(a=t[h],!ue[h]||!Pt(h,t,i,n,e,r)))if(c=on[h],"function"===(u=typeof a)&&(u=typeof(a=a.call(i,n,e,r))),"string"===u&&~a.indexOf("random(")&&(a=et(a)),c)c(this,e,h,a,i)&&(b=1);else if("--"===h.substr(0,2))this.add(E,"setProperty",getComputedStyle(e).getPropertyValue(h)+"",a+"",n,r,0,0,h);else{if(o=en(e,h),l=parseFloat(o),(p="string"===u&&"="===a.charAt(1)?+(a.charAt(0)+"1"):0)&&(a=a.substr(2)),s=parseFloat(a),h in Ci&&("autoAlpha"===h&&(1===l&&"hidden"===en(e,"visibility")&&s&&(l=0),Ki(this,E,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==h&&"transform"!==h&&~(h=Ci[h]).indexOf(",")&&(h=h.split(",")[0])),g=h in yi)if(v||(m=e._gsap,y=!1!==t.smoothOrigin&&m.smooth,(v=this._pt=new Zt(this._pt,E,Bi,0,1,m.renderTransform,m,0,-1)).dep=1),"scale"===h)this._pt=new Zt(this._pt,m,"scaleY",m.scaleY,p?p*s:s-m.scaleY),S.push("scaleY",h),h+="X";else{if("transformOrigin"===h){x=void 0,D=void 0,_=void 0,x=(w=a).split(" "),D=x[0],_=x[1]||"50%","top"!==D&&"bottom"!==D&&"left"!==_&&"right"!==_||(w=D,D=_,_=w),x[0]=nn[D]||D,x[1]=nn[_]||_,a=x.join(" "),m.svg?hn(e,a,0,y,0,this):((f=parseFloat(a.split(" ")[2]))!==m.zOrigin&&Ki(this,m,"zOrigin",m.zOrigin,f),Ki(this,E,h,fn(o),fn(a)));continue}if("svgOrigin"===h){hn(e,a,1,y,0,this);continue}if(h in sn){yn(this,m,h,l,a,p);continue}if("smoothOrigin"===h){Ki(this,m,"smooth",m.smooth,a);continue}if("force3D"===h){m[h]=a;continue}if("transform"===h){bn(this,a,e);continue}}else h in E||(h=Wi(h)||h);if(g||(s||0===s)&&(l||0===l)&&!Ei.test(a)&&h in E)(d=(o+"").substr((l+"").length))!==(f=(a+"").substr((s+"").length)||(h in L.units?L.units[h]:d))&&(l=Qi(e,h,o,f)),this._pt=new Zt(this._pt,g?m:E,h,l,p?p*s:s-l,"px"!==f||!1===t.autoRound||g?ki:Li),this._pt.u=f||0,d!==f&&(this._pt.b=o,this._pt.r=Ai);else if(h in E)tn.call(this,e,h,o,a);else{if(!(h in e)){ie(h,a);continue}this.add(e,h,e[h],a,n,r)}S.push(h)}b&&$t(this)},get:en,aliases:Ci,getSetter:function(e,t,i){return t in yi&&t!==zi&&(e._gsap.x||en(e,"x"))?i&&si===i?"scale"===t?qi:Mi:(si=i||{})&&("scale"===t?ji:Ri):e.style&&!N(e.style[t])?Ii:~t.indexOf("-")?Fi:Nt(e,t)}};ei.utils.checkPrefix=Wi,ci=me("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(ui="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){yi[e]=1})),me(ui,(function(e){L.units[e]="deg",sn[e]=1})),Ci[ci[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+ui,me("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");Ci[t[1]]=ci[t[0]]})),me("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){L.units[e]="px"})),ei.registerPlugin(wn);var xn,Dn,_n,Sn,En,Cn=ei.registerPlugin(wn)||ei,kn=function(){return"undefined"!=typeof window},Tn=function(){return xn||kn()&&(xn=window.gsap)&&xn.registerPlugin&&xn},An=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,Ln={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},Pn=function(e){return Math.round(1e4*e)/1e4},On=function(e){return parseFloat(e||0)},In=function(e,t){return On(e.getAttribute(t))},Fn=Math.sqrt,Mn=function(e,t,i,n,r,o){return Fn(Math.pow((On(i)-On(e))*r,2)+Math.pow((On(n)-On(t))*o,2))},qn=function(e){return console.warn(e)},jn=function(e){return"non-scaling-stroke"===e.getAttribute("vector-effect")},Rn=function(e){if(!(e=Dn(e)[0]))return 0;var t,i,n,r,o,a,s,l=e.tagName.toLowerCase(),u=e.style,c=1,h=1;jn(e)&&(h=e.getScreenCTM(),c=Fn(h.a*h.a+h.b*h.b),h=Fn(h.d*h.d+h.c*h.c));try{i=e.getBBox()}catch(e){qn("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var d=i||{x:0,y:0,width:0,height:0},f=d.x,p=d.y,g=d.width,v=d.height;if(i&&(g||v)||!Ln[l]||(g=In(e,Ln[l][0]),v=In(e,Ln[l][1]),"rect"!==l&&"line"!==l&&(g*=2,v*=2),"line"===l&&(f=In(e,"x1"),p=In(e,"y1"),g=Math.abs(g-f),v=Math.abs(v-p))),"path"===l)r=u.strokeDasharray,u.strokeDasharray="none",t=e.getTotalLength()||0,c!==h&&qn("Warning: <path> length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),t*=(c+h)/2,u.strokeDasharray=r;else if("rect"===l)t=2*g*c+2*v*h;else if("line"===l)t=Mn(f,p,f+g,p+v,c,h);else if("polyline"===l||"polygon"===l)for(n=e.getAttribute("points").match(An)||[],"polygon"===l&&n.push(n[0],n[1]),t=0,o=2;o<n.length;o+=2)t+=Mn(n[o-2],n[o-1],n[o],n[o+1],c,h)||0;else"circle"!==l&&"ellipse"!==l||(a=g/2*c,s=v/2*h,t=Math.PI*(3*(a+s)-Fn((3*a+s)*(a+3*s))));return t||0},Bn=function(e,t){if(!(e=Dn(e)[0]))return[0,0];t||(t=Rn(e)+1);var i=_n.getComputedStyle(e),n=i.strokeDasharray||"",r=On(i.strokeDashoffset),o=n.indexOf(",");return o<0&&(o=n.indexOf(" ")),(n=o<0?t:On(n.substr(0,o))||1e-5)>t&&(n=t),[Math.max(0,-r),Math.max(0,n-r)]},zn=function(){kn()&&(document,_n=window,En=xn=Tn(),Dn=xn.utils.toArray,Sn=-1!==((_n.navigator||{}).userAgent||"").indexOf("Edge"))},Nn={version:"3.0.4",name:"drawSVG",register:function(e){xn=e,zn()},init:function(e,t,i,n,r){if(!e.getBBox)return!1;En||zn();var o,a,s,l,u=Rn(e)+1;return this._style=e.style,this._target=e,t+""=="true"?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",a=function(e,t,i){var n,r,o=e.indexOf(" ");return o<0?(n=void 0!==i?i+"":e,r=e):(n=e.substr(0,o),r=e.substr(o+1)),(n=~n.indexOf("%")?On(n)/100*t:On(n))>(r=~r.indexOf("%")?On(r)/100*t:On(r))?[r,n]:[n,r]}(t,u,(o=Bn(e,u))[0]),this._length=Pn(u+10),0===o[0]&&0===a[0]?(s=Math.max(1e-5,a[1]-u),this._dash=Pn(u+s),this._offset=Pn(u-o[1]+s),this._offsetPT=this.add(this,"_offset",this._offset,Pn(u-a[1]+s))):(this._dash=Pn(o[1]-o[0])||1e-6,this._offset=Pn(-o[0]),this._dashPT=this.add(this,"_dash",this._dash,Pn(a[1]-a[0])||1e-5),this._offsetPT=this.add(this,"_offset",this._offset,Pn(-a[0]))),Sn&&(l=_n.getComputedStyle(e)).strokeLinecap!==l.strokeLinejoin&&(a=On(l.strokeMiterlimit),this.add(e.style,"strokeMiterlimit",a,a+.01)),this._live=jn(e)||~(t+"").indexOf("live"),this._props.push("drawSVG"),1},render:function(e,t){var i,n,r,o,a=t._pt,s=t._style;if(a){for(t._live&&(i=Rn(t._target)+11)!==t._length&&(n=i/t._length,t._length=i,t._offsetPT.s*=n,t._offsetPT.c*=n,t._dashPT?(t._dashPT.s*=n,t._dashPT.c*=n):t._dash*=n);a;)a.r(e,a.d),a=a._next;r=t._dash,o=t._offset,i=t._length,s.strokeDashoffset=t._offset,1!==e&&e?s.strokeDasharray=r+"px,"+i+"px":(r-o<.001&&i-r<=10&&(s.strokeDashoffset=o+1),s.strokeDasharray=o<.001&&i-r<=10?"none":o===r?"0px, 999999px":r+"px,"+i+"px")}},getLength:Rn,getPosition:Bn};
/*!
 * DrawSVGPlugin 3.0.4
 * https://greensock.com
 *
 * @license Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/Tn()&&xn.registerPlugin(Nn);
/*!
 * strings: 3.0.4
 * https://greensock.com
 *
 * Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var Hn=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;
/*!
 * SplitText: 3.0.4
 * https://greensock.com
 *
 * @license Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var Un,Wn,Yn,Vn=/(?:\r|\n|\t\t)/g,Xn=/(?:\s\s+)/g,Gn=function(e){return Wn.getComputedStyle(e)},$n=Array.isArray,Zn=[].slice,Kn=function(e,t){var i;return $n(e)?e:"string"==(i=typeof e)&&!t&&e?Zn.call(Un.querySelectorAll(e),0):e&&"object"===i&&"length"in e?Zn.call(e,0):e?[e]:[]},Jn=function(e){return"absolute"===e.position||!0===e.absolute},Qn=function(e,t){for(var i,n=t.length;--n>-1;)if(i=t[n],e.substr(0,i.length)===i)return i.length},er=function(e,t){void 0===e&&(e="");var i=~e.indexOf("++"),n=1;return i&&(e=e.split("++").join("")),function(){return"<"+t+" style='position:relative;display:inline-block;'"+(e?" class='"+e+(i?n++:"")+"'>":">")}},tr=function e(t,i,n){var r=t.nodeType;if(1===r||9===r||11===r)for(t=t.firstChild;t;t=t.nextSibling)e(t,i,n);else 3!==r&&4!==r||(t.nodeValue=t.nodeValue.split(i).join(n))},ir=function(e,t){for(var i=t.length;--i>-1;)e.push(t[i])},nr=function(e,t,i){for(var n;e&&e!==t;){if(n=e._next||e.nextSibling)return n.textContent.charAt(0)===i;e=e.parentNode||e._parent}},rr=function e(t){var i,n,r=Kn(t.childNodes),o=r.length;for(i=0;i<o;i++)(n=r[i])._isSplit?e(n):(i&&3===n.previousSibling.nodeType?n.previousSibling.nodeValue+=3===n.nodeType?n.nodeValue:n.firstChild.nodeValue:3!==n.nodeType&&t.insertBefore(n.firstChild,n),t.removeChild(n))},or=function(e,t){return parseFloat(t[e])||0},ar=function(e,t,i,n,r,o,a){var s,l,u,c,h,d,f,p,g,v,m,y,b=Gn(e),w=or("paddingLeft",b),x=-999,D=or("borderBottomWidth",b)+or("borderTopWidth",b),_=or("borderLeftWidth",b)+or("borderRightWidth",b),S=or("paddingTop",b)+or("paddingBottom",b),E=or("paddingLeft",b)+or("paddingRight",b),C=.2*or("fontSize",b),k=b.textAlign,T=[],A=[],L=[],P=t.wordDelimiter||" ",O=t.tag?t.tag:t.span?"span":"div",I=t.type||t.split||"chars,words,lines",F=r&&~I.indexOf("lines")?[]:null,M=~I.indexOf("words"),q=~I.indexOf("chars"),j=Jn(t),R=t.linesClass,B=~(R||"").indexOf("++"),z=[];for(B&&(R=R.split("++").join("")),u=(l=e.getElementsByTagName("*")).length,h=[],s=0;s<u;s++)h[s]=l[s];if(F||j)for(s=0;s<u;s++)((d=(c=h[s]).parentNode===e)||j||q&&!M)&&(y=c.offsetTop,F&&d&&Math.abs(y-x)>C&&("BR"!==c.nodeName||0===s)&&(f=[],F.push(f),x=y),j&&(c._x=c.offsetLeft,c._y=y,c._w=c.offsetWidth,c._h=c.offsetHeight),F&&((c._isSplit&&d||!q&&d||M&&d||!M&&c.parentNode.parentNode===e&&!c.parentNode._isSplit)&&(f.push(c),c._x-=w,nr(c,e,P)&&(c._wordEnd=!0)),"BR"===c.nodeName&&(c.nextSibling&&"BR"===c.nextSibling.nodeName||0===s)&&F.push([])));for(s=0;s<u;s++)d=(c=h[s]).parentNode===e,"BR"!==c.nodeName?(j&&(g=c.style,M||d||(c._x+=c.parentNode._x,c._y+=c.parentNode._y),g.left=c._x+"px",g.top=c._y+"px",g.position="absolute",g.display="block",g.width=c._w+1+"px",g.height=c._h+"px"),!M&&q?c._isSplit?(c._next=c.nextSibling,c.parentNode.appendChild(c)):c.parentNode._isSplit?(c._parent=c.parentNode,!c.previousSibling&&c.firstChild&&(c.firstChild._isFirst=!0),c.nextSibling&&" "===c.nextSibling.textContent&&!c.nextSibling.nextSibling&&z.push(c.nextSibling),c._next=c.nextSibling&&c.nextSibling._isFirst?null:c.nextSibling,c.parentNode.removeChild(c),h.splice(s--,1),u--):d||(y=!c.nextSibling&&nr(c.parentNode,e,P),c.parentNode._parent&&c.parentNode._parent.appendChild(c),y&&c.parentNode.appendChild(Un.createTextNode(" ")),"span"===O&&(c.style.display="inline"),T.push(c)):c.parentNode._isSplit&&!c._isSplit&&""!==c.innerHTML?A.push(c):q&&!c._isSplit&&("span"===O&&(c.style.display="inline"),T.push(c))):F||j?(c.parentNode&&c.parentNode.removeChild(c),h.splice(s--,1),u--):M||e.appendChild(c);for(s=z.length;--s>-1;)z[s].parentNode.removeChild(z[s]);if(F){for(j&&(v=Un.createElement(O),e.appendChild(v),m=v.offsetWidth+"px",y=v.offsetParent===e?0:e.offsetLeft,e.removeChild(v)),g=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(p=" "===P&&(!j||!M&&!q),s=0;s<F.length;s++){for(f=F[s],(v=Un.createElement(O)).style.cssText="display:block;text-align:"+k+";position:"+(j?"absolute;":"relative;"),R&&(v.className=R+(B?s+1:"")),L.push(v),u=f.length,l=0;l<u;l++)"BR"!==f[l].nodeName&&(c=f[l],v.appendChild(c),p&&c._wordEnd&&v.appendChild(Un.createTextNode(" ")),j&&(0===l&&(v.style.top=c._y+"px",v.style.left=w+y+"px"),c.style.top="0px",y&&(c.style.left=c._x-y+"px")));0===u?v.innerHTML="&nbsp;":M||q||(rr(v),tr(v,String.fromCharCode(160)," ")),j&&(v.style.width=m,v.style.height=c._h+"px"),e.appendChild(v)}e.style.cssText=g}j&&(a>e.clientHeight&&(e.style.height=a-S+"px",e.clientHeight<a&&(e.style.height=a+D+"px")),o>e.clientWidth&&(e.style.width=o-E+"px",e.clientWidth<o&&(e.style.width=o+_+"px"))),ir(i,T),M&&ir(n,A),ir(r,L)},sr=function(e,t,i,n){var r,o,a,s,l,u,c,h,d=t.tag?t.tag:t.span?"span":"div",f=~(t.type||t.split||"chars,words,lines").indexOf("chars"),p=Jn(t),g=t.wordDelimiter||" ",v=" "!==g?"":p?"&#173; ":" ",m="</"+d+">",y=1,b=t.specialChars?"function"==typeof t.specialChars?t.specialChars:Qn:null,w=Un.createElement("div"),x=e.parentNode;for(x.insertBefore(w,e),w.textContent=e.nodeValue,x.removeChild(e),c=-1!==(r=function e(t){var i=t.nodeType,n="";if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=e(t)}else if(3===i||4===i)return t.nodeValue;return n}(e=w)).indexOf("<"),!1!==t.reduceWhiteSpace&&(r=r.replace(Xn," ").replace(Vn,"")),c&&(r=r.split("<").join("{{LT}}")),l=r.length,o=(" "===r.charAt(0)?v:"")+i(),a=0;a<l;a++)if(u=r.charAt(a),b&&(h=b(r.substr(a),t.specialChars)))u=r.substr(a,h||1),o+=f&&" "!==u?n()+u+"</"+d+">":u,a+=h-1;else if(u===g&&r.charAt(a-1)!==g&&a){for(o+=y?m:"",y=0;r.charAt(a+1)===g;)o+=v,a++;a===l-1?o+=v:")"!==r.charAt(a+1)&&(o+=v+i(),y=1)}else"{"===u&&"{{LT}}"===r.substr(a,6)?(o+=f?n()+"{{LT}}</"+d+">":"{{LT}}",a+=5):u.charCodeAt(0)>=55296&&u.charCodeAt(0)<=56319||r.charCodeAt(a+1)>=65024&&r.charCodeAt(a+1)<=65039?(s=((r.substr(a,12).split(Hn)||[])[1]||"").length||2,o+=f&&" "!==u?n()+r.substr(a,s)+"</"+d+">":r.substr(a,s),a+=s-1):o+=f&&" "!==u?n()+u+"</"+d+">":u;e.outerHTML=o+(y?m:""),c&&tr(x,"{{LT}}","<")},lr=function e(t,i,n,r){var o,a,s=Kn(t.childNodes),l=s.length,u=Jn(i);if(3!==t.nodeType||l>1){for(i.absolute=!1,o=0;o<l;o++)(3!==(a=s[o]).nodeType||/\S+/.test(a.nodeValue))&&(u&&3!==a.nodeType&&"inline"===Gn(a).display&&(a.style.display="inline-block",a.style.position="relative"),a._isSplit=!0,e(a,i,n,r));return i.absolute=u,void(t._isSplit=!0)}sr(t,i,n,r)},ur=function(){function e(e,t){Yn||(Un=document,Wn=window,Yn=1),this.elements=Kn(e),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)}var t=e.prototype;return t.split=function(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var t,i,n,r=this.elements.length,o=e.tag?e.tag:e.span?"span":"div",a=er(e.wordsClass,o),s=er(e.charsClass,o);--r>-1;)n=this.elements[r],this._originals[r]=n.innerHTML,t=n.clientHeight,i=n.clientWidth,lr(n,e,a,s),ar(n,e,this.chars,this.words,this.lines,i,t);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},t.revert=function(){var e=this._originals;if(!e)throw"revert() call wasn't scoped properly.";return this.elements.forEach((function(t,i){return t.innerHTML=e[i]})),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},e.create=function(t,i){return new e(t,i)},e}();ur.version="3.0.4";var cr=i(4),hr=i.n(cr),dr=i(60),fr=i.n(dr);function pr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var gr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instances={},window.trash=this}var t,i,n;return t=e,(i=[{key:"add",value:function(e,t,i){this.instances[e]={key:e,instance:t,preserve:i}}},{key:"get",value:function(e){return this.instances[e]&&this.instances[e].instance?this.instances[e].instance:null}},{key:"getAll",value:function(){return this.instances}},{key:"remove",value:function(e){var t=this.get(e);t&&(!t.preserve&&t.destroy&&t.destroy(),this.instances[e]=null)}},{key:"removeAll",value:function(){for(var e in this.instances)this.remove(e)}},{key:"destroy",value:function(e){var t=this.get(e),i=!!this.instances[e]&&this.instances[e].preserve;t&&!i&&t.destroy&&t.destroy()}},{key:"destroyAll",value:function(){for(var e in this.instances)this.destroy(e)}},{key:"map",value:function(e){for(var t in this.instances){var i=this.get(t);i[e]&&i[e]()}}},{key:"call",value:function(e,t){for(var i=this.get(e),n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(i&&i[t])return i[t].apply(i,r)}}])&&pr(t.prototype,i),n&&pr(t,n),e}());function vr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var mr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mainPageInfo=document.querySelector(".js-page-info"),this.localPageInfo=document.querySelector(".js-local-page-info"),this.options={page:"",activeMetaColor:"",activeBg:"",activeColor:"",defaultBg:"#DCD6D0"}}var t,i,n;return t=e,(i=[{key:"setMainOptions",value:function(){var e=document.querySelector('[data-barba="container"]').dataset.barbaNamespace;this.localPageInfo=document.querySelector(".js-local-page-info"),this.update("activeBg",this.localPageInfo.dataset.bg),this.update("activeMetaColor",this.localPageInfo.dataset.meta),this.update("page",e),this.mainPageInfo.classList.add("is-".concat(e)),"single-case"===e&&this.set("titleColor",this.localPageInfo.dataset.titleColor)}},{key:"updatePageRoute",value:function(e,t){this.mainPageInfo.classList.remove("is-".concat(e)),this.mainPageInfo.classList.add("is-".concat(t))}},{key:"updateMainOptions",value:function(e){this.update("page",e.namespace),this.localPageInfo=e.container.querySelector(".js-local-page-info"),this.update("activeBg",this.localPageInfo.dataset.bg),this.update("activeMetaColor",this.localPageInfo.dataset.meta)}},{key:"set",value:function(e,t){this.options[e]=t}},{key:"get",value:function(e){if(this.options.hasOwnProperty(e))return this.options[e]}},{key:"update",value:function(e,t){this.options.hasOwnProperty(e)&&(this.options[e]=t)}}])&&vr(t.prototype,i),n&&vr(t,n),e}());function yr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var br=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.categories={},this.activeCategory="",this.activeProject="",this.nextContainer=null,this.oldContainerHeight=0}var t,i,n;return t=e,(i=[{key:"getCategories",value:function(){var e=document.querySelector("[data-categories]");if(e){this.categories=JSON.parse(e.innerText);var t=-1;for(var i in this.categories)this.categories[i].index=++t;this.firstCategory=this.categories[Object.keys(this.categories)[0]],e.remove()}}},{key:"getActives",value:function(e){var t=(e||document).querySelector("[data-active-category]"),i=(e||document).querySelector("[data-active-project]");if(t&&i){var n=t.getAttribute("data-active-category");this.activeCategory=this.categories[n],i&&(this.activeProject=this.activeCategory.projects.find((function(e){return e.id==i.getAttribute("data-active-project")})))}}},{key:"detectDevice",value:function(){this.isIos=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.isWin=navigator.platform.indexOf("Win")>-1,this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"getIos",value:function(){return this.isIos=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.isIos}},{key:"init",value:function(){this.getCategories(),this.getActives(),this.detectDevice()}}])&&yr(t.prototype,i),n&&yr(t,n),e}());function wr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var xr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.device=0,this.window={width:0,height:0,ratio:0},this.nav={height:.13,heightHome:.22},this.footer={heightHome:.15},this.navPadding={desk:.033333,mobile:.05},this.isFakeMobile=!1,this.caseImageTop=.14}var t,i,n;return t=e,(i=[{key:"createRuler",value:function(){var e=document.createElement("div");e.style.position="fixed",e.style.height="100%",e.style.width=0,e.style.top=0,document.documentElement.appendChild(e),this.window.height=br.isIos?e.offsetHeight:window.innerHeight,document.documentElement.removeChild(e),e=null}},{key:"getWindow",value:function(){this.createRuler(),this.window.width=window.innerWidth,this.window.ratio=this.window.width/this.window.height}},{key:"getFakeMobile",value:function(){this.isFakeMobile=br.isIos&&(this.window.width<=1024&&this.window.height>1300||this.window.width>1300&&this.window.height<=1024)}},{key:"getDevice",value:function(){this.device=window.matchMedia("(min-width:1920px)").matches?3:window.matchMedia("(min-width:1025px)").matches?2:window.matchMedia("(min-width:768px)").matches?1:0}},{key:"setup",value:function(){this.getDevice(),this.getWindow(),this.getFakeMobile(),this.isFakeMobile?document.body.classList.add("is-fake-mobile"):document.body.classList.remove("is-fake-mobile")}},{key:"init",value:function(){this.setup()}},{key:"resize",value:function(){this.setup()}},{key:"reinit",value:function(){this.setup()}}])&&wr(t.prototype,i),n&&wr(t,n),e}());function Dr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _r=new(function(){function e(){var t,i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n={home:{zIndex:2,pointerEvents:"auto",touchAction:"auto",opacity:1},"single-case":{zIndex:5,pointerEvents:"none",touchAction:"none",opacity:1},about:{zIndex:5,pointerEvents:"none",touchAction:"none",opacity:1},journal:{zIndex:5,pointerEvents:"none",touchAction:"none",opacity:1},"single-article":{zIndex:5,pointerEvents:"none",touchAction:"none",opacity:1},contact:{zIndex:-1,pointerEvents:"none",touchAction:"none",opacity:0},"contact-thanks":{zIndex:-1,pointerEvents:"none",touchAction:"none",opacity:0}},(i="cssProps")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}var t,i,n;return t=e,(i=[{key:"setCSS",value:function(){2===xr.device?Cn.set(this.el,this.cssProps[mr.get("page")]):Cn.set(this.el,this.cssProps["home"===mr.get("page")?"home":"contact"])}},{key:"hide",value:function(){Cn.set(this.el,{opacity:0})}},{key:"resetState",value:function(){var e=this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),t=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t);for(var i=0;i<e;++i)this.gl.disableVertexAttribArray(i),this.gl.vertexAttribPointer(i,4,this.gl.FLOAT,!1,0,0),this.gl.vertexAttrib1f(i,0);this.gl.deleteBuffer(t),this.gl.disable(this.gl.DEPTH_TEST);var n=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS);for(i=0;i<n;++i)this.gl.activeTexture(this.gl.TEXTURE0+i),this.gl.bindTexture(this.gl.TEXTURE_2D,null);this.gl.activeTexture(this.gl.TEXTURE0),this.gl.useProgram(null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)}},{key:"onChange",value:function(){this.el&&(this.el.classList.remove("pointer"),xr.device<2&&br.isIos&&"home"===mr.get("page")&&(this.el.remove(),this.el=document.createElement("canvas"),this.el.className="js-canvas",document.body.prepend(this.el),this.getContext()))}},{key:"getContext",value:function(){for(var e=["webgl","experimental-webgl"],t=0;t<e.length;t++)this.gl=this.el.getContext(e[t]),this.gl&&(t=e.length)}},{key:"init",value:function(){this.el=document.querySelector(".js-canvas"),this.el&&this.getContext()}}])&&Dr(t.prototype,i),n&&Dr(t,n),e}());function Sr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Er=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metaEl=document.querySelector('meta[name="theme-color"]'),this.metaColor="#1F1E20",this.bgEl=document.body,this.bgColor="#DCD6D0"}var t,i,n;return t=e,(i=[{key:"changeMeta",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?(this.metaColor=e,mr.update("activeMetaColor",this.metaColor),this.metaEl.setAttribute("content",this.metaColor)):this.metaEl.setAttribute("content",e)}},{key:"changeBg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3;this.bgColor=e,mr.update("activeBg",this.bgColor),Cn.killTweensOf(this.bgEl),Cn.to(this.bgEl,{duration:t,backgroundColor:e})}}])&&Sr(t.prototype,i),n&&Sr(t,n),e}());function Cr(e){e.parentNode.removeChild(e)}function kr(e,t,i){var n;return function(){var r=this,o=arguments,a=function(){n=null,i||e.apply(r,o)},s=i&&!n;clearTimeout(n),n=setTimeout(a,t),s&&e.apply(r,o)}}var Tr={huge:2200,xlarge:1800,large:1200,medium:700,small:300};function Ar(e,t,i){var n="original";for(var r in Tr){(e>=1?Tr[r]:Tr[r]*e)>=t&&(e>=1?Tr[r]/e:Tr[r])>=i&&(n=r)}return n}function Lr(e,t,i,n,r){return(e-t)*(r-n)/(i-t)+n}function Pr(e,t,i){return(1-i)*e+i*t}function Or(){var e=!1;return window.PointerEvent&&"maxTouchPoints"in navigator?navigator.maxTouchPoints>0&&(e=!0):window.matchMedia&&window.matchMedia("(any-pointer:coarse)").matches?e=!0:(window.TouchEvent||"ontouchstart"in window)&&(e=!0),e}function Ir(e,t){for(var i=t.parentNode;null!=i;){if(i==e)return!0;i=i.parentNode}return!1}function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function Mr(e){var t=e.x,i=e.y,n=e.c;return{x:2*(t/n.width-.5),y:2*-(i/n.height-.5)}}function qr(e){var t=e.x,i=e.y,n=e.c;return{x:(t+1)/2*n.width,y:(1-(i+1)/2)*n.height}}function jr(e,t){return e/t*2}function Rr(e,t){return e/2*t}function Br(e,t,i){return e<0?i?t.length-(-e%t.length?-e%t.length:t.length):t.length-1:e>t.length-1?i?e%t.length:0:e}function zr(e,t,i){return t[Br(e,t,i)]}function Nr(e){return e%2==0}function Hr(e,t,i){return Math.max(t,Math.min(e,i))}function Ur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,n=e.getBoundingClientRect(),r=gr.get("scrollManager"),o=r&&r.scroll?r.scroll.y:0;return{width:n.width,height:n.height,top:(i?0:o)+n.top-t,right:n.left+n.width,bottom:(i?0:o)+n.top+n.height-t,left:n.left}}function Wr(){}function Yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xr(e,t,i){return t&&Vr(e.prototype,t),i&&Vr(e,i),e}function Gr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var $r=function(){function e(t){var i=this;Yr(this,e),Gr(this,"resize",(function(){Cn.set(i.el,i.defaultStyle),i.getRect(),i.manageRatio()})),this.el=t,this.defaultStyle={scale:1,x:0,y:0,opacity:0},this.getRect(),this.manageRatio()}return Xr(e,[{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"manageRatio",value:function(){Cn.set(this.el,{height:"".concat(1.5*this.rect.width,"px")})}},{key:"isActive",value:function(){return Cn.isTweening(this.el)||0!=this.el.style.opacity}}]),e}(),Zr=new(function(){function e(){var t=this;Yr(this,e),Gr(this,"setMousePos",(function(e){t.mousePos=function(e){var t=0,i=0;return e||(e=window.event),"touchmove"===e.type?(t=e.touches[0].clientX,i=e.touches[0].clientY):e.pageX||e.pageY?(t=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:i}}(e)})),this.content=null,this.contentImages=[],this.images=[],this.imgPosition=0,this.zIndexVal=1,this.mousePos=this.lastMousePos=this.cacheMousePos={x:0,y:0}}return Xr(e,[{key:"render",value:function(){var e,t,i,n,r=this,o=(e=this.mousePos.x,t=this.mousePos.y,i=this.lastMousePos.x,n=this.lastMousePos.y,Math.hypot(i-e,n-t));this.cacheMousePos.x=Pr(this.cacheMousePos.x||this.mousePos.x,this.mousePos.x,.1),this.cacheMousePos.y=Pr(this.cacheMousePos.y||this.mousePos.y,this.mousePos.y,.1),o>this.threshold&&(this.showNextImage(),++this.zIndexVal,this.imgPosition=this.imgPosition<this.images.length-1?this.imgPosition+1:0,this.lastMousePos=this.mousePos);for(var a=!0,s=0;s<this.images.length;s++){if(this.images[s].isActive()){a=!1;break}}a&&1!==this.zIndexVal&&(this.zIndexVal=1),requestAnimationFrame((function(){return r.render()}))}},{key:"showNextImage",value:function(){var e=this.images[this.imgPosition];Cn.killTweensOf(e.el);var t=xr.device>=1?2:4;Cn.timeline().set(e.el,{startAt:{opacity:0,scale:1},opacity:1,zIndex:this.zIndexVal,x:this.cacheMousePos.x-e.rect.width/t,y:this.cacheMousePos.y-e.rect.height/t},0).to(e.el,{duration:.9,ease:vi.easeOut,x:this.mousePos.x-e.rect.width/t,y:this.mousePos.y-e.rect.height/t},0).to(e.el,{duration:1,ease:hi.easeOut,opacity:0},.2)}},{key:"removeListeners",value:function(){this.hasListeners=!1,xr.device<2&&Or()||br.isIos?this.hasListeners&&window.removeEventListener("touchmove",this.setMousePos):this.hasListeners&&window.removeEventListener("mousemove",this.setMousePos)}},{key:"destroy",value:function(){this.content&&this.hasListeners&&this.removeListeners()}},{key:"setup",value:function(){var e=this;if(this.contentImages=this.content.querySelectorAll(".not-found__img"),this.hasListeners=!0,xr.device<2&&Or()||br.isIos){for(var t=0;t<this.contentImages.length;t++)this.images.push(new $r(this.contentImages[t]));window.addEventListener("touchmove",this.setMousePos),requestAnimationFrame((function(){return e.render()}))}else{for(var i=0;i<this.contentImages.length;i++)this.images.push(new $r(this.contentImages[i]));window.addEventListener("mousemove",this.setMousePos),requestAnimationFrame((function(){return e.render()}))}}},{key:"resize",value:function(){this.content&&(this.images.forEach((function(e){return e.resize()})),this.hasListeners&&this.removeListeners(),this.images=[],this.threshold=xr.device>1?200:108,this.setup())}},{key:"init",value:function(e){this.content=document.querySelector(".not-found"),this.threshold=xr.device>1?200:108,this.content&&(e.forEach((function(e){return gr.call("imageLoader","onLazyLoad",e)})),this.setup())}}]),e}());function Kr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Jr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"beforeLeave",value:function(e){var t=e.current,i=e.next;br.oldContainerHeight=t.container.clientHeight,br.nextContainer=i.container,br.nextScrollContainer=i.container.querySelector("[data-scroll-container]")}},{key:"afterLeave",value:function(e){var t=e.current,i=e.next;try{var n=t.container.dataset.barbaNamespace,r=i.container.dataset.barbaNamespace;switch(mr.updatePageRoute(n,r),mr.updateMainOptions(i),gr.destroyAll(),"home"!==i.namespace&&gr.call("gridManager","destroy"),Zr.destroy(),i.namespace){case"about":document.body.classList.add("blend");break;case"single-article":break;case"not-found":document.body.classList.add("blend");break;default:document.body.classList.remove("blend")}}catch(e){console.warn("ChangePageManager AFTERLEAVE",e)}}},{key:"beforeEnter",value:function(e){var t=e.current,i=e.next;try{if(t.container){var n=t.namespace,r=i.namespace;xr.device<2&&"home"===n&&(_r.gl.clear(_r.gl.COLOR_BUFFER_BIT),_r.setCSS()),"single-case"!==r&&Er.changeBg(mr.get("activeBg"),.3),"contact"!==r&&"contact-thanks"!==r||_r&&_r.gl&&(_r.gl.clear(_r.gl.COLOR_BUFFER_BIT),_r.setCSS()),"home"===r&&setTimeout((function(){_r.hide()}),400),Er.changeMeta("#201D1E",!1),window.scrollTo(0,0),tu.reinit()}}catch(e){console.warn("ChangePageManager BEFOREENTER",e)}}},{key:"afterEnter",value:function(e){void 0!==window.gtag&&gtag("config","UA-157739378-1",{page_path:e.next.url.path})}}])&&Kr(t.prototype,i),n&&Kr(t,n),e}()),Qr=i(0);function eo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function to(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var io=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),to(this,"drawLoad",(function(){t.ctx.clearRect(0,0,xr.window.width,xr.window.height),t.ctx.beginPath(),t.ctx.moveTo(0,0),t.ctx.lineTo(0,t.y.value);var e=parseInt(t.y.value,10)<=xr.window.height/4?t.y.value:t.y.value-t.CURVENESS;t.ctx.quadraticCurveTo(xr.window.width/2,e,xr.window.width,t.y.value),t.ctx.lineTo(xr.window.width,0),t.ctx.fillStyle="#201D1E",t.ctx.fill(),t.ctx.closePath()})),to(this,"drawChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#201D1E";t.ctx.clearRect(0,0,xr.window.width,xr.window.height),t.ctx.beginPath(),t.ctx.moveTo(0,t.y.delayValue),t.ctx.lineTo(0,t.y.value);var i=parseInt(t.y.value,10)<=xr.window.height/2?t.y.value-t.CURVENESS:t.y.value,n=parseInt(t.y.delayValue,10)<=xr.window.height/2?t.y.delayValue-t.CURVENESS:t.y.delayValue;t.ctx.quadraticCurveTo(xr.window.width/2,i,xr.window.width,t.y.value),t.ctx.lineTo(xr.window.width,t.y.delayValue),t.ctx.quadraticCurveTo(xr.window.width/2,n,xr.window.width,t.y.delayValue),t.ctx.fillStyle=e,t.ctx.fill(),t.ctx.closePath()})),to(this,"drawMenu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"open";if("open"===e){var i,n=t.y.delayValue,r=0;i=parseInt(t.y.value,10)>=xr.window.height/2?t.y.value:t.y.value-t.CURVENESS,r=parseInt(t.y.delayValue,10)>=xr.window.height/2?0:t.CURVENESS,t.drawMenuShape(i,n,r)}else{var o,a;o=parseInt(t.y.value,10)>=xr.window.height/2?t.y.value-t.CURVENESS:t.y.value,a=parseInt(t.y.delayValue,10)>=xr.window.height/2?t.CURVENESS:0,t.drawMenuShape(o,t.y.delayValue,a)}})),to(this,"moveMain",(function(e){var i={value:e&&void 0!==e.value?e.value:0,delayValue:e&&void 0!==e.delayValue?e.delayValue:0,type:e&&e.type?e.type:"default",duration:e&&void 0!==e.duration?e.duration:t.yDuration,ease:e&&e.ease?e.ease:pi.easeInOut,onStart:e&&e.onStart?e.onStart:Wr,onComplete:e&&e.onComplete?e.onComplete:Wr,bg:e&&e.bg?e.bg:"#201D1E"};return Cn.to(t.y,{duration:i.duration,value:i.value,delayValue:i.delayValue,ease:i.ease,onStart:function(){t.isAnimating=!0,i.onStart()},onUpdate:function(){switch(t.isAnimating=!0,i.type){case"load":t.drawLoad();break;case"change-page":t.drawChange(i.bg);break;case"form-load-start":case"form-load-end":t.drawChange();break;case"side-menu":t.drawChange("#DCD6D0");break;case"menu-open":t.drawMenu("open");break;case"menu-close":t.drawMenu("close")}},onComplete:function(){t.isAnimating=!1,i.onComplete()}})})),this.el=document.querySelector(".js-transition-canvas"),this.y={value:0,delayValue:0},this.yDuration=1.2,this.isAnimating=!1,this.CURVENESS=xr.device<=1||br.isIos?60:120}var t,i,n;return t=e,(i=[{key:"setup",value:function(){Object(Qr.resizeCanvasToDisplaySize)(this.el,1)}},{key:"hide",value:function(){Cn.set(this.el,{opacity:0,visibility:"hidden",zIndex:-1})}},{key:"show",value:function(){Cn.set(this.el,{opacity:1,visibility:"visible",zIndex:422})}},{key:"drawMenuShape",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.y.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.ctx.clearRect(0,0,xr.window.width,xr.window.height),this.ctx.beginPath(),this.ctx.moveTo(0,t),this.ctx.lineTo(0,this.y.value),this.ctx.quadraticCurveTo(xr.window.width/2,e,xr.window.width,this.y.value),this.ctx.lineTo(xr.window.width,t),this.ctx.quadraticCurveTo(xr.window.width/2,t-i,0,this.y.delayValue),this.ctx.fillStyle="#201D1E",this.ctx.fill(),this.ctx.closePath()}},{key:"prepareMenuFor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"open";this.y.value=0,this.y.delayValue=0,Cn.set(this.y,{value:0,delayValue:0}),this.ctx.clearRect(0,0,xr.window.width,xr.window.height),this.drawMenu(e)}},{key:"prepareInitialLoad",value:function(){this.y.value=xr.window.height+this.CURVENESS,Cn.set(this.y,{value:xr.window.height+this.CURVENESS}),this.drawLoad()}},{key:"prepareChange",value:function(){this.y.value=-2*this.CURVENESS,this.y.delayValue=0,Cn.set(this.y,{value:0,delayValue:0}),this.drawChange()}},{key:"resize",value:function(){this.CURVENESS=xr.device<=1?60:120,this.setup()}},{key:"init",value:function(){this.setup(),this.ctx=this.el.getContext("2d")}}])&&eo(t.prototype,i),n&&eo(t,n),e}());function no(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ro(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var oo=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ro(this,"toggle",(function(){t.isOpen?t.disappear():t.appear()})),ro(this,"onKeyUp",(function(e){t.isAnimating||"27"==e.keyCode&&t.disappear()})),ro(this,"appearTl",(function(e){var i=Cn.timeline();return i.set(t.menu,{zIndex:421,visibility:"visible",onComplete:function(){io.show(),io.prepareMenuFor("open")}}).call(io.moveMain,[{duration:1,value:xr.window.height+io.CURVENESS,type:"menu-open"}]).call(io.moveMain,[{onStart:function(){Cn.set(t.bg,{opacity:1})},duration:1,value:xr.window.height+io.CURVENESS,delayValue:xr.window.height+io.CURVENESS,type:"menu-open"}],"+=0.7").to(t.labelLine,1,{y:"0%",skewY:"0deg",ease:pi.easeInOut}).to(t.titleLine,{duration:1.4,y:"0%",skewY:"0deg",stagger:.12,ease:pi.easeInOut},"-=0.8").to(t.indexLine,{duration:1.4,y:"0%",skewY:"0deg",stagger:.1,ease:pi.easeInOut},"-=1.4").to(t.borders,{duration:.4,scaleX:1,stagger:.1,onComplete:function(){Cn.set(t.borders,{transformOrigin:"right center"})},ease:mi.easeInOut},"-=1.8").to(t.logoWrap,.6,xr.device>1?{y:"-100%",ease:pi.easeInOut,onComplete:function(){Cn.set(t.logoWrap,{y:"100%"}),document.body.classList.remove("is-animating")}}:{opacity:0,pointerEvents:"none",touchAction:"none",onComplete:function(){document.body.classList.remove("is-animating")}},"-=3").add(t.animateToggleIn(),"-=2").to(t.icons,{duration:.35,drawSVG:"100%",stagger:.1,ease:pi.easeInOut},"-=1.6"),e&&i.seek(i.duration()),i}))}var t,i,n;return t=e,(i=[{key:"setup",value:function(){this.labelLine=this.menu.querySelector(".menu__label .line-child"),this.indexLine=this.menu.querySelectorAll(".menu__list-item-index .line-child"),this.titleLine=this.menu.querySelectorAll(".menu__list-item-name .line-child"),this.borders=this.menu.querySelectorAll(".menu__list-border"),this.icons=this.menu.querySelectorAll(".menu__list-item-icon path"),this.bg=this.menu.querySelector(".menu__bg"),this.closeInner=document.querySelectorAll(".nav__toggle-close-inner"),this.icons&&Cn.set(this.icons,{drawSVG:0}),this.borders&&Cn.set(this.borders,{scaleX:0}),this.labelLine&&Cn.set(this.labelLine,{y:"120%",skewY:"3deg"}),this.indexLine&&Cn.set(this.indexLine,{y:"120%",skewY:"3deg"}),this.titleLine&&Cn.set(this.titleLine,{y:"120%",skewY:"3deg"}),this.closeInner&&Cn.set(this.closeInner,{scaleX:0})}},{key:"addListeners",value:function(){this.toggler.addEventListener("click",this.toggle)}},{key:"addEventListeners",value:function(){window.addEventListener("keyup",this.onKeyUp)}},{key:"removeListeners",value:function(){this.toggler.removeEventListener("click",this.toggle)}},{key:"removeEventListeners",value:function(){window.removeEventListener("keyup",this.onKeyUp)}},{key:"animateToggleIn",value:function(e){var t={onStart:e&&e.onStart?e.onStart:Wr,onComplete:e&&e.onComplete?e.onComplete:Wr};Cn.set(this.menuLines[0],{transformOrigin:"right center"}),Cn.set(this.menuLines[2],{transformOrigin:"left center"});var i=Cn.timeline();return i.to(this.menuLines[1],.3,{scaleX:0,ease:di.easeInOut,onStart:function(){t.onStart()}}).to(this.menuLines[0],.3,{scaleX:0,ease:di.easeInOut},"-=0.2").to(this.menuLines[2],.3,{scaleX:0,ease:di.easeInOut},"-=0.3").to(this.closeInner[0],.3,{scaleX:1,ease:di.easeInOut}).to(this.closeInner[1],.3,{scaleX:1,ease:di.easeInOut,onComplete:function(){t.onComplete()}},"-=0.15"),i}},{key:"animateToggleOut",value:function(e){var t={onStart:e&&e.onStart?e.onStart:Wr,onComplete:e&&e.onComplete?e.onComplete:Wr},i=Cn.timeline();return i.to(this.closeInner[0],.3,{scaleX:0,ease:di.easeInOut,onStart:function(){t.onStart()}}).to(this.closeInner[1],.3,{scaleX:0,ease:di.easeInOut},"-=0.2").to(this.menuLines[2],.3,{scaleX:1,ease:di.easeInOut}).to(this.menuLines[0],.3,{scaleX:1,ease:di.easeInOut},"-=0.1").to(this.menuLines[1],.3,{scaleX:1,ease:di.easeInOut,onComplete:function(){t.onComplete()}},"-=0.2"),i}},{key:"disappearNav",value:function(e){var t=this;Cn.timeline({onComplete:function(){e&&e()}}).set(this.menuLines,{transformOrigin:"left center"}).to(this.logoWrap,.5,{y:"-100%",onComplete:function(){Cn.set(t.logoWrap,{y:"100%"})}}).to(this.menuLines,{duration:.45,scaleX:"0",stagger:.06,onComplete:function(){Cn.set(t.menuLines,{transformOrigin:"center center"})},ease:pi.easeInOut},"-=0.3")}},{key:"appearNav",value:function(e){var t=this;Cn.timeline({onComplete:function(){e&&e()}}).set(this.menuLines,{transformOrigin:"left center"}).to(this.menuLines,{duration:.45,scaleX:"1",stagger:.06,ease:pi.easeInOut}).to(this.logoWrap,.5,{y:"0%",onComplete:function(){Cn.set(t.menuLines,{transformOrigin:"center center"})}},"-=0.3")}},{key:"disappearTl",value:function(e){var t=this,i=Cn.timeline();return i.to(this.icons,{duration:e?0:.2,drawSVG:"0",stagger:.07}).to(this.borders,{duration:e?0:.45,scaleX:0,ease:mi.easeInOut,stagger:.1,onComplete:function(){Cn.set(t.borders,{transformOrigin:"left center"})}},"-=0.5").add(this.animateToggleOut(),"-=1").to(this.indexLine,{duration:e?0:.6,y:"-120%",skewY:"-3deg",stagger:.1,ease:pi.easeInOut},"-=1").to(this.titleLine,{duration:e?0:.6,y:"-120%",skewY:"-3deg",stagger:.15,ease:pi.easeInOut},"-=1.3").to(this.labelLine,e?0:.5,{y:"-120%",skewY:"-3deg",ease:pi.easeInOut},"-=1.2").call(e?Wr:io.moveMain,[{duration:e?0:1,value:xr.window.height+io.CURVENESS,delayValue:0,type:"menu-close"}],"-=0.5").call(e?Wr:io.moveMain,[{onStart:function(){Cn.set(t.bg,{opacity:0}),Cn.set(t.menu,{zIndex:-1,visibility:"hidden"})},duration:e?0:1,value:-io.CURVENESS,delayValue:-io.CURVENESS,type:"menu-close",onComplete:function(){io.hide()}}],"+=0.5").to(this.logoWrap,.5,xr.device>1?{y:"0%",clearProps:"all"}:{opacity:1,pointerEvents:"auto",touchAction:"auto"},"-=0.4"),e&&i.seek(i.duration()),i}},{key:"appear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isAnimating){this.isAnimating=!0,document.body.classList.add("is-animating"),gr.call("scrollManager","disableScroll");var i=Cn.timeline({onComplete:function(){e.isOpen=!0,e.isAnimating=!1,e.addEventListeners();var t=gr.get("gridManager");t&&t.grid&&t.grid.removeListeners()}});i.add(this.appearTl(t))}}},{key:"disappear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isAnimating){this.isAnimating=!0,document.body.classList.add("is-animating");var i=Cn.timeline({onStart:function(){e.removeEventListeners()},onComplete:function(){e.isOpen=!1,e.isAnimating=!1,document.body.classList.remove("is-animating"),gr.call("scrollManager","enableScroll"),Cn.set(e.labelLine,{y:"120%",skewY:"3deg"}),Cn.set(e.indexLine,{y:"100%",skewY:"3deg"}),Cn.set(e.titleLine,{y:"100%",skewY:"3deg"});var t=gr.get("gridManager");t&&t.grid&&t.grid.addListeners()}});i.add(this.disappearTl(t),0)}}},{key:"hide",value:function(){Cn.set(this.bg,{opacity:0}),Cn.set(this.menu,{zIndex:-1,visibility:"hidden"})}},{key:"setDataColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"black",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(this.logo.removeAttribute("data-color"),this.closeInner.forEach((function(e){return e.removeAttribute("data-color")}))):(this.logo.setAttribute("data-color",e),this.closeInner.forEach((function(t){return t.setAttribute("data-color",e)})))}},{key:"addListeners",value:function(){this.hasListeners||(this.toggler.addEventListener("click",this.toggle),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.toggler.removeEventListener("click",this.toggle),this.hasListeners=!1)}},{key:"destroy",value:function(){this.removeListeners(),this.removeEventListeners()}},{key:"resize",value:function(){this.menu=document.querySelector(".js-menu"),this.labelLine=this.menu.querySelector(".menu__label .line-child"),this.indexLine=this.menu.querySelectorAll(".menu__list-item-index .line-child"),this.titleLine=this.menu.querySelectorAll(".menu__list-item-name .line-child"),this.isAnimating||(this.isOpen?this.labelLine&&(Cn.set(this.labelLine,{y:"0%",skewY:"0deg"}),Cn.set(this.indexLine,{y:"0%",skewY:"0deg"}),Cn.set(this.titleLine,{y:"0%",skewY:"0deg"})):this.labelLine&&(Cn.set(this.labelLine,{y:"120%",skewY:"3deg"}),Cn.set(this.indexLine,{y:"100%",skewY:"3deg"}),Cn.set(this.titleLine,{y:"100%",skewY:"3deg"})))}},{key:"init",value:function(){this.isOpen=!1,this.isAnimating=!1,this.logo=document.querySelector(".nav__logo"),this.logoWrap=document.querySelector(".js-nav-logo-wrap"),this.menuLines=document.querySelectorAll(".nav__toggle-item"),this.toggler=document.querySelector(".js-toggle-menu"),this.menu=document.querySelector(".js-menu"),this.menu&&(this.setup(),this.addListeners())}}])&&no(t.prototype,i),n&&no(t,n),e}());function ao(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function so(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var lo=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),so(this,"requestTick",(function(e){requestAnimationFrame((function(){return t.onMouseMove(e)}))})),so(this,"loadOn",(function(){t.setStatus("scale","off"),t.path.removeAttribute("style"),t.path.setAttribute("stroke",t.black),t.setStatus("load","on")})),so(this,"loadOff",(function(){t.setStatus("load","off"),t.target.classList.add("is-finish-load"),setTimeout((function(){var e=mr.get("page"),i="about"===e||"not-found"===e?t.red:t.black;Cn.to(t.path,{duration:.3,stroke:i}),t.target.classList.remove("is-finish-load")}),500)})),so(this,"assignEnter",(function(e){var i=e.currentTarget,n=i.dataset.hover;switch(n){case"scale":t.setStatus(n,"on");break;case"stick":t.stickEnter(i);break;case"grid":t.setStatus(n,"on");break;case"drag":t.setStatus(n,"on")}})),so(this,"assignExit",(function(e){var i=e.currentTarget.getAttribute("data-hover");switch(i){case"scale":t.setStatus(i,"off");break;case"stick":t.stickExit();break;case"grid":t.setStatus(i,"off");break;case"drag":t.setStatus(i,"off")}})),so(this,"appearFirstTime",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.isActive){var n=Cn.timeline({onComplete:function(){i&&i()}});e?n.set(t.path,{drawSVG:0}).set(t.target,{x:.0333*xr.window.width,y:"".concat(xr.window.height-.05*xr.window.height-50,"px")}).set(t.target,{opacity:1}).to(t.path,{drawSVG:"100%",duration:.8,ease:di.easeInOut}):n.set(t.path,{drawSVG:0}).set(t.target,{x:.0333*xr.window.width,y:"".concat(xr.window.height-.05*xr.window.height-50,"px")}).set(t.target,{opacity:1})}})),this.status="default",this.clientX=null,this.clientY=null,this.isStuck=!1,this.stuckX=0,this.stuckY=0,this.isFirstRender=!0,this.switchedRender=!1,this.loadTl=Cn.timeline({paused:!0}),this.isLoadTlDone=!1,this.red="#FC3E1D",this.black="#201D1E",this.easing=gi.easeOut.config(1.7)}var t,i,n;return t=e,(i=[{key:"setup",value:function(){this.hovers=document.querySelectorAll("[data-hover]"),this.targetBox=this.target.getBoundingClientRect(),this.addListeners()}},{key:"setStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"on";"on"===t?(this.target.classList.remove(this.status),this.target.classList.add(e),this.status=e):(this.target.classList.remove(e),this.status="default")}},{key:"addListeners",value:function(){if(!this.hasListeners){for(var e=0;e<this.hovers.length;e++){var t=this.hovers[e];t.addEventListener("mouseenter",this.assignEnter),t.addEventListener("mouseleave",this.assignExit)}this.hasListeners=!0}}},{key:"removeListeners",value:function(){if(this.hasListeners){for(var e=0;e<this.hovers.length;e++){var t=this.hovers[e];t.removeEventListener("mouseenter",this.assignEnter),t.removeEventListener("mouseleave",this.assignExit)}this.hasListeners=!1}}},{key:"renderTarget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.6;Cn.to(this.target,{duration:e,x:this.clientX-this.targetBox.width/2,y:this.clientY-this.targetBox.width/2})}},{key:"onMouseMove",value:function(e){var t=this;this.clientX=e.clientX,this.clientY=e.clientY,this.isFirstRender?this.clientX&&this.clientY&&!this.isStuck&&(this.renderTarget(.5),this.switchedRender||(setTimeout((function(){t.isFirstRender=!1}),300),this.switchedRender=!0)):this.clientX&&this.clientY&&!this.isStuck&&this.renderTarget(.2)}},{key:"stickEnter",value:function(e){this.isStuck=!0;var t=e.getBoundingClientRect(),i=e.dataset.cursorColor||this.red;this.setStatus("stick","on"),Cn.timeline().to(this.target,.2,{x:t.left,y:t.top,width:t.width,height:t.height},0).to(this.path,.2,{stroke:i},0)}},{key:"stickExit",value:function(){var e="about"===mr.get("page")?this.red:this.black;this.setStatus("stick","off"),Cn.timeline().to(this.target,.2,{width:48,height:48}).to(this.path,.2,{stroke:e},0),this.isStuck=!1}},{key:"trigger",value:function(e){if(this.isActive)switch(e){case"scaleOn":this.setStatus("scale","on");break;case"stickOn":this.stickEnter(element);break;case"gridOn":this.setStatus("grid","on");break;case"dragOn":this.setStatus("drag","on");break;case"defaultOff":this.setStatus("scale","off");break;case"stickOff":this.stickExit();break;case"gridOff":this.setStatus("grid","off");break;case"dragOff":this.setStatus("drag","off");break;case"loadOn":this.loadOn();break;case"loadOff":this.loadOff()}}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&e()}},{key:"showProgress",value:function(){this.isActive&&Cn.to(this.percentage,{duration:.2,opacity:1})}},{key:"hideProgress",value:function(){var e=this;if(this.isActive&&this.percentageText){gr.get("textSplit").create(this.percentageText,{type:"chars",charsClass:"char"});var t=this.percentageText.querySelectorAll(".char");Cn.to(t,{duration:.9,yPercent:-120,skewY:"-4deg",stagger:.06,opacity:.5,ease:pi.easeInOut,onComplete:function(){e.percentage&&Cr(e.percentage)}})}}},{key:"updateProgress",value:function(e){this.isActive&&(this.percentageText=this.percentage.querySelector(".line-child"),this.percentageText.innerText="".concat(parseInt(e,10),"%"),Cn.to(this.path,{duration:.2,drawSVG:"".concat(e,"%")}))}},{key:"activateMovement",value:function(){this.isActive&&document.addEventListener("mousemove",this.requestTick)}},{key:"disactivateMovement",value:function(){this.isActive&&document.removeEventListener("mousemove",this.requestTick)}},{key:"getReady",value:function(){if(this.isActive){var e=mr.get("page"),t="about"===e||"not-found"===e?this.red:this.black;Cn.to(this.path,{duration:.3,stroke:t})}}},{key:"reinit",value:function(){xr.device>=2&&!br.isIos&&(this.removeListeners(),this.hovers=document.querySelectorAll("[data-hover]"),this.addListeners(),this.isActive=!0)}},{key:"init",value:function(){xr.device>=2&&!br.isIos&&(this.target=document.querySelector(".js-cursor"),this.path=this.target.querySelector(".js-cursor-path"),this.percentage=this.target.querySelector(".js-cursor-percentage"),this.percentageText=this.percentage.querySelector(".line-child"),this.dragPoints=this.target.querySelectorAll(".js-cursor-point-drag"),this.gridPoints=this.target.querySelectorAll(".js-cursor-point-grid"),this.setup(),this.isActive=!0)}}])&&ao(t.prototype,i),n&&ao(t,n),e}()),uo={cpLoader:document.querySelector(".cp-loader"),cpLoaderMobileCircle:document.querySelector(".js-cp-loader-circle"),hideNextPage:function(e){switch(e.namespace){case"home":this.hideNextHome(e);break;case"about":this.hideNextAbout(e);break;case"journal":this.hideNextJournal(e);break;case"single-case":this.hideNextCaseSimple(e);break;case"single-article":this.hideNextSingleArticle(e);break;case"contact":this.hideNextContact(e);break;case"contact-thanks":this.hideNextThanks(e)}},revealPageTransition:function(e){switch(e.namespace){case"home":this.revealNextHome(e);break;case"about":this.revealNextAbout(e);break;case"journal":this.revealNextJournal(e);break;case"single-case":this.revealNextCase(e);break;case"single-article":this.revealNextSingleArticle(e);break;case"contact":this.revealNextContact(e);break;case"contact-thanks":this.revealNextThanks(e)}},leaveCase:function(e,t){var i=e.current.container.querySelector(".noise"),n=document.querySelector("[data-line]")?document.querySelector("[data-line]").parentNode:null,r=document.querySelectorAll(".case-next__desc"),o=document.querySelectorAll(".case-next__img-percentage"),a=document.querySelector(".nav__logo"),s=document.querySelector(".nav__toggle");Cn.timeline({onComplete:function(){gr.call("scrollGL","onNext",(function(){t&&t()}))}}).set(n,{transformOrigin:"right center"}).to(n,{duration:.8,scaleX:0,ease:mi.easeInOut}).to([i,r,o,a,s],{duration:.8,opacity:0},0)},hideNextCase:function(e){var t=e.current,i=e.next,n=gr.get("textSplit");if(n){n.create(i.container.querySelector(".case-hero__title"),{type:"lines",linesClass:"line-parent"});var r=i.container.querySelectorAll(".case-hero__title .line-parent");n.create(r,{type:"lines",linesClass:"line-child"});var o=i.container.querySelectorAll(".case-hero__title .line-child");Cn.set(o,{y:"130%"})}var a=t.container.querySelectorAll(".case-next__desc-titles"),s=i.container.querySelector(".case-hero__main-img-desc"),l=i.container.querySelector(".js-case-hero-img"),u=i.container.querySelector(".case-hero__scroll");Cn.set(s,{opacity:0}),2!==xr.device||br.isIos||Cn.set(l,{opacity:0}),Cn.set(u,{opacity:0}),a.length&&Cn.to(a,{duration:.25,opacity:.4})},enterCase:function(e,t){e.current;var i=e.next,n=i.container.querySelector(".case-hero__main-img-desc"),r=i.container.querySelector(".case-hero__scroll"),o=i.container.querySelector(".case-hero__scroll-icon-inner"),a=i.container.querySelectorAll(".case-hero__title .line-child"),s=document.querySelector(".nav__logo"),l=document.querySelector(".nav__toggle"),u=i.container.querySelector(".noise");Cn.set(a,{y:"110%",skewY:"5deg"}),Cn.timeline({onComplete:function(){Cn.to(u,{duration:.8,opacity:.04}),o.classList.add("arrow-anim"),document.body.classList.remove("is-animating"),xr.device>=2&&lo.trigger("loadOff"),t&&t()}}).set(u,{opacity:0}).to(r,{duration:.4,opacity:1},.5).to([s,l],{duration:.3,opacity:1},.5).to(a,{duration:.8,skewY:"0deg",y:"0%",ease:pi.easeInOut},"-=0.4").to(n,{duration:.4,opacity:1})},hideNextCaseSimple:function(e){var t=e.container.querySelector(".case-hero__title"),i=e.container.querySelector(".case-hero__main-img-desc"),n=e.container.querySelector(".case-hero__mobile-title"),r=e.container.querySelector(".case-hero__scroll"),o=e.container.querySelector(".case-hero__main-img");Cn.set([t,i],{opacity:0}),Cn.set(n,{opacity:0,y:20}),Cn.set(r,{opacity:0,y:"10px"}),(2!==xr.device||br.isIos)&&Cn.set(o,{opacity:0,y:20})},revealNextCase:function(e){var t=e.container.querySelector(".case-hero__title"),i=e.container.querySelector(".case-hero__main-img-desc"),n=e.container.querySelector(".case-hero__mobile-title"),r=e.container.querySelector(".case-hero__scroll"),o=e.container.querySelector(".case-hero__main-img"),a=Cn.timeline(),s=document.querySelector(".nav__logo"),l=document.querySelector(".nav__toggle");a.to([n,r,o],{onStart:function(){s.classList.remove("is-case-scroll"),l.classList.remove("is-case-scroll")},duration:.7,y:"0px",opacity:1,stagger:.1,ease:pi.easeInOut}).to([t,i],{opacity:1,stagger:.1,duration:.5,clearProps:"opacity"},.5)},enterCaseFromHome:function(e,t){var i=e.next,n=i.container.querySelector(".case-hero__main-img-desc"),r=i.container.querySelector(".case-hero__scroll"),o=i.container.querySelector(".scroll-canvas"),a=i.container.querySelectorAll(".case-hero__title .line-child"),s=document.querySelector(".nav__logo"),l=document.querySelector(".nav__toggle");Cn.timeline({onComplete:function(){t&&t()}}).to(r,{duration:.4,opacity:1}).to(a,{duration:1,y:"0%",skewY:"0deg",stagger:.1,ease:pi.easeInOut},.4).to([s,l],{duration:.3,opacity:1},.5).to(o,{duration:.2,opacity:1,onComplete:function(){Cn.to(n,{duration:.4,opacity:1})}},.6)},hideNextHome:function(e){var t=e.container.querySelector(".categories__filter-label"),i=e.container.querySelector(".categories__select"),n=e.container.querySelector(".categories__all"),r=e.container.querySelector(".categories__border"),o=e.container.querySelector(".grid__bottom-logo"),a=e.container.querySelector(".grid__bottom-text"),s=e.container.querySelector(".categories__arrows"),l=e.container.querySelector(".grid-mobile__category"),u=document.querySelector(".js-canvas"),c=e.container.querySelectorAll(".grid-hover-el");Cn.set(t,{opacity:0}),Cn.set(i,{opacity:0}),Cn.set(n,{opacity:0}),Cn.set(o,{opacity:0}),Cn.set(a,{opacity:0}),Cn.set(s,{opacity:0}),Cn.set(r,{scaleX:0}),Cn.set(l,{opacity:0}),Cn.set(u,{opacity:0}),Cn.set(c,{opacity:0})},revealNextHome:function(e){var t=e.container.querySelector(".categories__filter-label"),i=e.container.querySelector(".categories__select"),n=e.container.querySelector(".categories__all"),r=e.container.querySelector(".categories__border"),o=e.container.querySelector(".grid__bottom-logo"),a=e.container.querySelector(".grid__bottom-text"),s=e.container.querySelector(".categories__arrows"),l=e.container.querySelector(".grid-mobile__category"),u=document.querySelector(".js-canvas"),c=e.container.querySelectorAll(".grid-hover-el");Cn.timeline({onComplete:function(){if("home"===e.namespace){var l=gr.get("gridManager");l&&l.grid&&l.grid.addListeners(),t.removeAttribute("style"),i.removeAttribute("style"),n.removeAttribute("style"),o.removeAttribute("style"),a.removeAttribute("style"),s.removeAttribute("style"),r.removeAttribute("style")}}}).to(t,{duration:.5,opacity:1},0).to(i,{duration:.5,opacity:1},0).to(n,{duration:.5,opacity:1},0).to(s,{duration:.5,opacity:1},0).to(o,{duration:.5,opacity:1},.6).to(a,{duration:.5,opacity:1},.6).to(l,{duration:.5,opacity:1},.6).to(r,{duration:.7,scaleX:1,ease:mi.easeInOut},.4).to(u,{duration:.45,opacity:1},.4).to(c,{duration:.45,opacity:1})},hideNextAbout:function(e){var t=e.container.querySelector(".header__title h1"),i=e.container.querySelectorAll(".about-scroll-down path"),n=e.container.querySelector(".square-fix");if(xr.device>=3||xr.device<2||xr.isFakeMobile){var r=e.container.querySelector(".about-first-image"),o=e.container.querySelector(".about-second-image");Cn.set([r,o],{y:"60px",opacity:0})}Cn.set(t,{y:50,skewY:"-1deg",opacity:0}),Cn.set(i,{drawSVG:0}),Cn.set(n,{opacity:0})},revealNextAbout:function(e){var t=e.container.querySelector(".header__title h1"),i=e.container.querySelector(".about-scroll-down__inner"),n=e.container.querySelectorAll(".about-scroll-down path"),r=e.container.querySelector(".square-fix"),o=Cn.timeline({onComplete:function(){setTimeout((function(){return i.classList.add("arrow-anim")}),500)}});if(o.to(t,{duration:1.2,y:"0%",skewY:"0deg",opacity:1,ease:pi.easeInOut}).to(r,{duration:.5,opacity:1},"-=0.9").to(n,{duration:.7,drawSVG:"100%",ease:di.easeInOut},"-=0.7"),xr.device>=3||xr.device<2||xr.isFakeMobile){var a=e.container.querySelector(".about-first-image"),s=e.container.querySelector(".about-second-image");o.to([a,s],{duration:.8,y:"0px",opacity:1,stagger:.2,ease:pi.easeInOut},"-=1")}},hideNextJournal:function(e){var t=e.container.querySelector(".articles-slider__head"),i=e.container.querySelectorAll(".articles-slider__content"),n=e.container.querySelector(".articles-slider__container .simple-slider"),r=e.container.querySelector(".square-fix");Cn.set([t,i],{opacity:0,y:70}),Cn.set(n,{y:"60px",opacity:0}),Cn.set(r,{opacity:0})},revealNextJournal:function(e){var t=e.container.querySelector(".articles-slider__head"),i=e.container.querySelectorAll(".articles-slider__content"),n=e.container.querySelector(".articles-slider__container .simple-slider"),r=e.container.querySelector(".square-fix");Cn.timeline().to([t,i],{duration:.9,opacity:1,y:0,stagger:.05}).to(n,{y:"0px",duration:.7,opacity:1,ease:pi.easeInOut},"-=0.75").to(r,{duration:.5,opacity:1},"-=0.5")},hideNextSingleArticle:function(e){var t=e.container.querySelector(".sa-hero__title h1"),i=e.container.querySelectorAll(".sa-hero__cta path"),n=e.container.querySelector(".square-fix");Cn.set(t,{opacity:0}),Cn.set(i,{drawSVG:0}),Cn.set(n,{opacity:0})},revealNextSingleArticle:function(e){var t=e.container.querySelector(".sa-hero__title h1"),i=e.container.querySelectorAll(".sa-hero__cta path"),n=e.container.querySelectorAll(".sa-scroll-down__inner"),r=e.container.querySelector(".square-fix"),o=gr.get("textSplit");if(o){o.create(t,{type:"lines",linesClass:"line-parent"});var a=e.container.querySelectorAll(".sa-hero__title .line-parent");o.create(a,{type:"lines",linesClass:"line-child"});var s=e.container.querySelectorAll(".sa-hero__title .line-child");Cn.set(s,{y:"130%"})}var l=Cn.timeline({onComplete:function(){setTimeout((function(){return n.forEach((function(e){return e.classList.add("arrow-anim")}))}),500)}});if(o){var u=e.container.querySelectorAll(".sa-hero__title .line-child");l.set(t,{opacity:1}).to(u,{duration:1,y:"0%",stagger:.1,ease:pi.easeInOut})}l.set(t,{opacity:1}).to(r,{duration:.5,opacity:1},"-=0.9").to(i,{duration:.7,drawSVG:"100%",ease:di.easeInOut},"-=0.5")},hideNextContact:function(e){var t=e.container.querySelector(".header__title h1"),i=e.container.querySelectorAll(".contact__col"),n=e.container.querySelector(".square-fix");Cn.set(t,{y:50,skewY:"-1deg",opacity:0}),Cn.set(i,{opacity:0,y:80}),Cn.set(n,{opacity:0})},revealNextContact:function(e){var t=e.container.querySelector(".header__title h1"),i=e.container.querySelectorAll(".contact__col"),n=e.container.querySelector(".square-fix");Cn.timeline({onComplete:function(){for(var e=0;e<i.length;e++)i[e].removeAttribute("style")}}).to(t,{duration:1.2,y:"0%",skewY:"0deg",opacity:1,ease:pi.easeInOut}).to(i,{duration:.9,opacity:1,y:0,stagger:.05},"-=0.8").to(n,{duration:.5,opacity:1},"-=0.4")},hideNextThanks:function(e){var t=e.container.querySelector(".js-thanks-title"),i=e.container.querySelectorAll(".js-thanks-group-title"),n=e.container.querySelectorAll(".js-thanks-group-link"),r=e.container.querySelectorAll(".js-thanks-group-border"),o=e.container.querySelector(".js-thanks-bottom");Cn.set(t,{y:50,skewY:"-1deg",opacity:0}),Cn.set([i,n,o],{y:30,skewY:"-1deg",opacity:0}),Cn.set(r,{scaleX:0,transformOrigin:"left center"})},revealNextThanks:function(e){var t=e.container.querySelector(".js-thanks-title"),i=e.container.querySelectorAll(".js-thanks-group"),n=e.container.querySelector(".js-thanks-bottom"),r=Cn.timeline({paused:!0});r.to(t,{duration:1.2,y:"0%",skewY:"0deg",opacity:1,ease:"power4.inOut"});for(var o=0;o<i.length;o++){var a=i[o],s=a.querySelector(".js-thanks-group-title"),l=a.querySelector(".js-thanks-group-link"),u=a.querySelector(".js-thanks-group-border"),c=Cn.timeline();c.to(s,{duration:.9,y:"0%",skewY:"0deg",opacity:1,ease:"power4.inOut"}).to(l,{duration:.9,y:"0%",skewY:"0deg",opacity:1,ease:"power4.inOut"},.3).to(u,{duration:.55,scaleX:1,ease:"circ.inOut"},.5),r.add(c,"-=1.1")}r.to(n,{duration:1,y:"0%",skewY:"0deg",opacity:1,ease:"power4.inOut"},"-=0.4"),r.play()},leaveDefault:function(e,t){var i=this,n=e.current,r=e.next,o=n.container.querySelector(".noise"),a=document.querySelector(".nav__logo"),s=document.querySelector(".nav__toggle");document.body.classList.add("is-animating"),gr.call("scrollManager","disableScroll"),xr.device>=2&&lo.trigger("loadOn"),oo.destroy(),Cn.timeline({onStart:function(){io.prepareChange(),io.show(),Cn.to([a,s],{duration:.5,opacity:0}),i.hideNextPage(r),(xr.device<2||br.isIos||xr.isFakeMobile)&&i.cpLoaderMobileCircle.classList.add("is-animating")}}).set(this.cpLoader,{zIndex:424,visibility:"visible"}).to(o,{duration:.2,opacity:0},0).call(io.moveMain,[{duration:1,value:xr.window.height,bg:"about"===r.namespace?"#939497":"#201D1E",type:"change-page",onComplete:function(){document.body.classList.remove("is-animating-contact-success"),(xr.device<2||br.isIos||xr.isFakeMobile)&&Cn.to(i.cpLoaderMobileCircle,{duration:.25,opacity:1}),t&&t()}}],"-=0.2")},enterDefault:function(e,t){var i=this,n=document.querySelector(".nav__logo"),r=document.querySelector(".nav__toggle"),o=e.next.container.querySelector(".noise");(xr.device<2||e.isIos||xr.isFakeMobile)&&Cn.to(this.cpLoaderMobileCircle,{duration:.3,opacity:0}),t&&t(),Cn.timeline({delay:.5}).set(o,{opacity:0}).call(io.moveMain,[{duration:1,value:xr.window.height,delayValue:xr.window.height,bg:"about"===e.next.namespace?"#939497":"#201D1E",type:"change-page",onStart:function(){oo.init(),oo.hide()},onComplete:function(){Cn.set(i.cpLoader,{zIndex:-1,visibility:"hidden"}),Cn.to([n,r],{duration:.6,opacity:1}),Cn.to(o,{duration:.8,opacity:.04}),io.hide(),document.body.classList.remove("is-animating"),xr.device>=2&&lo.trigger("loadOff"),gr.call("scrollManager","enableScroll"),Er.changeMeta(mr.get("activeMetaColor")),(xr.device<2||e.isIos||xr.isFakeMobile)&&i.cpLoaderMobileCircle.classList.remove("is-animating"),i.revealPageTransition(e.next)}}])}};function co(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ho=function(){function e(){var t,i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(e,t){var i=e.current,n=e.next;try{"about"===n.namespace&&br.getActives(n.container);var r=t.async();uo.leaveDefault({current:i,next:n},(function(){oo.isOpen&&oo.disappear(!0),r()}))}catch(e){console.warn("default leave error",e)}},(i="defaultLeave")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.pageInfo=document.querySelector(".js-page-info"),this.init()}var t,i,n;return t=e,(i=[{key:"updateCaseHero",value:function(e){var t=e.next.container,i=br.activeCategory,n=br.activeProject,r=t.querySelector('[data-change="desc"]'),o=t.querySelector('[data-change="category"]'),a=t.querySelector('[data-change="bg"]'),s=t.querySelector(".js-case-hero-img");s&&s.setAttribute("data-img",JSON.stringify(Object.assign(n.image.url,{ratio:n.image.ratio})));var l=t.querySelector('[data-change="scroll"]');r&&(r.innerText="".concat(n.name," | ").concat(i.name)),o&&(o.innerText=i.name),a&&a.setAttribute("style","background-color:".concat(n.color,";")),s&&s.setAttribute("data-img",JSON.stringify(n.image.url)),l&&l.setAttribute("href","#".concat(i.slug))}},{key:"updateCaseNext",value:function(e){var t=e.next.container,i=br.activeCategory,n=br.activeProject,r=zr(i.projects.find((function(e){return e.id===n.id})).index+1,i.projects),o=t.querySelector("footer[data-url]");o&&o.setAttribute("data-url",r.url),t.querySelectorAll('[data-change="next-bg"]').forEach((function(e){return e.setAttribute("style","background-color:".concat(r.color,";"))})),t.querySelectorAll('[data-change="next-title"]').forEach((function(e){return e.innerText=r.name})),t.querySelectorAll(".js-case-next-toggler").forEach((function(e){return e.setAttribute("data-url",r.url)}));var a=t.querySelectorAll('[data-change="next-img"]');a.length&&a.forEach((function(e){e.setAttribute("data-next-img","".concat(JSON.stringify(Object.assign(r.image.url,{ratio:r.image.ratio})))),e.setAttribute("data-ratio","portrait"==r.headerRatio?.67:.92)}))}},{key:"goTo",value:function(e){hr.a.go(e)}},{key:"prefetch",value:function(e){hr.a.prefetch(e)}},{key:"defaultEnter",value:function(e){var t=e.current,i=e.next;setTimeout((function(){uo.enterDefault({current:t,next:i},(function(){lo.reinit()}))}),1e3)}},{key:"init",value:function(){hr.a.use(fr.a),hr.a.hooks.beforeLeave((function(e){var t=e.current,i=e.next;Jr.beforeLeave({current:t,next:i})})),hr.a.hooks.afterLeave((function(e){var t=e.current,i=e.next;Jr.afterLeave({current:t,next:i})})),hr.a.hooks.beforeEnter((function(e){var t=e.current,i=e.next;Jr.beforeEnter({current:t,next:i})})),hr.a.hooks.afterEnter((function(e){Jr.afterEnter(e)}));var e=this;switch(this.instance=hr.a.init({debug:!1,timeout:11e3,transitions:[{name:"fromHomeToCase",from:{namespace:"home"},to:{namespace:"single-case"},leave:function(t){var i=t.current,n=t.next,r=t.trigger;try{if("back"!==r&&"forward"!==r)if(xr.device<2||xr.isFakeMobile||br.isIos)e.updateCaseHero({next:n}),e.updateCaseNext({next:n}),e.defaultLeave({current:i,next:n},this);else{var o=this.async();uo.hideNextCase({current:i,next:n}),e.updateCaseHero({next:n}),e.updateCaseNext({next:n});var a=gr.get("gridManager");a&&a.grid&&a.grid.onExit((function(){o()}))}else e.updateCaseHero({next:n}),e.updateCaseNext({next:n}),e.defaultLeave({current:i,next:n},this)}catch(e){console.log("homeToCase leave error",e)}},enter:function(t){var i=t.current,n=t.next,r=t.trigger;try{xr.device<2||xr.isFakeMobile||br.isIos||"back"===r||"forward"===r?e.defaultEnter({current:i,next:n}):uo.enterCase({current:i,next:n},(function(){lo.reinit(),setTimeout((function(){gr.call("scrollManager","enableScroll")}),500)}))}catch(e){console.warn("fromHomeToCase ENTER error",e)}}},{name:"fromCaseToCase",from:"single-case",to:{namespace:"single-case"},leave:function(t){var i=t.current,n=t.next,r=t.trigger;try{if(xr.device<2||xr.isFakeMobile||br.isIos||xr.device>=3||"back"===r||"forward"===r)"back"===r?br.activeProject=zr(br.activeCategory.projects.findIndex((function(e){return e.id===br.activeProject.id}))-1,br.activeCategory.projects):"forward"===r&&(br.activeProject=zr(br.activeCategory.projects.findIndex((function(e){return e.id===br.activeProject.id}))+1,br.activeCategory.projects)),e.updateCaseHero({next:n}),e.updateCaseNext({next:n}),e.defaultLeave({current:i,next:n},this);else{var o=this.async();uo.hideNextCase({current:i,next:n}),e.updateCaseHero({next:n}),e.updateCaseNext({next:n}),uo.leaveCase({current:i,next:n},(function(){o()}))}}catch(e){console.warn("fromCaseToCase LEAVE error",e)}},enter:function(t){var i=t.current,n=t.next,r=t.trigger;try{xr.device<2||xr.isFakeMobile||br.isIos||xr.device>=3||"back"===r||"forward"===r?e.defaultEnter({current:i,next:n}):uo.enterCase({current:i,next:n},(function(){lo.reinit(),setTimeout((function(){gr.call("scrollManager","enableScroll")}),500)}))}catch(e){console.warn("fromCaseToCase ENTER error",e)}}},{name:"fromAboutToCase",from:{namespace:"about"},to:{namespace:"single-case"},leave:function(t){var i=t.current,n=t.next;try{if(xr.device<2||xr.isFakeMobile||br.isIos||xr.device>=3)e.defaultLeave({current:i,next:n},this),e.updateCaseHero({next:n}),e.updateCaseNext({next:n});else{var r=this.async();uo.hideNextCase({current:i,next:n}),e.updateCaseHero({next:n}),e.updateCaseNext({next:n}),uo.leaveCase({current:i,next:n},(function(){r()}))}}catch(e){console.warn("fromAboutToCase LEAVE error",e)}},enter:function(t){var i=t.current,n=t.next;try{xr.device<2||xr.isFakeMobile||br.isIos||xr.device>=3?e.defaultEnter({current:i,next:n}):uo.enterCase({current:i,next:n},(function(){lo.reinit(),setTimeout((function(){gr.call("scrollManager","enableScroll")}),500)}))}catch(e){console.warn("fromCaseToCase ENTER error",e)}}},{name:"default",leave:function(t){var i=t.current,n=t.next;try{e.defaultLeave({current:i,next:n},this)}catch(e){console.warn("default LEAVE error",e)}},enter:function(t){var i=t.current,n=t.next;try{e.defaultEnter({current:i,next:n})}catch(e){console.warn("default ENTER error",e)}}}],requestError:function(e,t,i,n){return"click"===t&&n.status&&404===n.status&&window.location.replace("".concat(mainUrl,"/404/")),!1}}),hr.a.history.h[0].ns){case"about":document.body.classList.add("blend");break;case"single-article":break;case"not-found":document.body.classList.add("blend");break;default:document.body.classList.remove("blend")}}}])&&co(t.prototype,i),n&&co(t,n),e}();function fo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var po=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements=[],this.init()}var t,i,n;return t=e,(i=[{key:"getAttributes",value:function(e){var t=this;e.forEach((function(e){var i=e.hasAttribute("data-ratio-inv"),n=parseFloat(e.getAttribute(i?"data-ratio-inv":"data-ratio")),r=e.hasAttribute("data-ratio-m")?parseFloat(e.getAttribute("data-ratio-m")):n,o=e.getBoundingClientRect(),a=Fr(i?o.height*(xr.device<2?r:n):o.width,5),s=Fr(i?o.height:o.width/(xr.device<2?r:n),5),l=parseFloat(e.getAttribute("data-ratio-pos-top")),u=parseFloat(e.getAttribute("data-ratio-pos-bottom")),c=parseFloat(e.getAttribute("data-ratio-parent-top")),h=parseFloat(e.getAttribute("data-ratio-parent-bottom"));t.elements.push({el:e,width:a,height:s,ratio:n,mobileRatio:r,posTop:l,posBottom:u,parentTop:c,parentBottom:h,isInverse:i})}))}},{key:"applyRatio",value:function(){this.elements.forEach((function(e){e.isInverse?e.el.style.width="".concat(e.width,"px"):e.el.style.height="".concat(e.height,"px"),e.posTop&&(e.el.style.top="".concat(e.height*Fr(e.posTop,5),"px")),e.posBottom&&(e.el.style.bottom="".concat(e.height*Fr(e.posBottom,5),"px")),e.parentTop&&(e.el.parentNode.style.top="".concat(e.height*Fr(e.parentTop,5),"px")),e.parentBottom&&(e.el.parentNode.style.bottom="".concat(e.height*Fr(e.parentBottom,5),"px"))}))}},{key:"init",value:function(){var e=(br.nextContainer||document).querySelectorAll(".js-ratio");this.getAttributes(e),this.applyRatio()}},{key:"resize",value:function(){this.elements=[],this.init()}}])&&fo(t.prototype,i),n&&fo(t,n),e}();function go(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var vo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sliders=[]}var t,i,n;return t=e,(i=[{key:"add",value:function(e){this.sliders.push(e)}},{key:"resize",value:function(){this.sliders.forEach((function(e){return e.resize()}))}},{key:"destroy",value:function(){this.sliders.forEach((function(e){return e.destroy()})),this.sliders=[]}}])&&go(t.prototype,i),n&&go(t,n),e}();function mo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var yo=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(e){var t=e.currentTarget,i=r.instances.findIndex((function(e){return e.toggler.isEqualNode(t)})),n=r.instances[i];n.isAnimating||(n.isOpen?r.close(n):r.open(n))},(i="toggle")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.instances=[],this.init()}var t,i,n;return t=e,(i=[{key:"setInitialState",value:function(){this.instances.forEach((function(e){e.content&&(e.height=e.content.clientHeight,e.isOpen=!1,e.isAnimating=!1,e.scrollTop=0,Cn.set(e.content,{transformOrigin:"center top",scaleY:0}),Cn.set(e.content.children,{opacity:0}),Cn.set(e.toggler,{y:-e.height}))}))}},{key:"addListeners",value:function(){var e=this;this.instances.forEach((function(t){t.toggler&&t.toggler.addEventListener("click",e.toggle)}))}},{key:"close",value:function(e){Cn.timeline({onStart:function(){e.isAnimating=!0,e.container.classList.remove("is-open")},onComplete:function(){e.isAnimating=!1}}).to(e.content.children,.3,{opacity:0}).to(e.content,.5,{scaleY:0,ease:vi.easeOut}).to(e.toggler,.5,{y:-e.height,ease:vi.easeOut},"-=0.5"),e.isOpen=!1}},{key:"open",value:function(e){Cn.timeline({onStart:function(){e.isAnimating=!0,e.container.classList.add("is-open")},onComplete:function(){e.isAnimating=!1}}).to(e.content,.5,{scaleY:1,ease:vi.easeOut}).to(e.toggler,.5,{y:0,ease:vi.easeOut},"-=0.5").to(e.content.children,.3,{opacity:1},"-=0.3"),e.isOpen=!0}},{key:"resetState",value:function(){var e=this;this.instances.forEach((function(t){t.isOpen&&e.close(t),t.toggler&&t.toggler.removeEventListener("click",e.toggle)}))}},{key:"init",value:function(){var e=this,t=(br.nextContainer||document).querySelectorAll(".js-read-more");t.length>0&&(t.forEach((function(t){var i=t.querySelector(".js-read-more-toggle"),n=t.querySelector(".js-read-more-content");e.instances.push({container:t,toggler:i,content:n})})),this.setInitialState(),this.addListeners())}},{key:"resize",value:function(){this.resetState(),this.instances=[],this.init()}},{key:"destroy",value:function(){this.resetState(),this.instances=[]}}])&&mo(t.prototype,i),n&&mo(t,n),e}();function bo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var xo=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),wo(this,"onFocus",(function(e){e.currentTarget.parentNode.classList.add("is-focus","is-focus-full")})),wo(this,"onBlur",(function(e){var t=e.currentTarget.parentNode;t.classList.remove("is-focus"),""==e.currentTarget.value&&t.classList.remove("is-focus-full")})),wo(this,"onInput",(function(e){var t=e.currentTarget;t.style.height="inherit",n.setAreaHeight(t)})),wo(this,"onSubmitSuccess",(function(e){(e=JSON.parse(e)).result&&setTimeout((function(){n.contactInstance.completeLoad()}),800)})),wo(this,"onSubmitError",(function(e){n.contactInstance.manageError(e),console.log("Error, ",e)})),wo(this,"onSubmit",(function(e){if(e.preventDefault(),n.validateFields(),n.haveError())n.manageErrors();else{var t=new FormData(n.form);t.append("subject",n.subject);var i=new Object,r=!0,o=!1,a=void 0;try{for(var s,l=t.entries()[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;i["".concat(u[0])]=u[1]}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}n.formData=i,n.submitRequest(n.onSubmitSuccess,n.onSubmitError),n.contactInstance.startLoad()}})),this.form=t,this.endPoint=this.form.dataset.endpoint,this.subject=this.form.dataset.subject,this.contactInstance=i,this.inputContainers=this.form.querySelectorAll(".form-input__container"),this.inputs=this.form.querySelectorAll(".form-input"),this.textarea=this.form.querySelector(".form-textarea"),this.state={inputs:[]},this.EMPTY_MESSAGE="*The field is empty",this.EMAIL_MESSAGE="*The E-mail Address entered is invalid."}var t,i,n;return t=e,(i=[{key:"setup",value:function(){this.form.addEventListener("submit",this.onSubmit),this.textarea.addEventListener("input",this.onInput),this.setAreaHeight(this.textarea);for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e];t.addEventListener("focus",this.onFocus),t.addEventListener("blur",this.onBlur),this.state.inputs.push({id:t.getAttribute("id"),target:t,errors:[]})}}},{key:"setAreaHeight",value:function(e){var t=window.getComputedStyle(e),i=parseInt(t.getPropertyValue("border-top-width"),10)+parseInt(t.getPropertyValue("padding-top"),10)+e.scrollHeight+parseInt(t.getPropertyValue("padding-bottom"),10)+parseInt(t.getPropertyValue("border-bottom-width"),10);e.style.height="".concat(i,"px")}},{key:"validate",value:function(e,t){var i,n=e.dataset.type,r=this.state.inputs[t],o=r.errors.find((function(e){return"empty"===e.type}));if(""===e.value)void 0===o&&r.errors.push({type:"empty",message:this.EMPTY_MESSAGE});else if("email"===n){var a=r.errors.find((function(e){return"email"===e.type}));if(void 0!==o){var s=r.errors.filter((function(e,t,i){return"empty"!==e.type}));r.errors=s}if(i=e.value,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(i).toLowerCase())){if(void 0!==a){var l=r.errors.filter((function(e,t,i){return"email"!==e.type}));r.errors=l}}else void 0===a&&r.errors.push({type:"email",message:this.EMAIL_MESSAGE})}else r.errors.length>0&&(r.errors=[])}},{key:"validateFields",value:function(){for(var e=0;e<this.inputs.length;e++)this.validate(this.inputs[e],e)}},{key:"haveError",value:function(){for(var e=0;e<this.state.inputs.length;e++)if(this.state.inputs[e].errors.length>0)return!0;return!1}},{key:"updateSubject",value:function(e){this.subject=e}},{key:"manageErrors",value:function(){for(var e=this,t=function(t){var i=e.inputContainers[t],n=e.state.inputs[t].errors.length,r=i.querySelector(".js-form-error-inner");if(n>0){var o=e.state.inputs[t].errors[n-1];r.textContent=o.message,i.classList.add("is-error");var a=Math.random()*(.4-.1)+.1;Cn.to(r,{duration:.5,y:"-100%",delay:a})}else i.classList.contains("is-error")&&(i.classList.remove("is-error"),Cn.to(r,{duration:.5,y:"-200%",onComplete:function(){Cn.set(r,{y:"0%"})}}))},i=0;i<this.inputContainers.length;i++)t(i)}},{key:"submitRequest",value:function(e,t){var i=this,n=new XMLHttpRequest,r="string"==typeof this.formData?this.formData:Object.keys(this.formData).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(i.formData[e])})).join("&");n.open("POST",this.endPoint,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(r),n.onload=function(){200==n.status?e&&e(n.response):t&&t(n)},n.onerror=function(){console.log("Request failed")}}},{key:"reset",value:function(){for(var e=0;e<this.inputContainers.length;e++){var t=this.inputContainers[e],i=t.querySelector(".form-input"),n=t.querySelector(".js-form-error-inner");i.value="",n.textContent="",t.classList.remove("is-error"),Cn.set(n,{y:"0%"})}}},{key:"destroy",value:function(){this.form.removeEventListener("submit",this.onSubmit);for(var e=0;e<this.inputs.length;e++)this.inputs[e].removeEventListener("focus",this.onFocus),this.inputs[e].removeEventListener("blur",this.onBlur),this.inputs[e].value="";this.state={inputs:[]}}},{key:"init",value:function(){this.setup()}}])&&bo(t.prototype,i),n&&bo(t,n),e}();function Do(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _o=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(this,"onDropClick",(function(e){if(!t.isAnimatingDrop){var i=e.target.classList.contains("contact-selector__drop-option");if(e.target.classList.contains("js-contact-selector-open")||Ir(t.dropOpener,e.target))t.isDropOpen?t.closeDrop():t.openDrop();else if(i||Ir(t.drop,e.target)){var n=(i?e.target:function(e,t){for(;e.parentNode;)if((e=e.parentNode).classList.contains("".concat(t)))return e;return null}(e.target,"contact-selector__drop-option")).dataset.value;t.appendOption(n),t.switchOptions(),t.formInstance.updateSubject(n),t.isDropOpen&&t.closeDrop()}else t.isDropOpen&&t.closeDrop()}})),void 0!==document.querySelector('[data-barba-namespace="contact"]')&&(this.contentContainer=document.querySelector(".contact-container"),this.formsContainer=document.querySelector(".js-contact-form-container"),this.formElement=document.querySelector(".js-form"),this.formInstance=null,this.selectorIcon=document.querySelector(".contact-selector__icon"),this.selectorTitle=document.querySelector(".contact-selector__title"),this.dropOpener=document.querySelector(".js-contact-selector-open"),this.drop=document.querySelector(".js-contact-selector-drop"),this.dropBorder=document.querySelector(".contact-selector__drop-border"),this.dropOptionsLines=document.querySelectorAll(".contact-selector__drop-title .line-child"),this.contactLoader=document.querySelector(".contact-loader"),this.mainContent=document.querySelectorAll(".js-contact-main"),this.isAnimatingDrop=!1,this.isSubmitting=!1,this.isDropOpen=!1,this.init())}var t,i,n;return t=e,(i=[{key:"addListeners",value:function(){this.hasListener||(document.addEventListener("click",this.onDropClick,!1),this.hasListener=!0)}},{key:"removeListeners",value:function(){this.hasListener&&(document.removeEventListener("click",this.onDropClick,!1),this.hasListener=!1)}},{key:"isAnimateDrop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isAnimatingDrop=e,e?this.contentContainer.classList.add("is-animate"):this.contentContainer.classList.remove("is-animate")}},{key:"initForm",value:function(){this.formInstance=new xo(this.formElement,this),this.formInstance.init()}},{key:"destroyForm",value:function(){this.formInstance.destroy(),this.formInstance=null}},{key:"setup",value:function(){this.drop&&Cn.set(this.drop,{height:0}),this.dropOptionsLines&&Cn.set(this.dropOptionsLines,{yPercent:100}),this.dropBorder&&Cn.set(this.dropBorder,{scaleX:0}),this.initForm(),this.addListeners()}},{key:"appendOption",value:function(e){var t=document.createDocumentFragment(),i=document.createElement("div"),n=document.createElement("p");n.className="h3",n.textContent=e,i.appendChild(n),i.className="contact-selector__title-active",i.style.opacity="0",t.appendChild(i),this.selectorTitle.appendChild(t)}},{key:"switchOptions",value:function(){var e=this.selectorTitle.querySelectorAll(".contact-selector__title-active");Cn.set(e[1],{yPercent:100,opacity:1}),Cn.timeline().to(e[0],{duration:.5,yPercent:-100,ease:"circ.inOut"}).to(e[1],{duration:.5,yPercent:0,ease:"circ.inOut",onComplete:function(){Cr(e[0]),e[1].removeAttribute("style")}},"-=0.4")}},{key:"openDrop",value:function(){var e=this;if(!this.isAnimatingDrop){this.isAnimateDrop(!0);var t=Cn.timeline();Cn.set(this.drop,{height:"auto"}),t.to(this.selectorIcon,{duration:.3,rotation:180}).from(this.drop,{duration:.5,height:0,ease:"expo.out"},"-=0.3").to(this.dropOptionsLines,{duration:.7,yPercent:0,stagger:.11,ease:"circ.inOut"},"-=0.55").to(this.dropBorder,{duration:.8,scaleX:1,ease:"circ.inOut",onComplete:function(){Cn.set(e.dropBorder,{transformOrigin:"right center"}),e.isAnimateDrop(!1),e.isDropOpen=!0}},"-=0.65")}}},{key:"closeDrop",value:function(){var e=this;this.isAnimatingDrop||(this.isAnimateDrop(!0),Cn.timeline().to(this.selectorIcon,{duration:.3,rotation:"360deg",onComplete:function(){Cn.set(e.selectorIcon,{rotation:0})}}).to(this.dropBorder,{duration:.55,scaleX:0,ease:"circ.inOut",onComplete:function(){Cn.set(e.dropBorder,{transformOrigin:"left center"})}},0).to(this.dropOptionsLines,{duration:.7,yPercent:-100,stagger:.125,ease:"circ.inOut"},"-=0.45").to(this.drop,{duration:.5,height:0,ease:"expo.out",onComplete:function(){Cn.set(e.dropOptionsLines,{yPercent:100}),e.isAnimateDrop(!1),e.isDropOpen=!1}},"-=0.5"))}},{key:"isSubmit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isSubmitting=e,e?document.body.classList.add("is-loading"):document.body.classList.remove("is-loading")}},{key:"startLoad",value:function(){this.isSubmit(!0),document.body.classList.add("is-animating"),xr.device>=2&&lo.trigger("loadOn"),gr.call("scrollManager","disableScroll"),io.prepareChange(),io.show(),Cn.timeline().set(this.contactLoader,{zIndex:421,visibility:"visible"}).call(io.moveMain,[{duration:1,value:xr.window.height,type:"form-load-start",onComplete:function(){document.body.classList.add("is-animating-contact-success")}}])}},{key:"manageError",value:function(e){console.log("managerError",e),document.body.classList.remove("is-animating"),document.body.classList.remove("is-animating-contact-success")}},{key:"completeLoad",value:function(){document.body.classList.remove("is-animating"),gr.call("scrollManager","enableScroll"),this.isSubmit(!1),gr.call("router","goTo","".concat(mainUrl,"/contact/success"))}},{key:"resize",value:function(){this.dropOptionsLines=document.querySelectorAll(".contact-selector__drop-title .line-child"),this.dropOptionsLines.length&&(this.isDropOpen?Cn.set(this.dropOptionsLines,{yPercent:0}):Cn.set(this.dropOptionsLines,{yPercent:100}))}},{key:"destroy",value:function(){this.formInstance&&(this.removeListeners(),this.destroyForm())}},{key:"init",value:function(){this.contentContainer=(br.nextContainer||document).querySelector(".contact-container"),this.formsContainer=(br.nextContainer||document).querySelector(".js-contact-form-container"),this.formElements=(br.nextContainer||document).querySelectorAll(".js-form"),this.selectorIcon=(br.nextContainer||document).querySelector(".contact-selector__icon"),this.selectorTitle=(br.nextContainer||document).querySelector(".contact-selector__title"),this.dropOpener=(br.nextContainer||document).querySelector(".js-contact-selector-open"),this.drop=(br.nextContainer||document).querySelector(".js-contact-selector-drop"),this.dropBorder=(br.nextContainer||document).querySelector(".contact-selector__drop-border"),this.dropOptionsLines=(br.nextContainer||document).querySelectorAll(".contact-selector__drop-title .line-child"),this.contentContainer&&this.formsContainer&&this.setup()}}])&&Do(t.prototype,i),n&&Do(t,n),e}(),So=i(24),Eo=i.n(So);function Co(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ko=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(t)}var t,i,n;return t=e,(i=[{key:"init",value:function(e){sessionStorage.fontsLoadedFoutWithClassPolyfill?(document.body.classList.add("is-font-loaded"),e&&e()):(this.fontBase=new Eo.a("NB Akademie Std"),this.fontBaseMedium=new Eo.a("NB Akademie Std",{weight:500}),this.fontMono=new Eo.a("NB Akademie Mono Std",{weight:500}),Promise.all([this.fontBase.load(null,1e4),this.fontBaseMedium.load(null,1e4),this.fontMono.load(null,1e4)]).then((function(){document.body.classList.add("is-font-loaded"),sessionStorage.fontsLoadedFoutWithClassPolyfill=!0,e&&e()})))}}])&&Co(t.prototype,i),n&&Co(t,n),e}());function To(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ao(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lo(e,t,i){return t&&Ao(e.prototype,t),i&&Ao(e,i),e}var Po=function(){function e(){To(this,e),this.instances=[],this.init()}return Lo(e,[{key:"init",value:function(){var e=this;(br.nextContainer||document).querySelectorAll("[data-hover-link]").forEach((function(t){e.instances.push(new Oo(t))}))}},{key:"addInstances",value:function(e){var t=this;e.forEach((function(e){t.instances.push(new Oo(e))}))}},{key:"reinit",value:function(){this.instances=[],this.init()}},{key:"destroy",value:function(){this.instances=[]}}]),e}(),Oo=function(){function e(t){To(this,e),void 0!==t&&(this.el=t,this.label=this.el.querySelector(".link-label"),this.wrap=null,this.firstLetters=[],this.lastLetters=[],this.isActive=!1,this.timeout=50,this.init())}return Lo(e,[{key:"initListeners",value:function(){var e=this;this.mouseenterFn=function(t){return e.mouseTimeout=setTimeout((function(){e.isActive=!0,e.tl.play()}),50)},this.mouseLeaveFn=function(t){clearTimeout(e.mouseTimeout),e.isActive&&(e.isActive=!1,e.tl.reverse())},this.el.addEventListener("mouseenter",this.mouseenterFn),this.el.addEventListener("mouseleave",this.mouseLeaveFn)}},{key:"removeListeners",value:function(){}},{key:"prepareText",value:function(){var e=gr.get("textSplit"),t=document.createDocumentFragment(),i=document.createElement("div");i.className="link-wrap",i.textContent=this.label.textContent,this.label.textContent="",t.appendChild(i),this.label.appendChild(t),this.wrap=this.label.querySelector(".link-wrap"),e.create(this.wrap,{type:"chars",charsClass:"char"}),this.firstLetters=this.wrap.querySelectorAll(".char");var n=document.createElement("div"),r=document.createDocumentFragment();n.className="link-copy",n.textContent=this.label.textContent,r.appendChild(n),this.wrap.appendChild(r),this.copy=this.label.querySelector(".link-copy"),e.create(this.copy,{type:"chars",charsClass:"char"}),this.lastLetters=this.copy.querySelectorAll(".char"),Cn.set(this.lastLetters,{yPercent:100,skewY:"10deg",opacity:0})}},{key:"init",value:function(){xr.device>1&&!br.isIos&&(this.prepareText(),this.firstDelay=.2/this.firstLetters.length,this.lastDelay=.2/this.lastLetters.length,this.tl=Cn.timeline({paused:!0}),this.tl.to(this.firstLetters,{duration:.2,skewY:"-10deg",yPercent:-100,opacity:0,stagger:this.firstDelay,ease:mi.easeIn}).to(this.lastLetters,{duration:.2,yPercent:0,skewY:"0deg",opacity:1,stagger:this.lastDelay,ease:mi.easeOut},"-=0.2"),this.initListeners())}}]),e}();function Io(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Fo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.els=[],this.init()}var t,i,n;return t=e,(i=[{key:"resize",value:function(){this.init()}},{key:"init",value:function(){this.els=(br.nextContainer||document).querySelectorAll(".js-fixed-h"),this.els.forEach((function(e){xr.device>1||1024==xr.window.width?e.style.height="".concat(xr.window.height,"px"):e.classList.contains("js-no-fixed-h-mob")?e.style.height="".concat(.39*xr.window.height,"px"):e.style.height="".concat(xr.window.height,"px")}))}}])&&Io(t.prototype,i),n&&Io(t,n),e}();function Mo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var qo=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget||e.target.closest("a");if(t){var i=document.querySelector(t.getAttribute("href"));r.jumpTo(i)}},(i="onClick")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.init()}var t,i,n;return t=e,(i=[{key:"jumpTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var i=gr.get("scrollManager");if(e&&i&&i.scroll){var n=i.scroll.y+e.getBoundingClientRect().top;this.duration=t.duration||Hr(Math.abs(i.scroll.y-n)/(2*xr.window.height)*1e3,1500,6e3),this.offset=t.offset||0,this.callback=t.callback||Wr,i.instance.scrollTo(0,n-this.offset,this.duration,{easing:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},callback:this.callback})}}}},{key:"removeListeners",value:function(){var e=this;this.hasListeners&&(this.els.forEach((function(t){return t.removeEventListener("click",e.onClick)})),this.hasListeners=!1)}},{key:"addListeners",value:function(){var e=this;this.hasListeners||(this.els.forEach((function(t){return t.addEventListener("click",e.onClick)})),this.hasListeners=!0)}},{key:"setInitialScroll",value:function(){if(""!==location.hash){var e=document.querySelector(location.hash);e&&this.jumpTo(e,{duration:0})}}},{key:"init",value:function(){this.els=(br.nextContainer||document).querySelectorAll("[data-anchor]"),this.addListeners()}},{key:"destroy",value:function(){this.removeListeners(),this.els=[]}}])&&Mo(t.prototype,i),n&&Mo(t,n),e}();function jo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ro=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.splitCharsInstance=null,this.splitCharsWordsInstance=null,this.firstDoubleLinesInstance=null,this.secondDoubleLinesInstance=null,this.init()}var t,i,n;return t=e,(i=[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"chars"};new ur(e,t)}},{key:"revert",value:function(){this.splitCharsInstance&&this.splitCharsInstance.revert(),this.splitCharsWordsInstance&&this.splitCharsWordsInstance.revert(),this.firstDoubleLinesInstance&&this.firstDoubleLinesInstance.revert(),this.secondDoubleLinesInstance&&this.secondDoubleLinesInstance.revert()}},{key:"resize",value:function(){this.revert(),this.init()}},{key:"init",value:function(){var e=br.nextContainer||document,t=e.querySelectorAll('[data-splitting="chars"]'),i=e.querySelectorAll('[data-splitting="chars,words"]'),n=e.querySelectorAll('[data-splitting="double-lines"]');if(t.length&&(this.splitCharsInstance=new ur(t,{type:"chars",charsClass:"char"})),i.length&&(this.splitCharsWordsInstance=new ur(i,{type:"chars,words",charsClass:"char",wordsClass:"word"})),n.length){this.firstDoubleLinesInstance=new ur(n,{type:"lines",linesClass:"line-parent"});var r=e.querySelectorAll('[data-splitting="double-lines"] .line-parent');this.secondDoubleLinesInstance=new ur(r,{type:"lines",linesClass:"line-child"})}}}])&&jo(t.prototype,i),n&&jo(t,n),e}(),Bo={page:mr.get("page"),$intro:document.querySelector(".intro-loader"),$introContent:document.querySelectorAll(".js-intro-loader-anim"),$introBg:document.querySelector(".intro-loader__bg"),$introPath:document.querySelector(".intro-loader__transition-path"),$mobileInitialLoader:document.querySelector(".js-intro-loader-mloading"),$mobileInitialLoaderText:document.querySelector(".js-intro-loader-mloading-text"),$mobileInitialLoaderPath:document.querySelector(".js-intro-loader-mloading-path"),menuHide:function(){this.$navLogo=document.querySelector(".nav__logo"),this.$navToggle=document.querySelector(".nav__toggle"),Cn.set(this.$navLogo,{opacity:0,yPercent:-60}),Cn.set(this.$navToggle,{opacity:0,yPercent:-60})},menuReveal:function(){var e=this,t=Cn.timeline({onComplete:function(){e.$navLogo.removeAttribute("style"),e.$navToggle.removeAttribute("style")}});return t.to(this.$navLogo,.4,{opacity:1,yPercent:-50}).to(this.$navToggle,.4,{opacity:1,yPercent:-50},"-=0.35"),t},revealPage:function(){switch(mr.options.page){case"home":return this.homeEnter();case"single-case":return this.caseEnter();case"about":return this.aboutEnter();case"journal":return this.journalEnter();case"single-article":return this.singleArticleEnter();case"contact":return this.contactEnter();default:return Cn.timeline()}},homeHide:function(){this.$homeCategoriesAll=document.querySelector(".categories__all"),this.$homeCategoriesBorder=document.querySelector(".categories__border"),this.$homeCategoriesLabel=document.querySelector(".categories__filter-label"),this.$homeCategoriesSelect=document.querySelector(".categories__select"),this.$homeCategoriesArrows=document.querySelectorAll(".categories__arrow"),this.$homeBottomLogo=document.querySelector(".grid__bottom-logo"),this.$homeGridMobileCategory=document.querySelector(".grid-mobile__category"),Cn.set(this.$homeCategoriesAll,{opacity:0}),Cn.set(this.$homeCategoriesBorder,{scaleX:0}),Cn.set([this.$homeCategoriesLabel,this.$homeCategoriesSelect],{opacity:0}),Cn.set(this.$homeCategoriesArrows[0],{opacity:0,x:-12}),Cn.set(this.$homeCategoriesArrows[1],{opacity:0,x:12}),Cn.set([this.$homeBottomLogo,this.$homeGridMobileCategory],{opacity:0})},homeEnter:function(){var e=this;this.$homeBottomText=document.querySelector(".grid__bottom-text"),this.$homeBottomTextLines=this.$homeBottomText.querySelectorAll(".line-child"),Cn.set(this.$homeBottomTextLines,{yPercent:120});var t=Cn.timeline({delay:.3,onComplete:function(){e.$homeCategoriesBorder.removeAttribute("style"),e.$homeCategoriesAll.removeAttribute("style"),e.$homeCategoriesLabel.removeAttribute("style"),e.$homeCategoriesSelect.removeAttribute("style"),e.$homeBottomTextLines.forEach((function(e){return e.removeAttribute("style")})),e.$homeCategoriesArrows.forEach((function(e){return e.removeAttribute("style")})),e.$homeBottomLogo.removeAttribute("style")}});return t.to(this.$homeCategoriesAll,{duration:.4,opacity:1}).to(this.$homeCategoriesBorder,{duration:.7,scaleX:1,ease:mi.easeInOut},"-=0.4").to([this.$homeCategoriesLabel,this.$homeCategoriesSelect],{duration:.4,opacity:1,stagger:.1,ease:pi.easeInOut},"-=0.7").to(this.$homeBottomTextLines,{duration:.8,yPercent:0,stagger:.07,ease:pi.easeInOut},"-=0.6").to(this.$homeCategoriesArrows,{duration:.6,opacity:1,x:0,stagger:.1,ease:pi.easeInOut},"-=0.8").to(this.$homeBottomLogo,{duration:.6,opacity:1},"-=0.5").to(this.$homeGridMobileCategory,{duration:.6,opacity:1},"-=0.6"),t},caseHide:function(){var e=this;new ur(document.querySelector(".case-hero__title"),{type:"lines",linesClass:"line-parent"}),new ur(document.querySelectorAll(".case-hero__title .line-parent"),{type:"lines",linesClass:"line-child"}),this.$caseLines=document.querySelectorAll(".case-hero__title .line-child"),this.$caseImgDesc=document.querySelector(".case-hero__main-img-desc"),this.$caseHeroScroll=document.querySelector(".case-hero__scroll"),this.$caseHeroIconInner=document.querySelector(".case-hero__scroll-icon-inner"),this.$caseMainImg=document.querySelector(".case-hero__main-img"),Cn.set(this.$caseLines,{yPercent:140,skewY:"-6deg"}),Cn.set(this.$caseImgDesc,{y:30,opacity:0}),Cn.set(this.$caseHeroScroll,{y:30,opacity:0}),(xr.device<2||xr.isFakeMobile)&&(this.$caseHeroMobileTitle=document.querySelector(".case-hero__mobile-title"),Cn.set(this.$caseHeroMobileTitle,{opacity:0,y:30})),setTimeout((function(){Cn.set(e.$caseMainImg,{opacity:0,y:xr.device>=2?200:50})}),400)},caseEnter:function(){var e=this,t=Cn.timeline({onComplete:function(){for(var t=0;t<e.$caseLines.length;t++)e.$caseLines[t].removeAttribute("style");e.$caseImgDesc.removeAttribute("style"),e.$caseHeroScroll.removeAttribute("style")}});return t.to(this.$caseLines,{duration:1,yPercent:0,skewY:"0deg",stagger:.1,ease:pi.easeInOut},.1).to(this.$caseImgDesc,{duration:.4,y:0,opacity:1},"-=0.4").to(this.$caseHeroScroll,{duration:.4,y:0,opacity:1,onComplete:function(){setTimeout((function(){return e.$caseHeroIconInner.classList.add("arrow-anim")}),400)}},"-=0.4").to(this.$caseMainImg,{duration:1.1,opacity:1,y:0,ease:pi.easeInOut},"-=1.4"),(xr.device<2||xr.isFakeMobile)&&t.to(this.$caseHeroMobileTitle,{duration:.7,y:0,opacity:1,ease:pi.easeInOut},"-=0.8"),t},aboutHide:function(){new ur(document.querySelector(".header__title h1"),{type:"lines",linesClass:"line-parent"}),new ur(document.querySelectorAll(".header__title .line-parent"),{type:"lines",linesClass:"line-child"}),this.$aboutLines=document.querySelectorAll(".header__title .line-child"),this.$aboutArrowPath=document.querySelectorAll(".about-scroll-down path"),this.$aboutScrollInner=document.querySelector(".about-scroll-down__inner"),this.$squareFix=document.querySelector(".square-fix"),this.$mfirstImg=document.querySelector(".about-first-image"),this.$msecondImg=document.querySelector(".about-second-image"),Cn.set(this.$aboutLines,{yPercent:160,skewY:"-6deg"}),Cn.set(this.$aboutArrowPath,{drawSVG:0}),Cn.set(this.$squareFix,{opacity:0}),Cn.set([this.$mfirstImg,this.$msecondImg],{opacity:0,y:50})},aboutEnter:function(){var e=this,t=Cn.timeline();return t.to(this.$aboutLines,{duration:1.4,yPercent:0,skewY:"0deg",stagger:.1,ease:pi.easeInOut}).to(this.$aboutArrowPath,{duration:.7,drawSVG:"100%",ease:di.easeInOut,onComplete:function(){setTimeout((function(){return e.$aboutScrollInner.classList.add("arrow-anim")}),400)}},"-=0.4").to(this.$squareFix,{duration:.5,opacity:1},"-=0.7"),xr.device<=1||br.isIos||xr.isFakeMobile||xr.device>=3?(t.to(this.$mfirstImg,{duration:1,opacity:1,y:0,ease:pi.easeInOut},"-=1.2").to(this.$msecondImg,{duration:1,opacity:1,y:0,ease:pi.easeInOut},"-=1.1"),t):t},journalHide:function(){this.$jHeadZone=document.querySelector(".articles-slider__head"),this.$jContentZone=document.querySelector(".articles-slider__content"),this.$relativeSimpleSlider=document.querySelector(".articles-slider__container .simple-slider"),this.$squareFix=document.querySelector(".square-fix"),Cn.set([this.$jHeadZone,this.$jContentZone],{opacity:0,y:70}),Cn.set(this.$relativeSimpleSlider,{y:60,opacity:0}),Cn.set(this.$squareFix,{opacity:0})},journalEnter:function(){var e=Cn.timeline({delay:.3});return e.to([this.$jHeadZone,this.$jContentZone],{duration:.9,opacity:1,stagger:.05,y:0}).to(this.$relativeSimpleSlider,{y:0,duration:.7,opacity:1,ease:pi.easeInOut},"-=0.75").to(this.$squareFix,{duration:.5,opacity:1},"-=0.5"),e},singleArticleHide:function(){for(var e=document.querySelectorAll(".sa-hero__title"),t=0;t<e.length;t++){var i=e[t],n=i.querySelector("h1");new ur(n,{type:"lines",linesClass:"line-parent"}),new ur(i.querySelectorAll(".line-parent"),{type:"lines",linesClass:"line-child"})}this.$saLines=document.querySelectorAll(".sa-hero__title .line-child"),this.$saArrowPaths=document.querySelectorAll(".sa-hero__cta path"),this.$saScrollsInner=document.querySelectorAll(".sa-scroll-down__inner"),this.$squareFix=document.querySelector(".square-fix"),Cn.set(this.$saLines,{yPercent:140,skewY:"-6deg"}),Cn.set(this.$saArrowPaths,{drawSVG:0}),Cn.set(this.$squareFix,{opacity:0})},singleArticleEnter:function(){var e=this,t=Cn.timeline();return t.to(this.$saLines,{duration:1.4,yPercent:0,skewY:"0deg",stagger:.1,ease:pi.easeInOut}).to(this.$saArrowPaths,{duration:.7,drawSVG:"100%",ease:di.easeInOut,onComplete:function(){setTimeout((function(){return e.$saScrollsInner.forEach((function(e){return e.classList.add("arrow-anim")}))}),400)}},"-=0.4").to(this.$squareFix,{duration:.5,opacity:1},"-=0.7"),t},contactHide:function(){new ur(document.querySelector(".header__title h1"),{type:"lines",linesClass:"line-parent"}),new ur(document.querySelectorAll(".header__title .line-parent"),{type:"lines",linesClass:"line-child"}),this.$contactLines=document.querySelectorAll(".header__title .line-child"),this.$contactCols=document.querySelectorAll(".contact__col"),Cn.set(this.$contactLines,{yPercent:140,skewY:"-6deg"}),Cn.set(this.$contactCols,{opacity:0,y:80})},contactEnter:function(){var e=this,t=Cn.timeline({onComplete:function(){for(var t=0;t<e.$contactCols.length;t++)e.$contactCols[t].removeAttribute("style");for(var i=0;i<e.$contactLines.length;i++)e.$contactLines[i].removeAttribute("style")}});return t.to(this.$contactLines,{duration:1.2,yPercent:0,skewY:"0deg",stagger:.1,ease:pi.easeInOut}).to(this.$contactCols,{duration:.9,opacity:1,y:0,stagger:.05,onComplete:function(){e.$contactCols.forEach((function(e){return e.removeAttribute("style")}))}},"-=0.8"),t},introMiddle:function(){Cn.to(this.$introContent,{duration:1.4,opacity:1,ease:pi.easeOut})},intro:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.scrollTo(0,0),e&&lo.appearFirstTime(!0)},setMobileProgress:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Cn.set(this.$mobileInitialLoaderPath,{drawSVG:"".concat(e)}),t&&(this.$mobileInitialLoaderText.innerText="".concat(e))},hideMobileProgress:function(){return Cn.to(this.$mobileInitialLoader,{duration:.2,opacity:0})},showMobileProgress:function(){Cn.to(this.$mobileInitialLoader,{duration:.2,opacity:1})},updateMobileProgress:function(e){this.$mobileInitialLoaderText.innerText="".concat(parseInt(e,10),"%"),Cn.to(this.$mobileInitialLoaderPath,{duration:.2,drawSVG:"".concat(e,"%")})}};function zo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var No=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loader=null,this.imagesLoadedCount=0,this.hasLoaded=!1}var t,i,n;return t=e,(i=[{key:"closePageElements",value:function(){var e,t=this;switch(mr.get("page")){case"home":return this.categoriesSelect=document.querySelector(".categories__select"),this.categoriesFilterLabel=document.querySelector(".categories__filter-label"),this.categoriesAll=document.querySelector(".categories__all"),this.categoriesBorderContainer=document.querySelector(".js-categories-progress-container"),this.categoriesArrows=document.querySelector(".categories__arrows"),this.canvas=document.querySelector(".js-canvas"),this.gridBottomLogo=document.querySelector(".grid__bottom-logo"),this.gridBottomLines=document.querySelectorAll(".grid__bottom-text .line-child"),this.gridCategories=document.querySelector(".grid-mobile__category"),(e=Cn.timeline()).set(this.categoriesBorderContainer,{transformOrigin:"right center"}).to(this.categoriesBorderContainer,.8,{scaleX:0,ease:mi.easeInOut,onComplete:function(){Cn.set(t.categoriesBorderContainer,{transformOrigin:"left center"})}},0).to(this.canvas,.5,{opacity:0},0).to(this.categoriesAll,.5,{opacity:0},0).to(this.categoriesSelect,.5,{opacity:0},.2).to(this.categoriesFilterLabel,.5,{opacity:0},.2).to(this.categoriesArrows,.5,{opacity:0},.3).to(this.gridBottomLogo,.5,{opacity:0},.3).to(this.gridCategories,.5,{opacity:0},.3).to(this.gridBottomLines,{duration:.7,y:"-120%",skewY:"-4deg",stagger:.1,onComplete:function(){Cn.set(t.gridBottomLines,{y:"120%",skewY:"0deg"})},ease:pi.easeInOut},0),e;case"single-case":return this.noise=document.querySelector(".noise"),this.canvas=document.querySelector(".js-canvas"),this.caseHeroDesc=document.querySelector(".case-hero__main-img-desc"),this.caseHeroTitle=document.querySelector(".case-hero__title"),this.caseHeroScroll=document.querySelector(".case-hero__scroll"),this.caseMain=document.querySelector(".case-main"),this.caseNext=document.querySelector(".case-next"),this.caseSide=document.querySelector(".case-side"),this.caseMobileNav=document.querySelector(".nav-case-categories"),this.isSideHidden=this.caseSide.hasAttribute("data-hide"),(e=Cn.timeline({onStart:function(){t.isSideHidden||t.caseSide.setAttribute("data-hide","")}})).to(this.caseNext,.2,{opacity:0},0).to(this.noise,.4,{opacity:0},.2).to(this.canvas,.4,{opacity:0},.2).to(this.caseHeroDesc,.4,{opacity:0},.2).to(this.caseHeroScroll,.4,{opacity:0},.2).to(this.caseHeroTitle,.4,{opacity:0},.2).to(this.caseMain,.4,{opacity:0},.2).to(this.caseMobileNav,.2,{opacity:0},.2),e;case"about":return this.noise=document.querySelector(".noise"),this.canvas=document.querySelector(".js-canvas"),this.headerTitle=document.querySelector(".header__title"),this.aboutMain=document.querySelector(".js-about-main"),this.squareFix=document.querySelector(".square-fix"),this.caseNext=document.querySelector(".case-next"),(e=Cn.timeline({dafaults:{duration:.4}})).to(this.caseNext,{opacity:0}).to(this.noise,{opacity:0}).to(this.canvas,{opacity:0},"<").to(this.headerTitle,{opacity:0},"<").to(this.aboutMain,{opacity:0},"<").to(this.squareFix,{opacity:0},"<"),e;case"journal":return this.noise=document.querySelector(".noise"),this.canvas=document.querySelector(".js-canvas"),this.sliderRow=document.querySelector(".articles-slider__row"),this.journalMain=document.querySelector(".journal-main"),this.squareFix=document.querySelector(".square-fix"),(e=Cn.timeline()).to([this.noise,this.canvas,this.sliderRow,this.journalMain,this.squareFix],.4,{opacity:0},0),e;case"single-article":return this.noise=document.querySelector(".noise"),this.canvas=document.querySelector(".js-canvas"),this.heroTitle=document.querySelector(".sa-hero__title"),this.saMain=document.querySelector(".sa-main"),this.scrollCta=document.querySelector(".sa-hero__cta"),this.squareFix=document.querySelector(".square-fix"),(e=Cn.timeline()).to([this.noise,this.canvas,this.heroTitle,this.saMain,this.squareFix,this.scrollCta],.4,{opacity:0},0),e;case"contact":return this.noise=document.querySelector(".noise"),this.headerTitle=document.querySelector(".header__title"),this.contactsCol=document.querySelectorAll(".contact__col"),(e=Cn.timeline()).to(this.noise,.4,{opacity:0},0).to(this.headerTitle,.4,{opacity:0,y:30,ease:pi.easeInOut},0).to(this.contactsCol,{duration:.4,opacity:0,y:30,stagger:.125,ease:pi.easeInOut},.1),e;default:return Cn.timeline()}}},{key:"openPageElements",value:function(){var e,t=this;switch(mr.get("page")){case"home":return this.gridBottomLines=document.querySelectorAll(".grid__bottom-text .line-child"),(e=Cn.timeline()).to(this.categoriesBorderContainer,.6,{scaleX:1,ease:mi.easeInOut}).to(this.categoriesAll,.5,{opacity:1},0).to(this.canvas,.5,{opacity:1},.2).to(this.categoriesSelect,.5,{opacity:1},.2).to(this.categoriesFilterLabel,.5,{opacity:1},.2).to(this.categoriesArrows,.5,{opacity:1},.3).to(this.gridBottomLogo,.5,{opacity:1},.3).to(this.gridCategories,.5,{opacity:1},.3).to(this.gridBottomLines,{duration:.7,y:"0%",skewY:"0deg",stagger:.1,ease:pi.easeInOut},0),e;case"single-case":return(e=Cn.timeline({onStart:function(){setTimeout((function(){t.isSideHidden||t.caseSide.removeAttribute("data-hide")}),2e3)}})).to(this.noise,.4,{opacity:.04},0).to(this.canvas,.4,{opacity:1},2).to(this.caseHeroScroll,.4,{opacity:1},2).to(this.caseHeroDesc,.4,{opacity:1},2).to(this.caseHeroTitle,.4,{opacity:1},2).to(this.caseMain,.4,{opacity:1},2).to(this.caseNext,.2,{opacity:1},2.4).to(this.caseMobileNav,.2,{opacity:1},1.7),e;case"about":return(e=Cn.timeline()).to(this.noise,.4,{opacity:.06},0).to(this.canvas,.4,{opacity:1},0).to(this.headerTitle,.4,{opacity:1},0).to(this.aboutMain,.4,{opacity:1},0).to(this.caseNext,.4,{opacity:1},0).to(this.squareFix,.4,{opacity:1},0),e;case"journal":return(e=Cn.timeline()).to(this.noise,.4,{opacity:.06},0).to(this.canvas,.4,{opacity:1},0).to(this.sliderRow,.4,{opacity:1},0).to(this.journalMain,.4,{opacity:1},0).to(this.squareFix,.4,{opacity:1},0),e;case"single-article":return(e=Cn.timeline()).to(this.noise,.4,{opacity:.06},0).to(this.canvas,.4,{opacity:1},0).to(this.heroTitle,.4,{opacity:1},0).to(this.saMain,.4,{opacity:1},0).to(this.scrollCta,.4,{opacity:1},0).to(this.squareFix,.4,{opacity:1},0),e;case"contact":return(e=Cn.timeline()).to(this.noise,.4,{opacity:.04},0).to(this.headerTitle,.8,{opacity:1,y:0,ease:pi.easeInOut},0).to(this.contactsCol,{duration:.8,opacity:1,y:0,stagger:.1,ease:pi.easeInOut},.2),e;default:return Cn.timeline()}}},{key:"hideInitial",value:function(){var e=mr.get("page");switch(Bo.menuHide(),e){case"home":Bo.homeHide();break;case"single-case":Bo.caseHide();break;case"about":Bo.aboutHide();break;case"journal":Bo.journalHide();break;case"single-article":Bo.singleArticleHide();break;case"contact":Bo.contactHide()}}},{key:"initialRatio",value:function(){this.introImages=document.querySelectorAll(".intro-loader__image");for(var e=0;e<this.introImages.length;e++){var t=this.introImages[e],i=t.getBoundingClientRect().height/t.dataset.initialRatio;t.style.width="".concat(i,"px")}}},{key:"resize",value:function(){this.initialRatio()}},{key:"init",value:function(){this.hideInitial(),this.initialRatio()}},{key:"change",value:function(){this.hideInitial()}}])&&zo(t.prototype,i),n&&zo(t,n),e}());function Ho(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Wo=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Uo(this,"onCategoryClick",(function(e){if(!t.isLoading){var i=e.currentTarget?e.currentTarget.hasAttribute("data-category")?e.currentTarget:null:e.target.hasAttribute("data-category")?e.target:e.target.closest("[data-category]");if(i){var n=i.getAttribute("data-category");t.isLoad(!0),t.sendRequest({category:n}),t.categoryFilters.forEach((function(e){e.classList.toggle("is-active",e.isSameNode(i))}))}}})),Uo(this,"onPaginationClick",(function(e){if(!t.isLoading){var i=e.currentTarget?e.currentTarget.hasAttribute("data-page")?e.currentTarget:null:e.target.hasAttribute("data-page")?e.target:e.target.closest("[data-page]");if(i){var n=parseInt(i.getAttribute("data-page"));t.isLoad(!0),t.sendRequest({page:n})}}})),this.data={category:"",page:0},this.categoryFilters=[],this.pageFilters=[],this.init()}var t,i,n;return t=e,(i=[{key:"isLoad",value:function(e){this.isLoading=e,document.body.classList.toggle("is-loading",this.isLoading),document.body.classList.toggle("is-posts-loading",this.isLoading),this.isLoading?lo.trigger("loadOn"):lo.trigger("loadOff")}},{key:"appendContent",value:function(e){this.appendContainer&&(this.appendContainer.innerHTML="",this.appendContainer.appendChild(e),gr.call("ratio","resize"),this.updatePagination(),gr.call("scrollManager","resize"))}},{key:"toggleTitleLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?this.title.classList.add("is-loading"):this.title.classList.remove("is-loading")}},{key:"sendRequest",value:function(e){var t=this;this.toggleTitleLoad(!0),function(e,t,i,n){var r=new XMLHttpRequest,o="string"==typeof t?t:Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");r.open("POST",e),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(o),r.onload=function(){200==r.status?i&&(console.log("Done, got ".concat(r.response.length," bytes")),i(r.response)):n&&n(r)},r.onerror=function(){console.log("Request failed")}}("".concat(templateUrl,"/journal/posts.php"),Object.assign(this.data,e),(function(e){t.isLoad(!1);var i,n=(i=e,(new DOMParser).parseFromString(i,"text/html"));if(n){var r=n.querySelector(".js-journal-content");r&&(t.destroyPagination(),t.articlesContainer?(document.body.classList.add("is-posts-success-loading"),gr.call("anchorScroll","jumpTo",t.articlesContainer,{callback:function(){t.onRequestSuccess(r)}})):(document.body.classList.add("is-posts-success-loading"),t.onRequestSuccess(r)))}}),(function(e){return console.log("request error",e)}))}},{key:"hideNewPosts",value:function(){this.newPosts=document.querySelectorAll(".post-card");for(var e=0;e<this.newPosts.length;e++){var t=this.newPosts[e],i=t.querySelector(".post-card__overtitle"),n=t.querySelector(".post-card__media"),r=t.querySelector(".post-card__title"),o=t.querySelector(".post-card__cta"),a=t.querySelector(".post-card__border");Cn.set([i,n,r,o],{opacity:0,y:30}),Cn.set(a,{scaleX:0})}}},{key:"revealNewPosts",value:function(){for(var e=0;e<this.newPosts.length;e++){var t=this.newPosts[e],i=t.querySelector(".post-card__overtitle"),n=t.querySelector(".post-card__media"),r=t.querySelector(".post-card__title"),o=t.querySelector(".post-card__cta"),a=t.querySelector(".post-card__border");Cn.timeline({delay:.3+e/10}).to(i,{y:0,opacity:.5,duration:1,ease:pi.easeInOut}).to([n,r,o],{y:0,opacity:1,stagger:.08,duration:1,ease:pi.easeInOut},"-=0.9").to(a,{scaleX:1,duration:.5,ease:mi.easeInOut},"-=0.8")}}},{key:"onRequestSuccess",value:function(e){var t=this;this.appendContent(e);var i=e.querySelectorAll("[data-img]"),n=gr.call("loaderManager","addImages",i),r=0,o=gr.get("linkHover"),a=this.appendContainer.querySelectorAll(".post-card__link");o.addInstances(a),n.forEach((function(e){gr.call("imageLoader","load",e,(function(e){r++,gr.call("imageLoader","onLazyLoad",e),r===n.length&&gr.call("scrollGL","refresh",n)}))})),setTimeout((function(){t.hideNewPosts(),t.toggleTitleLoad(!1),document.body.classList.remove("is-posts-success-loading"),t.revealNewPosts()}),200)}},{key:"addListeners",value:function(){if(!this.hasListeners){for(var e=0;e<this.categoryFilters.length;e++)this.categoryFilters[e].addEventListener("click",this.onCategoryClick);this.hasListeners=!0}}},{key:"removeListeners",value:function(){if(this.hasListeners){for(var e=0;e<this.categoryFilters.length;e++)this.categoryFilters[e].removeEventListener("click",this.onCategoryClick);this.hasListeners=!1}}},{key:"updatePagination",value:function(){var e=this;this.pageFilters=this.container.querySelectorAll("[data-page]"),this.pageFilters.forEach((function(t){return t.addEventListener("click",e.onPaginationClick)}))}},{key:"destroyPagination",value:function(){var e=this;this.pageFilters.forEach((function(t){return t.removeEventListener("click",e.onPaginationClick)}))}},{key:"init",value:function(){"journal"===mr.get("page")&&(this.container=br.nextContainer||document.querySelector("[data-barba-namespace]"),this.articlesContainer=(br.nextContainer||document).querySelector("#articles"),this.appendContainer=this.container.querySelector(".js-journal-posts"),this.title=(br.nextContainer||document).querySelector(".journal-content__title"),this.categoryFilters=this.container.querySelectorAll("[data-category]"),this.updatePagination(),this.isLoading=!1,this.addListeners())}},{key:"resize",value:function(){mr.get("page")}},{key:"destroy",value:function(){"journal"==mr.get("page")&&(this.destroyPagination(),this.removeListeners())}}])&&Ho(t.prototype,i),n&&Ho(t,n),e}();function Yo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Vo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t,i,n;return t=e,(i=[{key:"onScroll",value:function(e){var t=e.scroll;xr.device>1&&t.changed&&(t.y>=this.top?(Cn.set(this.el,{y:t.y-this.top}),this.isFixed=!0):this.isFixed&&(Cn.set(this.el,{y:0}),this.isFixed=!1))}},{key:"init",value:function(){if(this.el=(br.nextContainer||document).querySelector(".js-journal-side"),this.el){var e=gr.get("scrollManager"),t=e&&e.scroll?e.scroll.y:0,i=this.el.getBoundingClientRect();this.top=t+i.top-xr.nav.height*xr.window.height-br.oldContainerHeight}}}])&&Yo(t.prototype,i),n&&Yo(t,n),e}(),Xo=function(e,t){return(Xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Go(e,t){function i(){this.constructor=e}Xo(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var $o=function(){return($o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Zo(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}function Ko(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n}i(64),i(85),i(90),i(99),i(102);var Jo=function(e,t,i){return e==e&&(void 0!==i&&(e=e<=i?e:i),void 0!==t&&(e=e>=t?e:t)),e};var Qo=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ea=i(61),ta="object"==typeof self&&self&&self.Object===Object&&self,ia=ea.a||ta||Function("return this")(),na=ia.Symbol,ra=Object.prototype,oa=ra.hasOwnProperty,aa=ra.toString,sa=na?na.toStringTag:void 0;var la=function(e){var t=oa.call(e,sa),i=e[sa];try{e[sa]=void 0;var n=!0}catch(e){}var r=aa.call(e);return n&&(t?e[sa]=i:delete e[sa]),r},ua=Object.prototype.toString;var ca=function(e){return ua.call(e)},ha=na?na.toStringTag:void 0;var da=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ha&&ha in Object(e)?la(e):ca(e)};var fa=function(e){return null!=e&&"object"==typeof e};var pa=function(e){return"symbol"==typeof e||fa(e)&&"[object Symbol]"==da(e)},ga=/^\s+|\s+$/g,va=/^[-+]0x[0-9a-f]+$/i,ma=/^0b[01]+$/i,ya=/^0o[0-7]+$/i,ba=parseInt;var wa=function(e){if("number"==typeof e)return e;if(pa(e))return NaN;if(Qo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ga,"");var i=ma.test(e);return i||ya.test(e)?ba(e.slice(2),i?2:8):va.test(e)?NaN:+e};var xa=function(e,t,i){return void 0===i&&(i=t,t=void 0),void 0!==i&&(i=(i=wa(i))==i?i:0),void 0!==t&&(t=(t=wa(t))==t?t:0),Jo(wa(e),t,i)};function Da(e,t){return void 0===e&&(e=-1/0),void 0===t&&(t=1/0),function(i,n){var r="_"+n;Object.defineProperty(i,n,{get:function(){return this[r]},set:function(i){Object.defineProperty(this,r,{value:xa(i,e,t),enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}}function _a(e,t){var i="_"+t;Object.defineProperty(e,t,{get:function(){return this[i]},set:function(e){Object.defineProperty(this,i,{value:!!e,enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}var Sa=function(){return ia.Date.now()},Ea=Math.max,Ca=Math.min;var ka=function(e,t,i){var n,r,o,a,s,l,u=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var i=n,o=r;return n=r=void 0,u=t,a=e.apply(o,i)}function p(e){return u=e,s=setTimeout(v,t),c?f(e):a}function g(e){var i=e-l;return void 0===l||i>=t||i<0||h&&e-u>=o}function v(){var e=Sa();if(g(e))return m(e);s=setTimeout(v,function(e){var i=t-(e-l);return h?Ca(i,o-(e-u)):i}(e))}function m(e){return s=void 0,d&&n?f(e):(n=r=void 0,a)}function y(){var e=Sa(),i=g(e);if(n=arguments,r=this,l=e,i){if(void 0===s)return p(l);if(h)return clearTimeout(s),s=setTimeout(v,t),f(l)}return void 0===s&&(s=setTimeout(v,t)),a}return t=wa(t)||0,Qo(i)&&(c=!!i.leading,o=(h="maxWait"in i)?Ea(wa(i.maxWait)||0,t):o,d="trailing"in i?!!i.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=l=r=s=void 0},y.flush=function(){return void 0===s?a:m(Sa())},y};function Ta(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,i,n){var r=n.value;return{get:function(){return this.hasOwnProperty(i)||Object.defineProperty(this,i,{value:ka.apply(void 0,Ko([r],e))}),this[i]}}}}var Aa,La=function(){function e(e){var t=this;void 0===e&&(e={}),this.damping=.1,this.thumbMinSize=20,this.renderByPixels=!0,this.alwaysShowTracks=!1,this.continuousScrolling=!0,this.delegateTo=null,this.plugins={},Object.keys(e).forEach((function(i){t[i]=e[i]}))}return Object.defineProperty(e.prototype,"wheelEventTarget",{get:function(){return this.delegateTo},set:function(e){console.warn("[smooth-scrollbar]: `options.wheelEventTarget` is deprecated and will be removed in the future, use `options.delegateTo` instead."),this.delegateTo=e},enumerable:!0,configurable:!0}),Zo([Da(0,1)],e.prototype,"damping",void 0),Zo([Da(0,1/0)],e.prototype,"thumbMinSize",void 0),Zo([_a],e.prototype,"renderByPixels",void 0),Zo([_a],e.prototype,"alwaysShowTracks",void 0),Zo([_a],e.prototype,"continuousScrolling",void 0),e}(),Pa=new WeakMap;function Oa(){if(void 0!==Aa)return Aa;var e=!1;try{var t=function(){},i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",t,i),window.removeEventListener("testPassive",t,i)}catch(e){}return Aa=!!e&&{passive:!1}}function Ia(e){var t=Pa.get(e)||[];return Pa.set(e,t),function(e,i,n){function r(e){e.defaultPrevented||n(e)}i.split(/\s+/g).forEach((function(i){t.push({elem:e,eventName:i,handler:r}),e.addEventListener(i,r,Oa())}))}}function Fa(e){var t=function(e){return e.touches?e.touches[e.touches.length-1]:e}(e);return{x:t.clientX,y:t.clientY}}function Ma(e,t){return void 0===t&&(t=[]),t.some((function(t){return e===t}))}var qa=["webkit","moz","ms","o"],ja=new RegExp("^-(?!(?:"+qa.join("|")+")-)");function Ra(e,t){t=function(e){var t={};return Object.keys(e).forEach((function(i){if(ja.test(i)){var n=e[i];i=i.replace(/^-/,""),t[i]=n,qa.forEach((function(e){t["-"+e+"-"+i]=n}))}else t[i]=e[i]})),t}(t),Object.keys(t).forEach((function(i){var n=i.replace(/^-/,"").replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}));e.style[n]=t[i]}))}var Ba,za=function(){function e(e){this.updateTime=Date.now(),this.delta={x:0,y:0},this.velocity={x:0,y:0},this.lastPosition={x:0,y:0},this.lastPosition=Fa(e)}return e.prototype.update=function(e){var t=this.velocity,i=this.updateTime,n=this.lastPosition,r=Date.now(),o=Fa(e),a={x:-(o.x-n.x),y:-(o.y-n.y)},s=r-i||16,l=a.x/s*16,u=a.y/s*16;t.x=.9*l+.1*t.x,t.y=.9*u+.1*t.y,this.delta=a,this.updateTime=r,this.lastPosition=o},e}(),Na=function(){function e(){this._touchList={}}return Object.defineProperty(e.prototype,"_primitiveValue",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),e.prototype.isActive=function(){return void 0!==this._activeTouchID},e.prototype.getDelta=function(){var e=this._getActiveTracker();return e?$o({},e.delta):this._primitiveValue},e.prototype.getVelocity=function(){var e=this._getActiveTracker();return e?$o({},e.velocity):this._primitiveValue},e.prototype.track=function(e){var t=this,i=e.targetTouches;return Array.from(i).forEach((function(e){t._add(e)})),this._touchList},e.prototype.update=function(e){var t=this,i=e.touches,n=e.changedTouches;return Array.from(i).forEach((function(e){t._renew(e)})),this._setActiveID(n),this._touchList},e.prototype.release=function(e){var t=this;delete this._activeTouchID,Array.from(e.changedTouches).forEach((function(e){t._delete(e)}))},e.prototype._add=function(e){if(!this._has(e)){var t=new za(e);this._touchList[e.identifier]=t}},e.prototype._renew=function(e){this._has(e)&&this._touchList[e.identifier].update(e)},e.prototype._delete=function(e){delete this._touchList[e.identifier]},e.prototype._has=function(e){return this._touchList.hasOwnProperty(e.identifier)},e.prototype._setActiveID=function(e){this._activeTouchID=e[e.length-1].identifier},e.prototype._getActiveTracker=function(){return this._touchList[this._activeTouchID]},e}();!function(e){e.X="x",e.Y="y"}(Ba||(Ba={}));var Ha=function(){function e(e,t){void 0===t&&(t=0),this._direction=e,this._minSize=t,this.element=document.createElement("div"),this.displaySize=0,this.realSize=0,this.offset=0,this.element.className="scrollbar-thumb scrollbar-thumb-"+e}return e.prototype.attachTo=function(e){e.appendChild(this.element)},e.prototype.update=function(e,t,i){this.realSize=Math.min(t/i,1)*t,this.displaySize=Math.max(this.realSize,this._minSize),this.offset=e/i*(t+(this.realSize-this.displaySize)),Ra(this.element,this._getStyle())},e.prototype._getStyle=function(){switch(this._direction){case Ba.X:return{width:this.displaySize+"px","-transform":"translate3d("+this.offset+"px, 0, 0)"};case Ba.Y:return{height:this.displaySize+"px","-transform":"translate3d(0, "+this.offset+"px, 0)"};default:return null}},e}(),Ua=function(){function e(e,t){void 0===t&&(t=0),this.element=document.createElement("div"),this._isShown=!1,this.element.className="scrollbar-track scrollbar-track-"+e,this.thumb=new Ha(e,t),this.thumb.attachTo(this.element)}return e.prototype.attachTo=function(e){e.appendChild(this.element)},e.prototype.show=function(){this._isShown||(this._isShown=!0,this.element.classList.add("show"))},e.prototype.hide=function(){this._isShown&&(this._isShown=!1,this.element.classList.remove("show"))},e.prototype.update=function(e,t,i){Ra(this.element,{display:i<=t?"none":"block"}),this.thumb.update(e,t,i)},e}(),Wa=function(){function e(e){this._scrollbar=e;var t=e.options.thumbMinSize;this.xAxis=new Ua(Ba.X,t),this.yAxis=new Ua(Ba.Y,t),this.xAxis.attachTo(e.containerEl),this.yAxis.attachTo(e.containerEl),e.options.alwaysShowTracks&&(this.xAxis.show(),this.yAxis.show())}return e.prototype.update=function(){var e=this._scrollbar,t=e.size,i=e.offset;this.xAxis.update(i.x,t.container.width,t.content.width),this.yAxis.update(i.y,t.container.height,t.content.height)},e.prototype.autoHideOnIdle=function(){this._scrollbar.options.alwaysShowTracks||(this.xAxis.hide(),this.yAxis.hide())},Zo([Ta(300)],e.prototype,"autoHideOnIdle",null),e}();var Ya=new WeakMap;function Va(e){return Math.pow(e-1,3)+1}var Xa,Ga,$a,Za=function(){function e(e,t){var i=this.constructor;this.scrollbar=e,this.name=i.pluginName,this.options=$o($o({},i.defaultOptions),t)}return e.prototype.onInit=function(){},e.prototype.onDestroy=function(){},e.prototype.onUpdate=function(){},e.prototype.onRender=function(e){},e.prototype.transformDelta=function(e,t){return $o({},e)},e.pluginName="",e.defaultOptions={},e}(),Ka={order:new Set,constructors:{}};function Ja(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){var t=e.pluginName;if(!t)throw new TypeError("plugin name is required");Ka.order.add(t),Ka.constructors[t]=e}))}function Qa(e){var t=Ia(e),i=e.containerEl;t(i,"keydown",(function(t){var n=document.activeElement;if((n===i||i.contains(n))&&!function(e){if("INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!e.disabled;return!1}(n)){var r=function(e,t){var i=e.size,n=e.limit,r=e.offset;switch(t){case Xa.TAB:return function(e){requestAnimationFrame((function(){e.scrollIntoView(document.activeElement,{offsetTop:e.size.container.height/2,onlyScrollIfNeeded:!0})}))}(e);case Xa.SPACE:return[0,200];case Xa.PAGE_UP:return[0,40-i.container.height];case Xa.PAGE_DOWN:return[0,i.container.height-40];case Xa.END:return[0,n.y-r.y];case Xa.HOME:return[0,-r.y];case Xa.LEFT:return[-40,0];case Xa.UP:return[0,-40];case Xa.RIGHT:return[40,0];case Xa.DOWN:return[0,40];default:return null}}(e,t.keyCode||t.which);if(r){var o=r[0],a=r[1];e.addTransformableMomentum(o,a,t,(function(i){i?t.preventDefault():(e.containerEl.blur(),e.parent&&e.parent.containerEl.focus())}))}}}))}function es(e){var t,i,n,r,o,a=Ia(e),s=e.containerEl,l=e.track,u=l.xAxis,c=l.yAxis;function h(t,i){var n=e.size;return t===Ga.X?i/(n.container.width+(u.thumb.realSize-u.thumb.displaySize))*n.content.width:t===Ga.Y?i/(n.container.height+(c.thumb.realSize-c.thumb.displaySize))*n.content.height:0}function d(e){return Ma(e,[u.element,u.thumb.element])?Ga.X:Ma(e,[c.element,c.thumb.element])?Ga.Y:void 0}a(s,"click",(function(t){if(!i&&Ma(t.target,[u.element,c.element])){var n=t.target,r=d(n),o=n.getBoundingClientRect(),a=Fa(t),s=e.offset,l=e.limit;if(r===Ga.X){var f=a.x-o.left-u.thumb.displaySize/2;e.setMomentum(xa(h(r,f)-s.x,-s.x,l.x-s.x),0)}if(r===Ga.Y){f=a.y-o.top-c.thumb.displaySize/2;e.setMomentum(0,xa(h(r,f)-s.y,-s.y,l.y-s.y))}}})),a(s,"mousedown",(function(i){if(Ma(i.target,[u.thumb.element,c.thumb.element])){t=!0;var a=i.target,l=Fa(i),h=a.getBoundingClientRect();r=d(a),n={x:l.x-h.left,y:l.y-h.top},o=s.getBoundingClientRect(),Ra(e.containerEl,{"-user-select":"none"})}})),a(window,"mousemove",(function(a){if(t){i=!0;var s=e.offset,l=Fa(a);if(r===Ga.X){var u=l.x-n.x-o.left;e.setPosition(h(r,u),s.y)}if(r===Ga.Y){u=l.y-n.y-o.top;e.setPosition(s.x,h(r,u))}}})),a(window,"mouseup blur",(function(){t=i=!1,Ra(e.containerEl,{"-user-select":""})}))}function ts(e){Ia(e)(window,"resize",ka(e.update.bind(e),300))}function is(e){var t,i=Ia(e),n=e.containerEl,r=e.contentEl,o=e.offset,a=e.limit,s=!1;i(window,"mousemove",(function(i){s&&(cancelAnimationFrame(t),function i(n){var r=n.x,s=n.y;(r||s)&&(e.setMomentum(xa(o.x+r,0,a.x)-o.x,xa(o.y+s,0,a.y)-o.y),t=requestAnimationFrame((function(){i({x:r,y:s})})))}(function(e,t){var i=e.bounding,n=i.top,r=i.right,o=i.bottom,a=i.left,s=Fa(t),l=s.x,u=s.y,c={x:0,y:0};if(0===l&&0===u)return c;l>r-20?c.x=l-r+20:l<a+20&&(c.x=l-a-20);u>o-20?c.y=u-o+20:u<n+20&&(c.y=u-n-20);return c.x*=2,c.y*=2,c}(e,i)))})),i(r,"selectstart",(function(e){e.stopPropagation(),cancelAnimationFrame(t),s=!0})),i(window,"mouseup blur",(function(){cancelAnimationFrame(t),s=!1})),i(n,"scroll",(function(e){e.preventDefault(),n.scrollTop=n.scrollLeft=0}))}function ns(e){var t,i=/Android/.test(navigator.userAgent)?3:2,n=e.options.delegateTo||e.containerEl,r=new Na,o=Ia(e),a=0;o(n,"touchstart",(function(i){r.track(i),e.setMomentum(0,0),0===a&&(t=e.options.damping,e.options.damping=Math.max(t,.5)),a++})),o(n,"touchmove",(function(t){if(!$a||$a===e){r.update(t);var i=r.getDelta(),n=i.x,o=i.y;e.addTransformableMomentum(n,o,t,(function(i){i&&(t.preventDefault(),$a=e)}))}})),o(n,"touchcancel touchend",(function(n){var o=r.getVelocity(),s={x:0,y:0};Object.keys(o).forEach((function(e){var n=o[e]/t;s[e]=Math.abs(n)<50?0:n*i})),e.addTransformableMomentum(s.x,s.y,n),0===--a&&(e.options.damping=t),r.release(n),$a=null}))}function rs(e){Ia(e)(e.options.delegateTo||e.containerEl,"onwheel"in window||document.implementation.hasFeature("Events.wheel","3.0")?"wheel":"mousewheel",(function(t){var i=function(e){if("deltaX"in e){var t=function(e){return ss[e]||ss[0]}(e.deltaMode);return{x:e.deltaX/os*t,y:e.deltaY/os*t}}if("wheelDeltaX"in e)return{x:e.wheelDeltaX/as,y:e.wheelDeltaY/as};return{x:0,y:e.wheelDelta/as}}(t),n=i.x,r=i.y;e.addTransformableMomentum(n,r,t,(function(e){e&&t.preventDefault()}))}))}!function(e){e[e.TAB=9]="TAB",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN"}(Xa||(Xa={})),function(e){e[e.X=0]="X",e[e.Y=1]="Y"}(Ga||(Ga={}));var os=1,as=-3,ss=[1,28,500];var ls=new Map,us=function(){function e(e,t){var i=this;this.offset={x:0,y:0},this.limit={x:1/0,y:1/0},this.bounding={top:0,right:0,bottom:0,left:0},this._plugins=[],this._momentum={x:0,y:0},this._listeners=new Set,this.containerEl=e;var n=this.contentEl=document.createElement("div");this.options=new La(t),e.setAttribute("data-scrollbar","true"),e.setAttribute("tabindex","-1"),Ra(e,{overflow:"hidden",outline:"none"}),window.navigator.msPointerEnabled&&(e.style.msTouchAction="none"),n.className="scroll-content",Array.from(e.childNodes).forEach((function(e){n.appendChild(e)})),e.appendChild(n),this.track=new Wa(this),this.size=this.getSize(),this._plugins=function(e,t){return Array.from(Ka.order).filter((function(e){return!1!==t[e]})).map((function(i){var n=new(0,Ka.constructors[i])(e,t[i]);return t[i]=n.options,n}))}(this,this.options.plugins);var r=e.scrollLeft,o=e.scrollTop;e.scrollLeft=e.scrollTop=0,this.setPosition(r,o,{withoutCallbacks:!0});var a=window,s=a.MutationObserver||a.WebKitMutationObserver||a.MozMutationObserver;"function"==typeof s&&(this._observer=new s((function(){i.update()})),this._observer.observe(n,{subtree:!0,childList:!0})),ls.set(e,this),requestAnimationFrame((function(){i._init()}))}return Object.defineProperty(e.prototype,"parent",{get:function(){for(var e=this.containerEl.parentElement;e;){var t=ls.get(e);if(t)return t;e=e.parentElement}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.offset.y},set:function(e){this.setPosition(this.scrollLeft,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollLeft",{get:function(){return this.offset.x},set:function(e){this.setPosition(e,this.scrollTop)},enumerable:!0,configurable:!0}),e.prototype.getSize=function(){return t=(e=this).containerEl,i=e.contentEl,{container:{width:t.clientWidth,height:t.clientHeight},content:{width:i.offsetWidth-i.clientWidth+i.scrollWidth,height:i.offsetHeight-i.clientHeight+i.scrollHeight}};var e,t,i},e.prototype.update=function(){var e,t,i,n,r;t=(e=this).getSize(),i={x:Math.max(t.content.width-t.container.width,0),y:Math.max(t.content.height-t.container.height,0)},n=e.containerEl.getBoundingClientRect(),r={top:Math.max(n.top,0),right:Math.min(n.right,window.innerWidth),bottom:Math.min(n.bottom,window.innerHeight),left:Math.max(n.left,0)},e.size=t,e.limit=i,e.bounding=r,e.track.update(),e.setPosition(),this._plugins.forEach((function(e){e.onUpdate()}))},e.prototype.isVisible=function(e){return function(e,t){var i=e.bounding,n=t.getBoundingClientRect(),r=Math.max(i.top,n.top),o=Math.max(i.left,n.left),a=Math.min(i.right,n.right);return r<Math.min(i.bottom,n.bottom)&&o<a}(this,e)},e.prototype.setPosition=function(e,t,i){var n=this;void 0===e&&(e=this.offset.x),void 0===t&&(t=this.offset.y),void 0===i&&(i={});var r=function(e,t,i){var n=e.options,r=e.offset,o=e.limit,a=e.track,s=e.contentEl;return n.renderByPixels&&(t=Math.round(t),i=Math.round(i)),t=xa(t,0,o.x),i=xa(i,0,o.y),t!==r.x&&a.xAxis.show(),i!==r.y&&a.yAxis.show(),n.alwaysShowTracks||a.autoHideOnIdle(),t===r.x&&i===r.y?null:(r.x=t,r.y=i,Ra(s,{"-transform":"translate3d("+-t+"px, "+-i+"px, 0)"}),a.update(),{offset:$o({},r),limit:$o({},o)})}(this,e,t);r&&!i.withoutCallbacks&&this._listeners.forEach((function(e){e.call(n,r)}))},e.prototype.scrollTo=function(e,t,i,n){void 0===e&&(e=this.offset.x),void 0===t&&(t=this.offset.y),void 0===i&&(i=0),void 0===n&&(n={}),function(e,t,i,n,r){void 0===n&&(n=0);var o=void 0===r?{}:r,a=o.easing,s=void 0===a?Va:a,l=o.callback,u=e.options,c=e.offset,h=e.limit;u.renderByPixels&&(t=Math.round(t),i=Math.round(i));var d=c.x,f=c.y,p=xa(t,0,h.x)-d,g=xa(i,0,h.y)-f,v=Date.now();cancelAnimationFrame(Ya.get(e)),function t(){var i=Date.now()-v,r=n?s(Math.min(i/n,1)):1;if(e.setPosition(d+p*r,f+g*r),i>=n)"function"==typeof l&&l.call(e);else{var o=requestAnimationFrame(t);Ya.set(e,o)}}()}(this,e,t,i,n)},e.prototype.scrollIntoView=function(e,t){void 0===t&&(t={}),function(e,t,i){var n=void 0===i?{}:i,r=n.alignToTop,o=void 0===r||r,a=n.onlyScrollIfNeeded,s=void 0!==a&&a,l=n.offsetTop,u=void 0===l?0:l,c=n.offsetLeft,h=void 0===c?0:c,d=n.offsetBottom,f=void 0===d?0:d,p=e.containerEl,g=e.bounding,v=e.offset,m=e.limit;if(t&&p.contains(t)){var y=t.getBoundingClientRect();if(!s||!e.isVisible(t)){var b=o?y.top-g.top-u:y.bottom-g.bottom+f;e.setMomentum(y.left-g.left-h,xa(b,-v.y,m.y-v.y))}}}(this,e,t)},e.prototype.addListener=function(e){if("function"!=typeof e)throw new TypeError("[smooth-scrollbar] scrolling listener should be a function");this._listeners.add(e)},e.prototype.removeListener=function(e){this._listeners.delete(e)},e.prototype.addTransformableMomentum=function(e,t,i,n){this._updateDebounced();var r=this._plugins.reduce((function(e,t){return t.transformDelta(e,i)||e}),{x:e,y:t}),o=!this._shouldPropagateMomentum(r.x,r.y);o&&this.addMomentum(r.x,r.y),n&&n.call(this,o)},e.prototype.addMomentum=function(e,t){this.setMomentum(this._momentum.x+e,this._momentum.y+t)},e.prototype.setMomentum=function(e,t){0===this.limit.x&&(e=0),0===this.limit.y&&(t=0),this.options.renderByPixels&&(e=Math.round(e),t=Math.round(t)),this._momentum.x=e,this._momentum.y=t},e.prototype.updatePluginOptions=function(e,t){this._plugins.forEach((function(i){i.name===e&&Object.assign(i.options,t)}))},e.prototype.destroy=function(){var e,t,i=this.containerEl,n=this.contentEl;e=this,(t=Pa.get(e))&&(t.forEach((function(e){var t=e.elem,i=e.eventName,n=e.handler;t.removeEventListener(i,n,Oa())})),Pa.delete(e)),this._listeners.clear(),this.setMomentum(0,0),cancelAnimationFrame(this._renderID),this._observer&&this._observer.disconnect(),ls.delete(this.containerEl);for(var r=Array.from(n.childNodes);i.firstChild;)i.removeChild(i.firstChild);r.forEach((function(e){i.appendChild(e)})),Ra(i,{overflow:""}),i.scrollTop=this.scrollTop,i.scrollLeft=this.scrollLeft,this._plugins.forEach((function(e){e.onDestroy()})),this._plugins.length=0},e.prototype._init=function(){var e=this;this.update(),Object.keys(n).forEach((function(t){n[t](e)})),this._plugins.forEach((function(e){e.onInit()})),this._render()},e.prototype._updateDebounced=function(){this.update()},e.prototype._shouldPropagateMomentum=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var i=this.options,n=this.offset,r=this.limit;if(!i.continuousScrolling)return!1;0===r.x&&0===r.y&&this._updateDebounced();var o=xa(e+n.x,0,r.x),a=xa(t+n.y,0,r.y),s=!0;return s=(s=(s=s&&o===n.x)&&a===n.y)&&(n.x===r.x||0===n.x||n.y===r.y||0===n.y)},e.prototype._render=function(){var e=this._momentum;if(e.x||e.y){var t=this._nextTick("x"),i=this._nextTick("y");e.x=t.momentum,e.y=i.momentum,this.setPosition(t.position,i.position)}var n=$o({},this._momentum);this._plugins.forEach((function(e){e.onRender(n)})),this._renderID=requestAnimationFrame(this._render.bind(this))},e.prototype._nextTick=function(e){var t=this.options,i=this.offset,n=this._momentum,r=i[e],o=n[e];if(Math.abs(o)<=.1)return{momentum:0,position:r+o};var a=o*(1-t.damping);return t.renderByPixels&&(a|=0),{momentum:a,position:r+o-a}},Zo([Ta(100,{leading:!0})],e.prototype,"_updateDebounced",null),e}(),cs=!1;function hs(){if(!cs&&"undefined"!=typeof window){var e=document.createElement("style");e.id="smooth-scrollbar-style",e.textContent="\n[data-scrollbar] {\n  display: block;\n  position: relative;\n}\n\n.scroll-content {\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n}\n\n.scrollbar-track {\n  position: absolute;\n  opacity: 0;\n  z-index: 1;\n  background: rgba(222, 222, 222, .75);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-transition: opacity 0.5s 0.5s ease-out;\n          transition: opacity 0.5s 0.5s ease-out;\n}\n.scrollbar-track.show,\n.scrollbar-track:hover {\n  opacity: 1;\n  -webkit-transition-delay: 0s;\n          transition-delay: 0s;\n}\n\n.scrollbar-track-x {\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 8px;\n}\n.scrollbar-track-y {\n  top: 0;\n  right: 0;\n  width: 8px;\n  height: 100%;\n}\n.scrollbar-thumb {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 8px;\n  height: 8px;\n  background: rgba(0, 0, 0, .5);\n  border-radius: 4px;\n}\n",document.head&&document.head.appendChild(e),cs=!0}}
/*!
 * cast `I.Scrollbar` to `Scrollbar` to avoid error
 *
 * `I.Scrollbar` is not assignable to `Scrollbar`:
 *     "privateProp" is missing in `I.Scrollbar`
 *
 * @see https://github.com/Microsoft/TypeScript/issues/2672
 */
var ds,fs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Go(t,e),t.init=function(e,t){if(!e||1!==e.nodeType)throw new TypeError("expect element to be DOM Element, but got "+e);return hs(),ls.has(e)?ls.get(e):new us(e,t)},t.initAll=function(e){return Array.from(document.querySelectorAll("[data-scrollbar]"),(function(i){return t.init(i,e)}))},t.has=function(e){return ls.has(e)},t.get=function(e){return ls.get(e)},t.getAll=function(){return Array.from(ls.values())},t.destroy=function(e){var t=ls.get(e);t&&t.destroy()},t.destroyAll=function(){ls.forEach((function(e){e.destroy()}))},t.use=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ja.apply(void 0,e)},t.attachStyle=function(){return hs()},t.detachStyle=function(){return function(){if(cs&&"undefined"!=typeof window){var e=document.getElementById("smooth-scrollbar-style");e&&e.parentNode&&(e.parentNode.removeChild(e),cs=!1)}}()},t.version="8.5.1",t.ScrollbarPlugin=Za,t}(us),ps=function(){function e(e){this._scrollbar=e}return e.prototype.render=function(e){var t=e.x,i=void 0===t?0:t,n=e.y,r=void 0===n?0:n,o=this._scrollbar,a=o.size,s=o.track,l=o.offset;if(Ra(o.contentEl,{"-transform":"translate3d("+-(l.x+i)+"px, "+-(l.y+r)+"px, 0)"}),i){s.xAxis.show();var u=a.container.width/(a.container.width+Math.abs(i));Ra(s.xAxis.thumb.element,{"-transform":"translate3d("+s.xAxis.thumb.offset+"px, 0, 0) scale3d("+u+", 1, 1)","-transform-origin":i<0?"left":"right"})}if(r){s.yAxis.show();u=a.container.height/(a.container.height+Math.abs(r));Ra(s.yAxis.thumb.element,{"-transform":"translate3d(0, "+s.yAxis.thumb.offset+"px, 0) scale3d(1, "+u+", 1)","-transform-origin":r<0?"top":"bottom"})}s.autoHideOnIdle()},e}(),gs=function(){function e(e){this._scrollbar=e,this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),Ra(this._canvas,{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"none"})}return e.prototype.mount=function(){this._scrollbar.containerEl.appendChild(this._canvas)},e.prototype.unmount=function(){this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)},e.prototype.adjust=function(){var e=this._scrollbar.size,t=window.devicePixelRatio||1,i=e.container.width*t,n=e.container.height*t;i===this._canvas.width&&n===this._canvas.height||(this._canvas.width=i,this._canvas.height=n,this._ctx.scale(t,t))},e.prototype.recordTouch=function(e){var t=e.touches[e.touches.length-1];this._touchX=t.clientX,this._touchY=t.clientY},e.prototype.render=function(e,t){var i=e.x,n=void 0===i?0:i,r=e.y,o=void 0===r?0:r;if(n||o){Ra(this._canvas,{display:"block"});var a=this._scrollbar.size;this._ctx.clearRect(0,0,a.container.width,a.container.height),this._ctx.fillStyle=t,this._renderX(n),this._renderY(o)}else Ra(this._canvas,{display:"none"})},e.prototype._getMaxOverscroll=function(){var e=this._scrollbar.options.plugins.overscroll;return e&&e.maxOverscroll?e.maxOverscroll:150},e.prototype._renderX=function(e){var t=this._scrollbar.size,i=this._getMaxOverscroll(),n=t.container,r=n.width,o=n.height,a=this._ctx;a.save(),e>0&&a.transform(-1,0,0,1,r,0);var s=xa(Math.abs(e)/i,0,.75),l=xa(s,0,.25)*r,u=Math.abs(e),c=this._touchY||o/2;a.globalAlpha=s,a.beginPath(),a.moveTo(0,-l),a.quadraticCurveTo(u,c,0,o+l),a.fill(),a.closePath(),a.restore()},e.prototype._renderY=function(e){var t=this._scrollbar.size,i=this._getMaxOverscroll(),n=t.container,r=n.width,o=n.height,a=this._ctx;a.save(),e>0&&a.transform(1,0,0,-1,0,o);var s=xa(Math.abs(e)/i,0,.75),l=xa(s,0,.25)*r,u=this._touchX||r/2,c=Math.abs(e);a.globalAlpha=s,a.beginPath(),a.moveTo(-l,0),a.quadraticCurveTo(u,c,r+l,0),a.fill(),a.closePath(),a.restore()},e}();!function(e){e.BOUNCE="bounce",e.GLOW="glow"}(ds||(ds={}));var vs=/wheel|touch/,ms=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._glow=new gs(t.scrollbar),t._bounce=new ps(t.scrollbar),t._wheelScrollBack={x:!1,y:!1},t._lockWheel={x:!1,y:!1},t._touching=!1,t._amplitude={x:0,y:0},t._position={x:0,y:0},t._releaseWheel=ka((function(){t._lockWheel.x=!1,t._lockWheel.y=!1}),30),t}return Go(t,e),Object.defineProperty(t.prototype,"_isWheelLocked",{get:function(){return this._lockWheel.x||this._lockWheel.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_enabled",{get:function(){return!!this.options.effect},enumerable:!0,configurable:!0}),t.prototype.onInit=function(){var e=this._glow,t=this.options,i=this.scrollbar,n=t.effect;Object.defineProperty(t,"effect",{get:function(){return n},set:function(t){if(t){if(t!==ds.BOUNCE&&t!==ds.GLOW)throw new TypeError("unknow overscroll effect: "+t);n=t,i.options.continuousScrolling=!1,t===ds.GLOW?(e.mount(),e.adjust()):e.unmount()}else n=void 0}}),t.effect=n},t.prototype.onUpdate=function(){this.options.effect===ds.GLOW&&this._glow.adjust()},t.prototype.onRender=function(e){if(this._enabled){this.scrollbar.options.continuousScrolling&&(this.scrollbar.options.continuousScrolling=!1);var t=e.x,i=e.y;!this._amplitude.x&&this._willOverscroll("x",e.x)&&(t=0,this._absorbMomentum("x",e.x)),!this._amplitude.y&&this._willOverscroll("y",e.y)&&(i=0,this._absorbMomentum("y",e.y)),this.scrollbar.setMomentum(t,i),this._render()}},t.prototype.transformDelta=function(e,t){if(this._lastEventType=t.type,!this._enabled||!vs.test(t.type))return e;this._isWheelLocked&&/wheel/.test(t.type)&&(this._releaseWheel(),this._willOverscroll("x",e.x)&&(e.x=0),this._willOverscroll("y",e.y)&&(e.y=0));var i=e.x,n=e.y;switch(this._willOverscroll("x",e.x)&&(i=0,this._addAmplitude("x",e.x)),this._willOverscroll("y",e.y)&&(n=0,this._addAmplitude("y",e.y)),t.type){case"touchstart":case"touchmove":this._touching=!0,this._glow.recordTouch(t);break;case"touchcancel":case"touchend":this._touching=!1}return{x:i,y:n}},t.prototype._willOverscroll=function(e,t){if(!t)return!1;if(this._position[e])return!0;var i=this.scrollbar.offset[e],n=this.scrollbar.limit[e];return 0!==n&&(xa(i+t,0,n)===i&&(0===i||i===n))},t.prototype._absorbMomentum=function(e,t){var i=this.options,n=this._lastEventType,r=this._amplitude;vs.test(n)&&(r[e]=xa(t,-i.maxOverscroll,i.maxOverscroll))},t.prototype._addAmplitude=function(e,t){var i=this.options,n=this.scrollbar,r=this._amplitude,o=this._position,a=r[e],s=t*a<0,l=a+t*(1-(s?0:this._wheelScrollBack[e]?1:Math.abs(a/i.maxOverscroll)));r[e]=0===n.offset[e]?xa(l,-i.maxOverscroll,0):xa(l,0,i.maxOverscroll),s&&(o[e]=r[e])},t.prototype._render=function(){var e=this.options,t=this._amplitude,i=this._position;if(this._enabled&&(t.x||t.y||i.x||i.y)){var n=this._nextAmp("x"),r=this._nextAmp("y");switch(t.x=n.amplitude,i.x=n.position,t.y=r.amplitude,i.y=r.position,e.effect){case ds.BOUNCE:this._bounce.render(i);break;case ds.GLOW:this._glow.render(i,this.options.glowColor)}"function"==typeof e.onScroll&&e.onScroll.call(this,$o({},i))}},t.prototype._nextAmp=function(e){var t=this.options,i=this._amplitude,n=this._position,r=1-t.damping,o=i[e],a=n[e],s=this._touching?o:o*r|0,l=s-a,u=a+l-(l*r|0);return!this._touching&&Math.abs(u)<Math.abs(a)&&(this._wheelScrollBack[e]=!0),this._wheelScrollBack[e]&&Math.abs(u)<=1&&(this._wheelScrollBack[e]=!1,this._lockWheel[e]=!0),{amplitude:s,position:u}},t.pluginName="overscroll",t.defaultOptions={effect:ds.BOUNCE,onScroll:void 0,damping:.2,maxOverscroll:150,glowColor:"#87ceeb"},t}(Za);function ys(e){return(ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bs(e,t){return!t||"object"!==ys(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ws(e){return(ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ds(e,t)}function Ds(e,t){return(Ds=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ss(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Es(e,t,i){return t&&Ss(e.prototype,t),i&&Ss(e,i),e}function Cs(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ks=function(){function e(){var t=this;_s(this,e),Cs(this,"onScroll",(function(e){var i=e.offset.y>0?e.offset.y-t.prevY:0;t.speed={value:i,changed:e.changedSpeed||t.prevSpeed!==i},t.scroll={y:e.offset.y,changed:e.changedScroll||e.offset.y!==t.prevY},t.runCallbacks(),t.prevY=e.offset.y,t.prevSpeed=i})),this.instances=[],this.hasListener=!1,this.scroll={y:0,changed:!1},this.speed={value:0,changed:!1},this.prevSpeed=0,this.prevY=0,this.init()}return Es(e,[{key:"runCallbacks",value:function(){var e=this;this.instances.forEach((function(t){return t.onScroll&&t.onScroll({scroll:e.scroll,speed:e.speed})}))}},{key:"add",value:function(e){this.instances.push(e)}},{key:"disableScroll",value:function(){this.instance&&this.instance.updatePluginOptions("scrollEnabler",{paused:!0})}},{key:"enableScroll",value:function(){this.instance&&this.instance.updatePluginOptions("scrollEnabler",{paused:!1})}},{key:"addListener",value:function(){this.instance&&!this.hasListener&&(this.instance.addListener(this.onScroll),this.hasListener=!0)}},{key:"removeListener",value:function(){this.instance&&this.hasListener&&(this.instance.removeListener(this.onScroll),this.hasListener=!1)}},{key:"init",value:function(){this.container=(br.nextContainer||document).querySelector("[data-scroll-container]"),this.container&&(fs.use(Ts,As,ms),this.instance=fs.init(this.container,{plugins:{overscroll:{effect:"glow",glowColor:"#464344"}}}),this.addListener(),this.scroll.y=this.instance.offset.y,this.runCallbacks())}},{key:"resize",value:function(){var e=this;this.instance&&(this.instance.update(),this.scroll={y:this.instance.offset.y,changed:!0},this.speed.changed=!0,setTimeout((function(){return e.runCallbacks()}),50))}},{key:"destroy",value:function(){this.instance&&(this.removeListener(),this.instance.destroy(),this.instance=null),this.instances=[]}}]),e}(),Ts=function(e){function t(){return _s(this,t),bs(this,ws(t).apply(this,arguments))}return xs(t,e),Es(t,[{key:"transformDelta",value:function(e){return this.options.paused?{x:0,y:0}:e}}]),t}(Za);Cs(Ts,"pluginName","scrollEnabler"),Cs(Ts,"defaultOptions",{paused:!1});var As=function(e){function t(){return _s(this,t),bs(this,ws(t).apply(this,arguments))}return xs(t,e),Es(t,[{key:"transformDelta",value:function(e){return{x:e.x,y:xr.device>1?Hr(e.y,-60,60):e.y}}}]),t}(Za);function Ls(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Cs(As,"pluginName","speedLimiter");var Ps=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements=[],this.sections=[],this.shouldCheck=!0,this.init()}var t,i,n;return t=e,(i=[{key:"disableCheck",value:function(){this.shouldCheck=!1}},{key:"enableCheck",value:function(){this.shouldCheck=!0}},{key:"hideAll",value:function(){this.elements.forEach((function(e){return e.el.setAttribute("data-hide","fast")}))}},{key:"showAll",value:function(){var e=this;this.elements.forEach((function(t){for(var i=!0,n=0;n<e.sections.length;n++)t.isEntered[n]&&(i=!1);i&&t.el.removeAttribute("data-hide")}))}},{key:"onScroll",value:function(e){var t=this,i=e.scroll;this.elements.forEach((function(e){return t.watchElement(e,{scroll:i})}))}},{key:"watchElement",value:function(e,t,i,n){var r=t.scroll;if(this.shouldCheck&&r.changed){var o=!1;if(e.isEntered&&e.isEntered.length===this.sections.length||(e.isEntered=new Array(this.sections.length).fill(!1)),this.sections.forEach((function(t,n){!t.ignore&&t.top-r.y<=(e.topOffset||e.offset)&&t.bottom-r.y>=(e.bottomOffset||e.offset)&&(o=!0,i?i(t):e.isEntered[n]||(e.isEntered[n]=!0,e.el.setAttribute("data-hide","")))})),!o)for(var a=0;a<e.isEntered.length;a++)e.isEntered[a]&&(n?n():(e.isEntered[a]=!1,e.el.removeAttribute("data-hide")));return o}}},{key:"init",value:function(){var e=this,t=document.querySelectorAll("[data-switch-element]");(br.nextContainer||document).querySelectorAll('[data-switch="hide"]').forEach((function(t){var i=gr.get("scrollManager"),n=i&&i.scroll?i.scroll.y:0,r=t.getBoundingClientRect();e.sections.push({el:t,top:n+r.top-br.oldContainerHeight,bottom:n+r.top+r.height-br.oldContainerHeight,ignore:t.hasAttribute("data-switch-ignore")})})),t.forEach((function(t){var i=t.getBoundingClientRect();e.elements.push({el:t,top:i.top-br.oldContainerHeight,height:i.height,offset:i.top+i.height/2,isEntered:new Array(e.sections.length).fill(!1)})}))}},{key:"resize",value:function(){this.elements=[],this.sections=[],this.init()}},{key:"destroy",value:function(){this.elements.forEach((function(e){e.el.removeAttribute("data-hide")}))}}])&&Ls(t.prototype,i),n&&Ls(t,n),e}();function Os(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Is=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"identity",value:function(e){return(e=e||new Float32Array(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"setTranslation",value:function(e,t,i){return e!==(i=i||this.identity())&&(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11]),i[12]=t[0],i[13]=t[1],i[14]=t[2],i[15]=1,i}},{key:"frustum",value:function(e,t,i,n,r,o,a){var s=t-e,l=n-i,u=r-o;return(a=a||new Float32Array(16))[0]=2*r/s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*r/l,a[6]=0,a[7]=0,a[8]=(e+t)/s,a[9]=(n+i)/l,a[10]=o/u,a[11]=-1,a[12]=0,a[13]=0,a[14]=r*o/u,a[15]=0,a}},{key:"scale",value:function(e,t,i){i=i||new Float32Array(16);var n=t[0],r=t[1],o=t[2];return i[0]=n*e[0],i[1]=n*e[1],i[2]=n*e[2],i[3]=n*e[3],i[4]=r*e[4],i[5]=r*e[5],i[6]=r*e[6],i[7]=r*e[7],i[8]=o*e[8],i[9]=o*e[9],i[10]=o*e[10],i[11]=o*e[11],e!==i&&(i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i}}])&&Os(t.prototype,i),n&&Os(t,n),e}());function Fs(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ms=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(e){if(e.preventDefault(),!r.isLoadingNext){r.isLoadingNext=!0;var t=e.currentTarget.dataset.url;"about"===mr.get("page")&&br.getActives(),br.activeProject="single-case"===mr.get("page")?zr(br.activeCategory.projects.findIndex((function(e){return e.id===br.activeProject.id}))+1,br.activeCategory.projects):zr(br.activeCategory.projects.findIndex((function(e){return e.id===br.activeProject.id})),br.activeCategory.projects),gr.call("scrollManager","disableScroll"),document.body.classList.add("is-animating"),xr.device>1&&lo.trigger("loadOn"),gr.call("router","goTo",t)}},(i="onClick")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.target=(br.nextContainer||document).querySelector(".js-case-next"),this.measureEl=(br.nextContainer||document).querySelector(".js-case-next-measure"),this.hasChanged=!1,this.isLoadingNext=!1,this.isBlockMoved=!1,this.init()}var t,i,n;return t=e,(i=[{key:"initObserver",value:function(){var e=this;this.image=gr.call("loaderManager","addImage",this.imageEl),this.observer=new IntersectionObserver((function(t){t.forEach((function(t){(t.isIntersecting||t.intersectionRatio>0)&&(gr.call("imageLoader","load",e.image,(function(e){gr.call("imageLoader","onLazyLoad",e),gr.call("scrollGL","onImageLoad",e),gr.call("scrollGL","onImageAppear",e)})),e.observer.unobserve(e.measureEl))}))}),{root:br.nextScrollContainer||document.querySelector("[data-scroll-container]")||document.body,rootMargin:"".concat(3*xr.window.height,"px 0px")}),this.observer.observe(this.measureEl)}},{key:"setup",value:function(){this.measureEl.style.height="".concat(2===xr.device?2.5*xr.window.height:xr.window.height,"px");var e=this.measureEl.getBoundingClientRect(),t=this.imageEl.getBoundingClientRect(),i=gr.get("scrollManager"),n=i&&i.scroll?i.scroll.y:0;this.top=n+e.top-br.oldContainerHeight,this.height=e.height,this.translate=xr.window.height-t.top,Cn.set(this.imageEl,{y:this.translate}),Cn.set(this.percentage,{y:this.translate}),xr.device>=3?(this.nextHead.forEach((function(e){return e.setAttribute("data-hover","scale")})),this.nextImgInner.forEach((function(e){return e.setAttribute("data-hover","scale")})),lo.reinit()):(this.nextHead.forEach((function(e){return e.removeAttribute("data-hover")})),this.nextImgInner.forEach((function(e){return e.removeAttribute("data-hover")})))}},{key:"addClickListeners",value:function(){this.nextTogglers=(br.nextContainer||document).querySelectorAll(".js-case-next-toggler");for(var e=0;e<this.nextTogglers.length;e++)this.nextTogglers[e].addEventListener("click",this.onClick)}},{key:"onScroll",value:function(e){var t=e.scroll;if(this.target&&2===xr.device&&!br.isIos&&!xr.isFakeMobile)if(t.y>=this.top){this.hasEntered||(this.hasEntered=!0);var i=Hr(Math.round((t.y-this.top)/(this.height-xr.window.height)*100)/100,0,1);if(this.progress.innerText="".concat(parseInt(100*i),"%"),Cn.timeline().set(this.percentage,{y:Lr(i,0,1,this.translate,0)}).to(this.icon,{duration:.25,opacity:1-i},0).to(this.lineBar,{duration:.25,scaleX:i},0).to(this.letters,0,{duration:0,opacity:function(e){return 1-i*(.7*e+1)}},0),1===i&&!this.hasChanged){this.hasChanged=!0;var n=this.target.dataset.url;"about"===mr.get("page")&&br.getActives(),br.activeProject="single-case"===mr.get("page")?zr(br.activeCategory.projects.findIndex((function(e){return e.id===br.activeProject.id}))+1,br.activeCategory.projects):zr(br.activeCategory.projects.findIndex((function(e){return e.id===br.activeProject.id})),br.activeCategory.projects),gr.call("scrollManager","disableScroll"),document.body.classList.add("is-animating"),xr.device>1&&lo.trigger("loadOn"),gr.call("router","goTo",n)}}else this.hasEntered&&(this.hasEntered=!1,this.progress.innerText="0%",Cn.timeline().set(this.percentage,{y:this.translate}).to(this.icon,{duration:.25,opacity:1},0).to(this.lineBar,{duration:.25,scaleX:0},0).set(this.letters,{opacity:1},0));if(this.target&&xr.device>=3&&t.y>=this.scrollDelimeter){var r=Math.ceil(Lr(t.y+xr.window.height,this.scrollDelimeter,this.scrollDocHeight,900,0));Cn.set(this.nextImgContainer,{y:r})}}},{key:"resize",value:function(){this.target&&this.measureEl&&(Cn.set(this.imageEl,{y:0}),Cn.set(this.percentage,{clearProps:"all"}),this.setup(),this.scrollDelimeter=this.scrollManager.container.scrollHeight-(1.5*xr.window.height+br.oldContainerHeight),this.scrollDocHeight=this.scrollManager.container.scrollHeight)}},{key:"init",value:function(){this.target&&this.measureEl&&(this.icon=this.target.querySelectorAll(".case-next__head-icon svg"),this.lineBar=this.target.querySelector("[data-line]"),this.nextHead=(br.nextContainer||document).querySelectorAll(".case-next__head"),this.nextImgContainer=(br.nextContainer||document).querySelector(".case-next__img"),this.nextImgInner=(br.nextContainer||document).querySelectorAll(".case-next__img-inner"),this.letters=this.target.querySelectorAll(".case-next__head-text:not(.case-next__head-text-mobile):not(.case-next__head-text-hd) .char"),this.progress=this.target.querySelector("[data-progress]"),this.imageEl=2!==xr.device||br.isIos?this.measureEl.querySelector("[data-next-img]"):this.target.querySelector("[data-next-img]"),this.percentage=this.target.querySelector(".case-next__img-percentage"),this.setup(),this.initObserver(),this.scrollManager=gr.get("scrollManager"),this.scrollDelimeter=this.scrollManager.container.scrollHeight-(1.5*xr.window.height+br.oldContainerHeight),this.scrollDocHeight=this.scrollManager.container.scrollHeight,xr.device>=3&&Cn.set(this.nextImgContainer,{y:300}),(xr.device>=3||br.isIos||xr.isFakeMobile||xr.device<2)&&this.addClickListeners())}},{key:"destroy",value:function(){this.observer.disconnect(),this.hasChanged=!1}}])&&Fs(t.prototype,i),n&&Fs(t,n),e}();function qs(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var js=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.images=[],this.slides=[],this.activeIndex=0,this.isAnimating=!1,this.init()}var t,i,n;return t=e,(i=[{key:"setupDimensions",value:function(){var e=this.titleWrap.querySelector("h1");Cn.set(this.titleWrap,{height:"".concat(e.getBoundingClientRect().height,"px")})}},{key:"setupIndex",value:function(){this.indexNum&&(this.indexNum.textContent=this.slides.length<10?"0".concat(this.activeIndex+1):this.activeIndex+1)}},{key:"goPrev",value:function(){this.isAnimating||(this.activeIndex=0===this.activeIndex?this.slides.length-1:this.activeIndex-1,this.isAnimating=!0,this.onSlideChange())}},{key:"goNext",value:function(){this.isAnimating||(this.activeIndex=this.activeIndex+1===this.slides.length?0:this.activeIndex+1,this.isAnimating=!0,this.onSlideChange())}},{key:"appendItem",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"articles-slider__wrap-el",o=document.createDocumentFragment(),a=document.createElement("div"),s=document.createElement(t);s.innerHTML=e,""!==i&&(s.className=i),a.appendChild(s),a.className=r,Cn.set(a,{opacity:0,position:"absolute",top:0,left:0}),o.appendChild(a),n.appendChild(o)}},{key:"animateTitle",value:function(){var e=gr.get("textSplit"),t=this.titleWrap.querySelectorAll(".articles-slider__wrap-el"),i=t[0].querySelectorAll(".line-child"),n=t[1].querySelector("h1"),r=Cn.timeline();return r.to(i,{duration:.65,y:"-100%",stagger:.125,ease:fi.easeInOut}).set(t[0],{opacity:0,onComplete:function(){e.create(n,{type:"lines",linesClass:"line-parent"}),e.create(n.querySelectorAll(".line-parent"),{type:"lines",linesClass:"line-child"});var i=t[1].querySelectorAll(".line-child");Cn.set(i,{y:"100%"}),Cn.set(t[1],{opacity:1}),Cr(t[0]),Cn.to(i,{duration:.55,y:"0%",stagger:.2})}}),r}},{key:"animateText",value:function(){var e=this.textWrap.querySelectorAll(".articles-slider__wrap-el"),t=Cn.timeline();return t.to(e[0],.6,{y:-50,opacity:0,ease:pi.easeInOut,onComplete:function(){Cn.set(e[1],{y:50,opacity:0})}}).to(e[1],.6,{y:0,opacity:1,ease:pi.easeInOut,onComplete:function(){Cn.set(e[1],{position:"relative",top:"auto",left:"auto"}),Cr(e[0])}}),t}},{key:"animateIndex",value:function(){var e=this.indexWrap.querySelectorAll(".articles-slider__wrap-el");Cn.set(e[1],{y:"100%",skewY:"8deg",opacity:1});var t=Cn.timeline({onComplete:function(){Cn.set(e[1],{position:"relative",top:"auto",left:"auto"}),Cr(e[0])}});return t.to(e[0],.7,{y:"-100%",skewY:"-8deg",ease:pi.easeInOut}).to(e[1],.7,{y:"0%",skewY:"0deg",ease:pi.easeInOut},"-=0.7"),t}},{key:"onSlideChange",value:function(){var e=this,t=this.slides[this.activeIndex],i=t.dataset.title,n=t.dataset.text,r=t.dataset.url;this.appendItem(i,"h1","",this.titleWrap),this.appendItem(n,"p","h5",this.textWrap),this.appendItem(this.activeIndex+1<10?"0".concat(this.activeIndex+1):this.activeIndex+1,"div","",this.indexWrap),this.mainLink.setAttribute("href",r),Cn.timeline({onComplete:function(){e.isAnimating=!1}}).add(this.animateTitle()).add(this.animateText(),"-=0.45").add(this.animateIndex(),"-=0.7")}},{key:"resize",value:function(){this.slides.length&&this.setupDimensions()}},{key:"init",value:function(){this.container&&(this.slider=this.container.querySelector(".js-articles-slider"),this.slides=this.container.querySelectorAll(".js-articles-slider-item"),this.titleWrap=this.container.querySelector(".js-articles-slider-title-wrap"),this.textWrap=this.container.querySelector(".js-articles-slider-text-wrap"),this.mainLink=this.container.querySelector(".js-articles-slider-main-link"),this.indexWrap=this.container.querySelector(".js-articles-slider-index-wrap"),this.indexNum=this.container.querySelector(".js-articles-slider-index"),this.setupDimensions(),this.setupIndex())}}])&&qs(t.prototype,i),n&&qs(t,n),e}();function Rs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bs(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zs(e,t,i){return t&&Bs(e.prototype,t),i&&Bs(e,i),e}function Ns(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Hs=function(){function e(t,i,n,r){var o=this;Rs(this,e),Ns(this,"prev",(function(e){o.isAnimating||(e&&(o.direction=[br.isWin?-1:1,0]),o.goTo(o.activeIndex-1),o.articleSlider&&o.articleSlider.goPrev())})),Ns(this,"next",(function(e){o.isAnimating||(e&&(o.direction=[br.isWin?1:-1,0]),o.goTo(o.activeIndex+1),o.articleSlider&&o.articleSlider.goNext())})),Ns(this,"onDragStart",(function(e){var t=e.type.indexOf("touch")>-1;o.dragStart.x=t?e.touches[0].clientX:e.clientX,o.dragStart.y=t?e.touches[0].clientY:e.clientY,setTimeout((function(){o.dragStart.x===o.dragEnd.x&&o.dragStart.y===o.dragEnd.y||(lo.trigger("dragOn"),o.cursorLayer.classList.add("grabbing"))}),300)})),Ns(this,"onDragEnd",(function(e){var t=e.type.indexOf("touch")>-1;o.dragEnd.x=t?e.touches.length?e.touches[0].clientX:e.changedTouches[0].clientX:e.clientX,o.dragEnd.y=t?e.touches.length?e.touches[0].clientY:e.changedTouches[0].clientY:e.clientY,o.dragDelta.x=o.dragEnd.x-o.dragStart.x,o.dragDelta.y=o.dragEnd.y-o.dragStart.y;var i=o.dragDelta.y<-50?br.isWin?1:-1:o.dragDelta.y>50?br.isWin?-1:1:0;o.dragDelta.x>50?(o.direction=[br.isWin?1:-1,i],o.next()):o.dragDelta.x<-50&&(o.direction=[br.isWin?-1:1,i],o.prev()),xr.device>=2&&setTimeout((function(){lo.trigger("dragOff"),0===o.dragDelta.x&&0===o.dragDelta.y&&lo.trigger("defaultOff"),o.cursorLayer.classList.remove("grabbing")}),400)})),Ns(this,"onKeyUp",(function(e){o.isAnimating||(o.slides.length&&o.slider&&("38"==e.keyCode||"40"==e.keyCode?e.preventDefault():"37"==e.keyCode?o.slider.goPrev():"39"==e.keyCode&&o.slider.goNext()),"27"==e.keyCode&&o.isOpen&&o.close())})),Ns(this,"open",(function(){2!=xr.device||br.isIos||o.isAnimating||o.currentSlide.isLoadedFull&&o.loadAll((function(){o.isOpen=!0,o.parentInstance.isZoomOpen=!0,gr.call("scrollManager","disableScroll");var e=gr.get("scrollManager"),t=e?e.speed.value:0;setTimeout((function(){o.toggleCase(),oo.removeListeners(),oo.animateToggleIn(),o.changeDataColor();var e=document.querySelector(".nav__logo");e&&e.setAttribute("data-hide",""),o.isAnimating=!0,Cn.to([o.openProgress,o.parentInstance.zoomProgress],{v:1,duration:1,onComplete:function(){o.slider?o.slider.open((function(){o.slider.addListeners(),o.cursorLayer.classList.add("is-active"),o.isAnimating=!1})):(o.cursorLayer.classList.add("is-active"),o.isAnimating=!1),oo.toggler.addEventListener("click",o.close),o.addZoomListeners(),o.slides.length>1&&o.changeDataColor()}})}),Lr(Math.abs(t),0,10,100,800))}))})),Ns(this,"close",(function(){o.isAnimating||(o.isAnimating=!0,o.slider&&o.slider.removeListeners(),oo.toggler.removeEventListener("click",o.close),o.removeZoomListeners(),oo.animateToggleOut(),Cn.to([o.openProgress,o.parentInstance.zoomProgress],{v:0,duration:1,onComplete:function(){o.isOpen=!1,o.parentInstance.isZoomOpen=!1,o.toggleCase(),oo.addListeners(),gr.call("scrollManager","enableScroll"),gr.call("hoverSwitch","showAll"),xr.device>=2&&(lo.trigger("defaultOff"),lo.trigger("dragOff"),o.cursorLayer.classList.remove("is-active","grabbing")),o.slider?o.slider.close((function(){return o.isAnimating=!1})):o.isAnimating=!1,o.mainLogo.removeAttribute("data-color"),o.closeLines.forEach((function(e){return e.removeAttribute("data-color")}))}}))})),this.container=t,this.gl=i,this.id=n,this.parentInstance=r,this.images=[],this.slides=[],this.activeIndex=0,this.currentSlide=null,this.nextSlide=null,this.observer=null,this.slider=null,this.direction=br.isWin?[0,-1]:[0,1],this.progress={v:br.isWin?0:1},this.openProgress={v:0},this.dragStart={x:0,y:0},this.dragEnd={x:0,y:0},this.dragDelta={x:0,y:0},this.isOpen=!1,this.isAnimating=!1,this.hasListeners=!1,this.hasZoomListeners=!1,this.init()}return zs(e,[{key:"updateCurrent",value:function(){this.current&&(this.current.innerText=this.activeIndex+1)}},{key:"checkArrows",value:function(){this.prevArrow&&(xr.device<2||br.isIos)&&(this.activeIndex>=this.slides.length-1?this.prevArrow.classList.add("is-active"):this.prevArrow.classList.remove("is-active")),this.nextArrow&&(xr.device<2||br.isIos)&&(this.activeIndex<this.slides.length-1?this.nextArrow.classList.add("is-active"):this.nextArrow.classList.remove("is-active"))}},{key:"goTo",value:function(e){var t=this;if(!this.isAnimating){var i=Br(e,this.slides);if(this.slides[i][this.isOpen?"isLoadedFull":"isLoadedSmall"])if(this.isAnimating=!0,this.activeIndex=i,this.updateCurrent(),this.checkArrows(),this.nextSlide=this.slides[i],this.changeDataColor(),this.slider&&(this.slider.removeActive(),this.slider.assignActive(),this.slider.couldSlide&&this.slider.manageSlideNavigation()),2!=xr.device||br.isIos)Cn.timeline().to(this.currentSlide.image.el,{duration:.6,opacity:0}).to(this.nextSlide.image.el,{duration:.6,opacity:1,onComplete:function(){t.currentSlide=t.nextSlide,t.isAnimating=!1,t.preload()}},0);else Cn.to(this.progress,{duration:.6,v:br.isWin?1:0,onComplete:function(){t.currentSlide=t.nextSlide,t.isAnimating=!1,t.preload(),t.progress.v=br.isWin?0:1}})}}},{key:"changeDataColor",value:function(){if(this.isOpen){var e=this.slides[this.activeIndex];e.image.el&&(2!=xr.device||br.isIos||(this.mainLogo.setAttribute("data-color",e.elementsColor),this.closeLines.forEach((function(t){return t.setAttribute("data-color",e.elementsColor)})),this.slider&&(this.slider.prevButton.setAttribute("data-color",e.elementsColor),this.slider.nextButton.setAttribute("data-color",e.elementsColor))))}}},{key:"toggleCase",value:function(){this.caseTitle&&(this.isOpen?this.caseTitle.setAttribute("data-hide",""):this.caseTitle.removeAttribute("data-hide")),this.caseSide&&(this.isOpen?this.caseSide.setAttribute("data-hide",""):this.caseSide.removeAttribute("data-hide"))}},{key:"preload",value:function(){var e=this,t=Br(this.activeIndex+1,this.slides),i=Br(this.activeIndex-1,this.slides);this.slides[t].isLoadedSmall||this.slides[t].isLoadingSmall||this.load(t,(function(){e.load(t,null,Ar(e.slides[t].image.ratio,xr.window.width,xr.window.height))})),this.slides[i].isLoadedSmall||this.slides[i].isLoadingSmall||this.load(i,(function(){e.load(i,null,Ar(e.slides[i].image.ratio,xr.window.width,xr.window.height))}))}},{key:"load",value:function(e,t,i){var n=this,r=this.slides[e];r&&((i?!r.isLoadedFull&&!r.isLoadingFull:!r.isLoadedSmall&&!r.isLoadingSmall)&&(r[i?"isLoadingFull":"isLoadingSmall"]=!0,gr.call("imageLoader","load",r.image,(function(o){2!=xr.device||br.isIos||(i||(n.slider&&n.slider.slides[e].el.appendChild(o.img),0===e&&gr.call("scrollGL","onImageLoad",o)),Object(Qr.setTextureFromElement)(n.gl,r.texture,o.img,{flipY:!0})),i||gr.call("imageLoader","onLazyLoad",o),r[i?"isLoadingFull":"isLoadingSmall"]=!1,r[i?"isLoadedFull":"isLoadedSmall"]=!0,t&&t()}),i||null)))}},{key:"loadAll",value:function(e){var t=this;this.slides.find((function(e){return!e.isLoadedFull||!e.isLoadedSmall}))?(lo.trigger("loadOn"),this.slides.forEach((function(i,n){t.load(n,(function(){t.load(n,(function(){t.slides.find((function(e){return!e.isLoadedFull||!e.isLoadedSmall}))||(lo.trigger("loadOff"),e())}),Ar(i.image.ratio,xr.window.width,xr.window.height))}))}))):e()}},{key:"addZoomListeners",value:function(){this.hasZoomListeners||(this.slides.length&&this.slider&&(window.addEventListener("mousedown",this.onDragStart),window.addEventListener("touchstart",this.onDragStart),window.addEventListener("mouseup",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd)),window.addEventListener("keyup",this.onKeyUp),this.hasZoomListeners=!0)}},{key:"removeZoomListeners",value:function(){this.hasZoomListeners&&(this.slides.length&&this.slider&&(window.removeEventListener("mousedown",this.onDragStart),window.removeEventListener("touchstart",this.onDragStart),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchend",this.onDragEnd)),window.removeEventListener("keyup",this.onKeyUp),this.hasZoomListeners=!1)}},{key:"addListeners",value:function(){this.hasListeners||(this.prevArrow&&this.prevArrow.addEventListener("click",this.prev),this.nextArrow&&this.nextArrow.addEventListener("click",this.next),this.articleSlider||this.wrapper.addEventListener("click",this.open),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.prevArrow&&this.prevArrow.removeEventListener("click",this.prev),this.nextArrow&&this.nextArrow.removeEventListener("click",this.next),this.wrapper.removeEventListener("click",this.open),this.hasListeners=!1)}},{key:"initObserver",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t.forEach((function(t){(t.isIntersecting||t.intersectionRatio>0)&&(e.load(0,(function(){e.load(0,null,Ar(e.slides[0].image.ratio,xr.window.width,xr.window.height)),e.preload()})),e.observer.unobserve(e.container))}))}),{root:br.nextScrollContainer||document.querySelector("[data-scroll-container]")||document.body,rootMargin:"".concat(xr.window.height,"px 0px")}),this.appearObserver=new IntersectionObserver((function(t){t.forEach((function(t){(t.isIntersecting||t.intersectionRatio>0)&&(e.slides[0].image.hasAppeared=!0,gr.call("scrollGL","onImageAppear",e.slides[0].image),e.appearObserver.unobserve(e.container))}))})),this.observer.observe(this.container),this.appearObserver.observe(this.container)}},{key:"createBlockLayer",value:function(){this.cursorLayer=document.createElement("div"),this.cursorLayer.className="image-zoom-slider__cursor-layer",(br.nextContainer?br.nextContainer:document.querySelector('[data-barba="container"]')).appendChild(this.cursorLayer)}},{key:"toggleInteractive",value:function(){this.container&&(this.containerSlider=this.container.querySelector(".simple-slider"),this.containerSlider&&(xr.device>=3?this.containerSlider.removeAttribute("data-hover"):this.containerSlider.setAttribute("data-hover","scale"),lo.reinit()))}},{key:"init",value:function(){var e=this;if(this.container){this.wrapper=this.container.querySelector("[data-wrapper]");var t=this.container.querySelectorAll("[data-slide]");if(this.wrapper&&t.length){this.mainLogo=document.querySelector(".nav__logo"),this.closeLines=document.querySelectorAll(".nav__toggle-close-inner"),this.caseTitle=(br.nextContainer||document).querySelector(".js-case-title"),this.caseSide=(br.nextContainer||document).querySelector(".js-case-side"),this.prevArrow=this.container.querySelector("[data-prev]"),this.nextArrow=this.container.querySelector("[data-next]"),this.current=this.container.querySelector("[data-current]"),this.container.hasAttribute("data-article")&&(this.articleSlider=new js(this.container)),this.images=gr.call("loaderManager","addImages",t),this.images.forEach((function(t){e.slides.push({image:t,texture:2!=xr.device||br.isIos?null:Object(Qr.createTexture)(e.gl,{width:1,height:1,color:[.902,.871,.808,1]}),isLoadingSmall:!1,isLoadedSmall:!1,isLoadingFull:!1,isLoadedFull:!1,elementsColor:t.el.getAttribute("data-zoom")})})),this.articleSlider||this.createBlockLayer(),!this.articleSlider&&2==xr.device&&!br.isIos&&this.slides.length>1&&(this.slider=new Us(this)),this.toggleInteractive(),this.currentSlide=this.slides[0],this.nextSlide=this.slides[0];var i=this.slides.filter((function(e,t){return t>0})).map((function(e){return e.image.el}));i.length&&Cn.set(i,{opacity:0}),this.initObserver(),this.addListeners()}}}},{key:"resize",value:function(){this.articleSlider&&this.articleSlider.resize(),this.slider&&(this.slider.resize(),this.toggleInteractive())}},{key:"destroy",value:function(){var e=this;this.removeListeners(),this.slides.forEach((function(t){t.texture&&e.gl.deleteTexture(t.texture)})),this.slider&&this.slider.destroy()}}]),e}(),Us=function(){function e(t){var i=this;Rs(this,e),Ns(this,"goPrev",(function(){var e=0==i.parent.activeIndex?i.slides.length-1:i.parent.activeIndex-1;i.parent.direction=[Math.sign(i.parent.activeIndex-e)*(br.isWin?-1:1),0],i.parent.goTo(e),i.goTo()})),Ns(this,"goNext",(function(){var e=i.parent.activeIndex==i.slides.length-1?0:i.parent.activeIndex+1;i.parent.direction=[Math.sign(i.parent.activeIndex-e)*(br.isWin?-1:1),0],i.parent.goTo(e),i.goTo()})),Ns(this,"onMouseMove",(function(e){e.clientY>=xr.window.height-i.hoverZone?i.isOpen||i.open():i.isOpen&&i.close()})),this.parent=t,this.container=null,this.slides=[],this.ratio=xr.window.ratio,this.isOpen=!1,this.hasListeners=!1,this.slideIndex=0,this.init()}return zs(e,[{key:"goTo",value:function(){this.removeActive(),this.assignActive();var e=this.parent.slides[this.parent.activeIndex];e.image.el&&xr.device>1&&!br.isIos&&!xr.isFakeMobile&&(this.parent.mainLogo.setAttribute("data-color",e.elementsColor),this.parent.closeLines.forEach((function(t){return t.setAttribute("data-color",e.elementsColor)})),this.prevButton.setAttribute("data-color",e.elementsColor),this.nextButton.setAttribute("data-color",e.elementsColor)),this.couldSlide&&this.manageSlideNavigation()}},{key:"manageSlideNavigation",value:function(){var e=this.slides[this.parent.activeIndex].left+this.width/2+this.margin/2;Cn.to(this.wrapper,{duration:.4,x:e<this.sliderCenter?0:this.sliderCenter-e})}},{key:"open",value:function(e){this.isOpen=!0,this.container.classList.add("is-hover-active"),this.navigation.classList.add("is-hover-active"),e&&e()}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isOpen=!1,this.container.classList.remove("is-hover-active"),this.navigation.classList.remove("is-hover-active"),e&&e()}},{key:"setSizes",value:function(){var e=this,t=this.width=.15*xr.window.width,i=this.height=t/this.ratio;this.margin=xr.navPadding.desk*xr.window.width,this.totalSlidesW=(t+this.margin)*this.slides.length,this.sliderCenter=xr.window.width/2;var n=this.margin;Cn.set(this.wrapper,{width:"".concat(this.totalSlidesW,"px"),height:i}),this.slides.forEach((function(r){r.left=n,Cn.set(r.el,{width:t,height:i,left:n}),n+=t+e.margin})),this.hoverZone=i+xr.navPadding.desk*xr.window.width*2,this.couldSlide=this.totalSlidesW>xr.window.width}},{key:"assignActive",value:function(){for(var e=0;e<this.slides.length;e++)e==this.parent.activeIndex&&this.slides[e].el.classList.add("is-active")}},{key:"removeActive",value:function(){for(var e=0;e<this.slides.length;e++)this.slides[e].el.classList.remove("is-active")}},{key:"addListeners",value:function(){this.assignActive(),this.hasListeners||(window.addEventListener("mousemove",this.onMouseMove),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.removeActive(),this.hasListeners&&(window.removeEventListener("mousemove",this.onMouseMove),this.hasListeners=!1)}},{key:"createNavigation",value:function(){this.navigation=document.createElement("div"),this.navigation.className="image-zoom-slider__nav",this.prevButton=document.createElement("div"),this.prevButton.className="circle-button js-image-zoom-slider-nav-prev",this.prevButton.dataset.hover="stick",this.nextButton=document.createElement("div"),this.nextButton.className="circle-button js-image-zoom-slider-nav-next",this.nextButton.dataset.hover="stick",this.prevButtonTemplate='\n      <div class="circle-button__icon">\n        <svg xmlns="http://www.w3.org/2000/svg" width="9" height="14" viewBox="0 0 9 14">\n          <path d="M-.244 3.102 4.652 7.987 9.548 3.102 11.052 4.606 4.652 11.006 -1.748 4.606z" transform="matrix(0 -1 -1 0 11.706 11.598)"/>\n        </svg>\n      </div>\n    ',this.nextButtonTemplate='\n      <div class="circle-button__icon">\n        <svg xmlns="http://www.w3.org/2000/svg" width="7" height="12" viewBox="0 0 7 12">\n          <path d="M74.253 17.297 78.333 21.368 82.413 17.297 83.667 18.55 78.333 23.883 73 18.55z" transform="matrix(0 1 1 0 -17.207 -72.477)"/>\n        </svg>    \n      </div>\n    ',this.prevButton.innerHTML=this.prevButtonTemplate,this.nextButton.innerHTML=this.nextButtonTemplate,this.navigation.appendChild(this.prevButton),this.navigation.appendChild(this.nextButton),this.container.appendChild(this.navigation)}},{key:"initNavigationEvents",value:function(){this.prevButton&&this.prevButton.addEventListener("click",this.goPrev),this.nextButton&&this.nextButton.addEventListener("click",this.goNext)}},{key:"init",value:function(){var e=this;if(this.parent&&(br.nextContainer||document).querySelector("main")){this.container=document.createElement("div"),this.container.className="image-zoom-slider";var t="";this.parent.slides.forEach((function(){return t+='<div class="case-image lazy-img image-zoom-slider__item" data-slider-item data-hover="scale"></div>'})),this.container.innerHTML='\n          <div class="image-zoom-slider__wrap-container">\n            <div class="image-zoom-slider__wrapper" data-slider-wrapper>'.concat(t,"</div>\n          </div>\n        "),document.body.appendChild(this.container),this.createNavigation(),this.wrapper=this.container.querySelector("[data-slider-wrapper]");var i=this.container.querySelectorAll("[data-slider-item]");this.initNavigationEvents(),this.wrapper&&i.length&&(i.forEach((function(t){return e.slides.push({el:t})})),this.setSizes(),this.slides.forEach((function(t,i){t.el.addEventListener("click",(function(){i!==e.parent.activeIndex&&(e.parent.direction=[Math.sign(e.parent.activeIndex-i)*(br.isWin?-1:1),0],e.parent.goTo(i),e.goTo(i))}))})))}}},{key:"destroy",value:function(){this.container&&this.container.remove(),this.removeListeners()}},{key:"resize",value:function(){this.ratio=xr.window.ratio,this.setSizes(),this.couldSlide&&this.manageSlideNavigation()}}]),e}();function Ws(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ys(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Vs=function(){function e(t,i,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ys(this,"prev",(function(){if(!r.isMoving&&r.translate.v<-.01)if(0==r.activeIndex){var e=-r.translate.v;r.updateDragSpeed({v:20,duration:2!==xr.device||br.isIos?jr(Math.abs(e/6),xr.window.width):Math.abs(e/2),onComplete:function(){r.updateDragSpeed({v:0,duration:2!==xr.device||br.isIos?jr(Math.abs(e/6),xr.window.width):Math.abs(e/2)})}}),r.updateTranslate({v:2!==xr.device||br.isIos?e:e/2*xr.window.width,duration:2!==xr.device||br.isIos?jr(Math.abs(e/3),xr.window.width):Math.abs(e)})}else{var t=(2!==xr.device||br.isIos?r.initialMargin:Mr({x:r.initialMargin,c:xr.window}).x)-((2!==xr.device||br.isIos?r.slides[r.activeIndex-1].left:r.slides[r.activeIndex-1].glSizes.left)+r.translate.v);r.updateDragSpeed({v:20,duration:2!==xr.device||br.isIos?jr(Math.abs(.2*t),xr.window.width):Math.abs(.33*t),onComplete:function(){r.updateDragSpeed({v:0,duration:2!==xr.device||br.isIos?jr(Math.abs(.2*t),xr.window.width):Math.abs(.33*t)})}}),r.updateTranslate({v:2!==xr.device||br.isIos?t:t/2*xr.window.width,duration:2!==xr.device||br.isIos?jr(Math.abs(.4*t),xr.window.width):Math.abs(.66*t)})}})),Ys(this,"next",(function(){if(!r.isMoving&&r.translate.v>-r.maxTranslate)if(r.activeIndex==r.slides.length-1){var e=-r.maxTranslate-r.translate.v;r.updateDragSpeed({v:-20,duration:2!==xr.device||br.isIos?jr(Math.abs(e/6),xr.window.width):Math.abs(e/2),onComplete:function(){r.updateDragSpeed({v:0,duration:2!==xr.device||br.isIos?jr(Math.abs(e/6),xr.window.width):Math.abs(e/2)})}}),r.updateTranslate({v:2!==xr.device||br.isIos?e:e/2*xr.window.width,duration:2!==xr.device||br.isIos?jr(Math.abs(e/3),xr.window.width):Math.abs(e)})}else{var t=(2!==xr.device||br.isIos?r.initialMargin:Mr({x:r.initialMargin,c:xr.window}).x)-((2!==xr.device||br.isIos?r.slides[r.activeIndex+1].left:r.slides[r.activeIndex+1].glSizes.left)+r.translate.v);r.updateDragSpeed({v:-20,duration:2!==xr.device||br.isIos?jr(Math.abs(.2*t),xr.window.width):Math.abs(.33*t),onComplete:function(){r.updateDragSpeed({v:0,duration:2!==xr.device||br.isIos?jr(Math.abs(.2*t),xr.window.width):Math.abs(.33*t)})}}),r.updateTranslate({v:2!==xr.device||br.isIos?t:t/2*xr.window.width,duration:2!==xr.device||br.isIos?jr(Math.abs(.4*t),xr.window.width):Math.abs(.66*t)})}})),Ys(this,"onWheel",(function(e){if(2==xr.device&&!br.isIos&&Math.abs(e.deltaX)>Math.abs(e.deltaY)){var t=-e.deltaX;e.preventDefault(),2!==xr.device||br.isIos?r.translate.v+=t:r.translate.v+=jr(t,xr.window.width),r.translate.v=Hr(r.translate.v,-r.maxTranslate,0),Cn.set(r.sliderEl,{x:Rr(r.translate.v,xr.window.width)}),r.dragSpeed.v=Hr(t,-20,20),r.getActiveIndex(),r.checkArrows(),r.wheelTimeout&&clearTimeout(r.wheelTimeout),r.wheelTimeout=setTimeout((function(){r.updateDragSpeed({v:0,duration:.4})}),100)}})),Ys(this,"onDragStart",(function(e){r.isDragging=!0,r.previousDragPosition.x=e.type.indexOf("touch")>-1?e[e.touches.length?"touches":"changedTouches"][0].clientX:e.clientX,r.previousDragPosition.y=e.type.indexOf("touch")>-1?e[e.touches.length?"touches":"changedTouches"][0].clientY:e.clientY,r.wrapper.classList.add("is-dragging"),(2===xr.device&&!br.isIos||xr.device>=3)&&(lo.trigger("dragOn"),r.wrapper.classList.add("grabbing"))})),Ys(this,"onDragMove",(function(e){var t=e.type.indexOf("touch")>-1;r.dragDelta.x=(t?e[e.touches.length?"touches":"changedTouches"][0].clientX:e.clientX)-r.previousDragPosition.x,r.dragDelta.y=(t?e[e.touches.length?"touches":"changedTouches"][0].clientY:e.clientY)-r.previousDragPosition.y,Math.abs(r.dragDelta.x)>=Math.abs(r.dragDelta.y)&&(e.preventDefault(),r.isDragging&&(r.previousDragPosition.x=t?e[e.touches.length?"touches":"changedTouches"][0].clientX:e.clientX,r.previousDragPosition.y=t?e[e.touches.length?"touches":"changedTouches"][0].clientY:e.clientY,r.updateDragSpeed({v:1.2*r.dragDelta.x,duration:.4}),r.updateTranslate({v:1.6*r.dragDelta.x,duration:.6})))})),Ys(this,"onDragEnd",(function(){if(r.isDragging){r.isDragging=!1,r.wrapper.classList.remove("is-dragging"),r.updateDragSpeed({v:0,duration:.8});var e=r.dragDelta/30;r.updateTranslate({v:xr.window.width*Hr(e,-1,1),duration:Hr(Math.abs(e),.8,1.5)}),r.dragDelta.x=0,r.dragDelta.y=0,(2===xr.device&&!br.isIos||xr.device>=3)&&(lo.trigger("dragOff"),r.wrapper.classList.remove("grabbing"))}})),this.container=t,this.gl=i,this.id=n,this.images=[],this.slides=[],this.isDragging=!1,this.activeIndex=0,this.previousDragPosition={x:0,y:0},this.dragDelta={x:0,y:0},this.dragSpeed={v:0},this.translate={v:0},this.init()}var t,i,n;return t=e,(i=[{key:"bindSlides",value:function(){var e=this;this.slides.forEach((function(t){t.slider=e}))}},{key:"positionSlides",value:function(){var e=this;this.sideMargin=xr.navPadding[xr.device>1?"desk":"mobile"]*xr.window.width,this.initialMargin=this.isTeam?(xr.device>1?.1:xr.navPadding.mobile)*xr.window.width:this.sideMargin;var t=this.sideMargin;this.slides.forEach((function(i,n){var r=i.image.el.getBoundingClientRect();i.ratio=parseFloat(i.image.el.getAttribute("data-ratio-inv")),i.height=r.height,i.width=r.width,i.left=t,Cn.set(i.image.el,{left:t}),t+=i.width+(n<e.slides.length-1?e.initialMargin:e.sideMargin)})),Cn.set(this.sliderEl,{width:t}),this.sliderWidth=t-this.sideMargin,this.maxTranslate=2!==xr.device||br.isIos?t-xr.window.width:jr(t-xr.window.width,xr.window.width)}},{key:"getGLSizes",value:function(){this.slides.forEach((function(e){e.glSizes={width:jr(e.width,xr.window.width),left:Mr({x:e.left,c:xr.window}).x}}))}},{key:"getActiveIndex",value:function(){var e=this,t=this.maxTranslate,i=this.activeIndex,n=2!==xr.device||br.isIos?this.initialMargin:Mr({x:this.initialMargin,c:xr.window}).x;this.slides.forEach((function(r,o){var a=(2!==xr.device||br.isIos?r.left:r.glSizes.left)+e.translate.v,s=a+(2!==xr.device||br.isIos?r.width:r.glSizes.width),l={left:Math.abs(n-a),right:Math.abs(n-s)},u=Math.min(l.left,l.right);s>n&&u<t&&(t=u,i=o)})),i!==this.activeIndex&&(this.activeIndex=i,this.updateCurrent())}},{key:"updateCurrent",value:function(){var e=this;this.current.length&&this.current.forEach((function(t){t.innerHTML=e.activeIndex+1<10?"0"+(e.activeIndex+1):e.activeIndex+1}))}},{key:"checkArrows",value:function(){this.prevArrow&&(this.prevArrow.classList.toggle("is-disabled",0===this.translate.v),(xr.device<2||br.isIos)&&(this.activeIndex>=this.slides.length-1?this.prevArrow.classList.add("is-active"):this.prevArrow.classList.remove("is-active"))),this.nextArrow&&(this.nextArrow.classList.toggle("is-disabled",this.translate.v===-this.maxTranslate),(xr.device<2||br.isIos)&&(this.activeIndex<this.slides.length-1?this.nextArrow.classList.add("is-active"):this.nextArrow.classList.remove("is-active")))}},{key:"updateDragSpeed",value:function(e){var t=e.v,i=e.duration,n=e.onComplete;Cn.to(this.dragSpeed,{duration:i||.5,v:Hr(t||0,-20,20),onComplete:function(){n&&n()}})}},{key:"updateTranslate",value:function(e){var t=this,i=e.v,n=e.duration,r=e.onStart,o=e.onComplete,a={v:0},s=0;Cn.to(a,{duration:n||.5,v:i||0,onStart:function(){t.isMoving=!0,r&&r()},onUpdate:function(){2!==xr.device||br.isIos?(t.translate.v+=a.v-s,s=a.v):(t.translate.v+=jr(a.v,xr.window.width)-s,s=jr(a.v,xr.window.width)),t.translate.v=Hr(t.translate.v,-t.maxTranslate,0),Cn.set(t.sliderEl,{x:2!==xr.device||br.isIos?t.translate.v:Rr(t.translate.v,xr.window.width)}),t.getActiveIndex(),t.checkArrows()},onComplete:function(){t.isMoving=!1,o&&o()}})}},{key:"addListeners",value:function(){this.hasListeners||(this.prevArrow&&this.prevArrow.addEventListener("click",this.prev),this.nextArrow&&this.nextArrow.addEventListener("click",this.next),this.wrapper.addEventListener("mousedown",this.onDragStart),this.wrapper.addEventListener("touchstart",this.onDragStart,{passive:!1}),this.wrapper.addEventListener("mousemove",this.onDragMove),this.wrapper.addEventListener("touchmove",this.onDragMove,{passive:!1}),this.wrapper.addEventListener("mouseup",this.onDragEnd),this.wrapper.addEventListener("touchend",this.onDragEnd),this.wrapper.addEventListener("mouseleave",this.onDragEnd),this.wrapper.addEventListener("wheel",this.onWheel,{passive:!1}),this.slides.forEach((function(e){e.isTeam&&e.isVideo&&e.video})),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.prevArrow&&this.prevArrow.removeEventListener("click",this.prev),this.nextArrow&&this.nextArrow.removeEventListener("click",this.next),this.wrapper.removeEventListener("mousedown",this.onDragStart),this.wrapper.removeEventListener("touchstart",this.onDragStart,{passive:!1}),this.wrapper.removeEventListener("mousemove",this.onDragMove),this.wrapper.removeEventListener("touchmove",this.onDragMove,{passive:!1}),this.wrapper.removeEventListener("mouseup",this.onDragEnd),this.wrapper.removeEventListener("touchend",this.onDragEnd),this.wrapper.removeEventListener("mouseleave",this.onDragEnd),this.wrapper.removeEventListener("wheel",this.onWheel,{passive:!1}),this.hasListeners=!1)}},{key:"initObserver",value:function(){var e=this;this.loadObserver=new IntersectionObserver((function(t){t.forEach((function(t){(t.isIntersecting||t.intersectionRatio>0)&&(e.slides.forEach((function(e){gr.call("imageLoader","load",e.image,(function(e){gr.call("imageLoader","onLazyLoad",e),2!==xr.device||br.isIos||gr.call("scrollGL","onImageLoad",e)}))})),e.loadObserver.unobserve(e.container))}))}),{root:br.nextScrollContainer||document.querySelector("[data-scroll-container]")||document.body,rootMargin:"".concat(xr.window.height,"px 0px")}),this.loadObserver.observe(this.container),this.appearObserver=new IntersectionObserver((function(t){t.forEach((function(t){(t.isIntersecting||t.intersectionRatio>0)&&(e.slides.forEach((function(e){e.image.hasAppeared=!0,2!==xr.device||br.isIos||gr.call("scrollGL","onImageAppear",e.image)})),e.appearObserver.unobserve(e.container))}))})),this.appearObserver.observe(this.container)}},{key:"init",value:function(){var e=this;if(this.container){this.wrapper=this.container.querySelector("[data-wrapper]");var t=this.container.querySelectorAll("[data-slide]");this.wrapper&&t.length&&(this.sliderEl=this.wrapper.querySelector("div"),this.prevArrow=this.container.querySelector("[data-prev]"),this.nextArrow=this.container.querySelector("[data-next]"),this.current=this.container.querySelectorAll("[data-current]"),this.sliderEl&&(this.images=gr.call("loaderManager","addImages",t),this.images.forEach((function(t){var i=t.el.hasAttribute("data-video"),n=t.el.hasAttribute("data-team");n&&(e.isTeam=!0),e.slides.push({image:t,isTeam:n,isVideo:i,video:i?gr.call("videoLoader","get",t.el):null})})),this.positionSlides(),this.getGLSizes(),this.initObserver(),this.addListeners()))}}},{key:"resize",value:function(){this.container&&(this.positionSlides(),this.getGLSizes())}},{key:"destroy",value:function(){this.loadObserver.disconnect(),this.loadObserver=null,this.appearObserver.disconnect(),this.appearObserver=null}}])&&Ws(t.prototype,i),n&&Ws(t,n),e}();function Xs(e){return(Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gs(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $s=function(){function e(t){var i,n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(){o.gl.useProgram(o.programInfo.program),o.gl.clear(o.gl.COLOR_BUFFER_BIT|o.gl.DEPTH_BUFFER_BIT),Object(Qr.setUniforms)(o.programInfo,{mD:4.5,m:o.matrix,vS:o.verticalSpeed.v,wR:xr.window.width/xr.window.height}),o.getVisiblePlanes(),o.planes.forEach((function(e){e.isVisible&&(Object(Qr.setUniforms)(o.programInfo,{direction:e.element.simpleSlider?e.element.simpleSlider.direction:br.isWin?[0,-1]:[0,1],imageRatio:e.element.simpleSlider?e.element.simpleSlider.currentSlide.image.ratio:e.element.video&&e.element.video.loaded&&e.element.video.hasPlayed?e.element.video.ratio:e.element.image.ratio,ratio:e.ratio,z:e.element.simpleSlider?e.element.simpleSlider.isOpen?e.z+.005*o.zoomProgress.v:e.z:o.isZoomOpen?(1-o.zoomProgress.v)*e.z:e.z,vD:e.distortionFactor,hT:e.element.dragSlider&&e.element.dragSlider.translate?e.element.dragSlider.translate.v:0,hS:e.element.dragSlider&&e.element.dragSlider.dragSpeed?e.element.dragSlider.dragSpeed.v:0,p:e.element.simpleSlider?e.element.isAppearing?e.element.loadedProgress.v:e.element.simpleSlider.progress.v:e.element.loadedProgress.v,zP:e.element.simpleSlider?e.element.simpleSlider.openProgress.v:0,next:e.isNext,vT:e.isNext?e.element.vT:o.translate.y,scale:e.z>.1?.8:1}),e.element.simpleSlider?(o.gl.activeTexture(o.gl.TEXTURE0),o.gl.bindTexture(o.gl.TEXTURE_2D,e.element.isAppearing?o.placeholders[e.element.placeholder]:e.element.simpleSlider.currentSlide.texture),o.gl.activeTexture(o.gl.TEXTURE1),o.gl.bindTexture(o.gl.TEXTURE_2D,e.element.isAppearing?e.element.simpleSlider.currentSlide.texture:e.element.simpleSlider.nextSlide.texture)):(o.gl.activeTexture(o.gl.TEXTURE0),o.gl.bindTexture(o.gl.TEXTURE_2D,o.placeholders[e.element.placeholder]),o.gl.activeTexture(o.gl.TEXTURE1),o.gl.bindTexture(o.gl.TEXTURE_2D,e.element.texture),e.element.video&&e.element.video.loaded&&e.element.video.hasPlayed&&(o.gl.pixelStorei(o.gl.UNPACK_FLIP_Y_WEBGL,!0),o.gl.texImage2D(o.gl.TEXTURE_2D,0,o.gl.RGBA,o.gl.RGBA,o.gl.UNSIGNED_BYTE,e.element.video.el))),Object(Qr.setBuffersAndAttributes)(o.gl,o.programInfo,e.bufferInfo),Object(Qr.drawBufferInfo)(o.gl,e.bufferInfo,o.gl.TRIANGLES))})),o.renderId=requestAnimationFrame(o.render)},(n="render")in(i=this)?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,this.canvas=null,this.gl=null,this.programInfo=null,this.images=t instanceof Array?t.filter((function(e){return e.isWebgl})):[],this.elements=[],this.sliders=[],this.planes=[],this.zoomProgress={v:0},this.translate={x:0,y:0},this.verticalSpeed={v:0},this.matrix=null,this.hasStoppedScrolling=!0,this.isScrolling=!1,this.isReady=!1,this.init()}var t,i,n;return t=e,(i=[{key:"getElements",value:function(){var e=this,t=mr.get("page"),i=!!br.nextContainer;xr.device>1&&this.images.forEach((function(n){e.elements.push({image:n,texture:null,sizes:Ur(n.el,br.oldContainerHeight),loadedProgress:{v:br.isWin?"single-case"===t&&i&&n.isInitial?1:0:"single-case"===t&&i&&n.isInitial?0:1},placeholder:n.el.hasAttribute("data-placeholder")?n.el.getAttribute("data-placeholder"):"page",video:n.el.hasAttribute("data-video")?gr.call("videoLoader","get",n.el):null})})),(br.nextContainer||document).querySelectorAll("[data-slider]").forEach((function(t,i){var n=null;switch(t.getAttribute("data-slider")){case"simple":n=new Hs(t,e.gl,i,e),gr.call("sliderManager","add",n),n.images.length&&e.elements.push({image:n.images[0],texture:null,sizes:Ur(n.images[0].el,br.oldContainerHeight),loadedProgress:{v:br.isWin?0:1},isAppearing:!0,simpleSlider:n,placeholder:n.images[0].el.hasAttribute("data-placeholder")?n.images[0].el.getAttribute("data-placeholder"):"page"});break;case"drag":n=new Vs(t,e.gl,i),gr.call("sliderManager","add",n),n.images.length&&n.images.forEach((function(t){e.elements.push({image:t,texture:null,sizes:Ur(t.el,br.oldContainerHeight),dragSlider:n,loadedProgress:{v:br.isWin?0:1},placeholder:t.el.hasAttribute("data-placeholder")?t.el.getAttribute("data-placeholder"):"page",video:t.el.hasAttribute("data-video")?gr.call("videoLoader","get",t.el):null})}))}})),this.next=new Ms,this.next.image&&this.elements.push({image:this.next.image,texture:null,sizes:Ur(this.next.image.el,this.next.image.el.hasAttribute("data-next-img")?0:br.oldContainerHeight),loadedProgress:{v:br.isWin?0:1},placeholder:this.next.image.el.hasAttribute("data-placeholder")?this.next.image.el.getAttribute("data-placeholder"):"page",vT:0})}},{key:"getSizes",value:function(){this.elements.forEach((function(e){e.sizes=Ur(e.image.el,0,e.image.isNext)}))}},{key:"createTextures",value:function(){var e=this,t=mr.get("page");this.placeholderColors={grey:new Uint8Array([161,162,166,255]),page:new Uint8Array("single-case"===t||"journal"===t||"single-article"===t?[157,152,147,50]:[32,29,30,255]),transparent:new Uint8Array([0,0,0,0])},this.placeholders={grey:Object(Qr.createTexture)(this.gl,{width:1,height:1,src:new Uint8Array([161,162,166,255])}),page:Object(Qr.createTexture)(this.gl,{width:1,height:1,src:new Uint8Array("single-case"===t||"journal"===t||"single-article"===t?[157,152,147,50]:[32,29,30,255])}),transparent:Object(Qr.createTexture)(this.gl,{width:1,height:1,src:new Uint8Array([0,0,0,0])})},this.elements.forEach((function(t){t.texture=Object(Qr.createTexture)(e.gl,{width:1,height:1,src:e.placeholderColors[t.placeholder]})}))}},{key:"setLoadedTextures",value:function(e,t){var i=this;e.forEach((function(e){i.setLoadedTexture(e,t)}))}},{key:"setLoadedTexture",value:function(e,t){var i=this.elements.find((function(t){return t.image.id===e.id}));i&&(i.image=e,Object(Qr.setTextureFromElement)(this.gl,i.texture,e.img,{flipY:!0}),t&&this.appearTransition(i))}},{key:"onImageLoad",value:function(e){if(this.canvas&&this.gl&&e.isWebgl&&(2!==xr.device||br.isIos||(e.el.classList.add("is-hidden"),this.setLoadedTexture(e)),e.hasAppeared)){var t=this.elements.find((function(t){return t.image.id===e.id}));t&&this.appearTransition(t)}}},{key:"onImageAppear",value:function(e){if(e.isLoaded){var t=this.elements.find((function(t){return t.image.id===e.id}));t&&this.appearTransition(t)}}},{key:"appearTransition",value:function(e){Cn.to(e.loadedProgress,{duration:1,v:br.isWin?1:0,onComplete:function(){return e.isAppearing=!1}})}},{key:"updateMatrix",value:function(e){e&&(this.matrix=Is.identity());var t=Is.frustum(-1,1,-1,1,1,10);Is.setTranslation(t,[this.translate.x,this.translate.y,0],this.matrix)}},{key:"createPlanes",value:function(e){var t=this;(e||this.elements).forEach((function(e){for(var i=Fr(e.sizes.width/xr.window.width*2),n=Fr(e.sizes.height/xr.window.height*2),r=Fr(1-e.sizes.top/xr.window.height*2),o=Fr(e.sizes.left/xr.window.width*2-1),a=Fr(r-n),s=Fr(o+i),l=[],u=[],c=[],h=0;h<10;h++)for(var d=h/10,f=r-d*n,p=-2*(d-.5),g=0;g<10;g++){var v=g/10,m=o+v*i,y=2*(v-.5);l.push(m),l.push(f),u.push(v),u.push(1-d),c.push(y),c.push(p),l.push(m+i/10),l.push(f),u.push(v+.1),u.push(1-d),c.push(y+.2),c.push(p),l.push(m),l.push(f-n/10),u.push(v),u.push(1-(d+.1)),c.push(y),c.push(p-.2),l.push(m),l.push(f-n/10),u.push(v),u.push(1-(d+.1)),c.push(y),c.push(p-.2),l.push(m+i/10),l.push(f-n/10),u.push(v+.1),u.push(1-(d+.1)),c.push(y+.2),c.push(p-.2),l.push(m+i/10),l.push(f),u.push(v+.1),u.push(1-d),c.push(y+.2),c.push(p)}t.planes.push({width:i,height:n,ratio:e.sizes.width/e.sizes.height,top:r,right:s,bottom:a,left:o,vertices:l,uvs:u,zoomVertices:c,element:e,z:e.image.el.getAttribute("data-z")?parseFloat(e.image.el.getAttribute("data-z")):0,actualPosition:{top:0,right:0,bottom:0,left:0},xVertices:10,yVertices:10,distortionFactor:e.image.el.hasAttribute("data-flat")?0:1,slider:e.slider,isNext:e.image.el.hasAttribute("data-next-img")})})),this.lastPlane=this.planes[this.planes.length-1]}},{key:"bindPlanesBuffers",value:function(e){var t=this;(e||this.planes).forEach((function(e){var i={position:{numComponents:2,data:e.vertices},uv:{numComponents:2,data:e.uvs},fP:{numComponents:2,data:e.zoomVertices}};e.bufferInfo=Object(Qr.createBufferInfoFromArrays)(t.gl,i)}))}},{key:"resetPlanes",value:function(){var e=this;this.planes.forEach((function(t){if(t.bufferInfo)for(var i in t.bufferInfo.attribs)"object"===Xs(t.bufferInfo.attribs[i])&&e.gl.deleteBuffer(t.bufferInfo.attribs[i].buffer)})),this.planes=[]}},{key:"deleteTextures",value:function(){var e=this;for(var t in this.elements.forEach((function(t){e.gl.deleteTexture(t.texture)})),this.placeholders)this.gl.deleteTexture(this.placeholders[t])}},{key:"getActualPosition",value:function(e){e.actualPosition={top:e.top+this.translate.y,right:e.right+(e.element.dragSlider&&e.element.dragSlider.translate.v||0),bottom:e.bottom+this.translate.y,left:e.left+(e.element.dragSlider&&e.element.dragSlider.translate.v||0)}}},{key:"isVisible",value:function(e){var t=e.actualPosition,i=t.top,n=t.right,r=t.bottom,o=t.left;return(o<=-1.2&&n>=-1.2||o<=1.2&&n>=1.2||o>=-1.2&&n<=1.2)&&(i>=-1.2&&r<=-1.2||i>=1.2&&r<=1.2||i<=1.2&&r>=-1.2)}},{key:"getVisiblePlanes",value:function(){var e=this;this.planes.forEach((function(t){t.isNext||(e.getActualPosition(t),e.isVisible(t)?t.isVisible=!0:t.isVisible=!1)}))}},{key:"killScroll",value:function(){if(this.scrollTween){var e=this.verticalSpeed.v;this.scrollTween.kill(),this.scrollTween=null,this.verticalSpeed.v=e}}},{key:"onScroll",value:function(e){var t=e.scroll,i=e.speed;this.hasStoppedScrolling=!1,this.isScrolling=!0,t.changed&&(this.translate.y=t.y/xr.window.height*2),i.changed&&(this.killScroll(),this.scrollTween=Cn.to(this.verticalSpeed,{duration:1.5,v:Hr(Math.abs(.005*i.value),0,.2),ease:pi.easeOut})),this.updateMatrix(),this.next&&(this.next.onScroll({scroll:t}),this.updateNext({scroll:t})),this.isScrolling=!1}},{key:"updateNext",value:function(e){var t=e.scroll;if(this.lastPlane&&this.lastPlane.isNext)if(t.y>=this.next.top){this.lastPlane.isVisible=!0;var i=Hr((t.y-this.next.top)/(this.next.height-xr.window.height),0,1),n=jr(this.next.translate,xr.window.height);this.lastPlane.element.vT=Lr(i,0,1,0,n)}else this.lastPlane.isVisible=!1}},{key:"onNext",value:function(e){var t=this;if(this.lastPlane.isNext){var i=jr(xr.window.height-xr.window.height*xr.caseImageTop,xr.window.height),n={v:this.lastPlane.element.vT};Cn.to(n,{duration:1,v:i,ease:pi.easeInOut,onUpdate:function(){t.lastPlane.element.vT=n.v},onComplete:function(){e&&e()}})}}},{key:"requestRender",value:function(){this.renderId=requestAnimationFrame(this.render)}},{key:"cancelRender",value:function(){cancelAnimationFrame(this.renderId)}},{key:"resize",value:function(){var e=this;this.gl&&(this.cancelRender(),2!==xr.device||br.isIos?(_r.resetState(),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.elements.forEach((function(e){e.image.isLoaded&&!e.image.el.querySelector("img")&&e.image.el.appendChild(e.image.img),e.image.el.classList.remove("is-hidden")}))):(this.elements.forEach((function(t){t.image.el.classList.add("is-hidden"),t.image.isLoaded&&t.hasAppeared&&(e.setLoadedTexture(t.image),e.appearTransition(t))})),this.next&&this.next.resize(),this.getSizes(),Object(Qr.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.resetPlanes(),this.createPlanes(),this.bindPlanesBuffers(),this.requestRender()))}},{key:"start",value:function(e,t){var i=this;this.canvas&&this.gl&&(_r.setCSS(),e&&e.length&&this.setLoadedTextures(e,!0),this.gl.useProgram(this.programInfo.program),Object(Qr.setUniforms)(this.programInfo,{hD:xr.device<2?xr.device<1?.5:.3:.1}),this.isReady=!0,setTimeout((function(){return i.requestRender()}),t?200:0))}},{key:"init",value:function(){var e=mr.get("page");"home"!==e&&"contact"!==e&&"contact-thanks"!==e&&(2!==xr.device||br.isIos?(this.getElements(),setTimeout((function(){return _r.setCSS()}),xr.device>2||br.isIos?100:0)):(this.canvas=_r.el,this.gl=_r.gl,this.canvas&&this.gl&&this.gl&&(this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this.programInfo=Object(Qr.createProgramInfo)(this.gl,["#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 position;\nattribute vec2 uv;\nattribute vec2 fP;\n\nuniform float vD; // distortion factor\nuniform float vS; // vertical speed\nuniform float hT; // horizontal translate\nuniform float hD; // horizontal distortion factor\nuniform float hS; // horizontal speed\nuniform float z; // z position\nuniform float imageRatio;\nuniform float ratio;\nuniform bool next;\nuniform mat4 m;\n\nuniform float vT; // vertical translate\nuniform float zP; // zoom progress\nuniform float wR; // window ratio\nuniform float mD; // max distance\nuniform float scale;\n\nvarying vec2 v_uv;\n\nvoid main () {\n  vec3 p = vec3(position, z);\n  float d = 1.-length((m*vec4(p,1.)).y);\n\n  p.x += hT;\n  p.x += sin(uv.y * 3.1415) * sin(hS / 90.) * hD;\n  p.z += d / mD * vS * vD;\n\n  float sP = smoothstep(distance(uv, vec2(0.5)) * 0.3, 1., zP);\n\n  vec4 iP = vec4(p.x, p.y, p.z, 1.);\n  vec4 FP = vec4(fP.x, fP.y-vT, p.z, 1.);\n  vec2 aP = (iP.xy + (FP.xy - iP.xy) * sP);\n\n  float r = ratio + (wR - ratio) * sP;\n  gl_Position = m * vec4(aP, p.z, 1.);\n  if (next) {\n    gl_Position = vec4(position.x,position.y+vT,0.,1.);\n  }\n  v_uv = .5+(uv-.5)*vec2(min(r/imageRatio,1.),(min(imageRatio/r,1.)));\n}","#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D texture;\nuniform sampler2D nextTexture;\nuniform float p;\nuniform vec2 direction;\n\nvarying vec2 v_uv;\n\nvoid main () {\n  vec2 center = vec2(0.5,0.5);\n  vec2 v = normalize(direction);\n  v /= abs(v.x)+abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float m = (1.0-step(p, 0.0)) * (1.0 - smoothstep(-.5, 0.0, v.x * v_uv.x + v.y * v_uv.y - (d-0.5+p*(1.+.5))));\n  gl_FragColor = mix(texture2D(texture, v_uv), texture2D(nextTexture,v_uv), m);\n  gl_FragColor.rgb *= gl_FragColor.a;\n}\n"],["position","uv","fP"]),this.gl.useProgram(this.programInfo.program),Object(Qr.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.getElements(),this.createTextures(),this.createPlanes(),this.updateMatrix(!0),Object(Qr.setUniforms)(this.programInfo,{direction:[1,1],texture:this.planes[0]?this.planes[0].texture:null,nextTexture:this.planes[1]?this.planes[1].texture:this.planes[0]?this.planes[0].texture:null}),this.bindPlanesBuffers())))}},{key:"checkPlanes",value:function(){this.planes.forEach(plane)}},{key:"deleteElements",value:function(){var e=[];this.elements.forEach((function(t,i){(t.simpleSlider||t.dragSlider)&&e.push(t)})),this.elements=e}},{key:"deletePlanes",value:function(){var e=this,t=[];this.deletedImagesIds=[],this.planes.forEach((function(i,n){if(i.element.simpleSlider||i.element.dragSlider)t.push(i);else{if(i.bufferInfo)for(var r in i.bufferInfo.attribs)"object"===Xs(i.bufferInfo.attribs[r])&&e.gl.deleteBuffer(i.bufferInfo.attribs[r].buffer);e.gl.deleteTexture(i.element.texture),e.deletedImagesIds.push(i.element.image.id)}})),this.planes=t}},{key:"addElementsFromImages",value:function(e){var t=this,i=this.elements.length;e.forEach((function(e){t.elements.push({image:e,texture:null,sizes:Ur(e.el,0),loadedProgress:{v:br.isWin?1:0},placeholder:e.el.hasAttribute("data-placeholder")?e.el.getAttribute("data-placeholder"):"page"})})),this.createTexturesFromIndex(i),this.createPlanes(this.elements.filter((function(e,t){return t>=i}))),e.forEach((function(e){e.el.classList.add("is-hidden"),e.hasAppeared=!0,t.setLoadedTexture(e)}))}},{key:"createTexturesFromIndex",value:function(e){for(var t=e;t<this.elements.length;t++)this.elements[t].texture=Object(Qr.createTexture)(this.gl,{width:1,height:1,src:this.placeholderColors[this.elements[t].placeholder]})}},{key:"refresh",value:function(e){this.gl&&(this.cancelRender(),this.deletePlanes(),this.deleteElements(),this.addElementsFromImages(e),this.bindPlanesBuffers(),this.requestRender())}},{key:"destroy",value:function(){this.gl&&(this.cancelRender(),this.isReady=!1,this.resetPlanes(),this.deleteTextures(),this.gl.disable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.BLEND),_r.resetState(),this.elements=[],this.planes=[],this.sliders=[],this.programInfo=null,this.canvas=null,this.gl=null)}}])&&Gs(t.prototype,i),n&&Gs(t,n),e}(),Zs={hideAll:function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i)switch(i.dataset.scroll){case"text-col":var n=i.querySelector(".title-hold__side"),r=i.querySelector("[data-scroll-anim-title]"),o=i.querySelector("[data-scroll-anim-text]"),a=n?n.querySelectorAll(".line-child"):[],s=r?r.querySelectorAll(".line-child"):[];a.length>0&&Cn.set(a,{y:100,skewY:"3deg"}),s.length>0?Cn.set(s,{y:100,skewY:"3deg"}):Cn.set(r,{y:30,opacity:0}),o&&Cn.set(o,{opacity:0,skewY:"2deg",y:35});break;case"big-sup":var l=i.querySelector(".overtitle"),u=i.querySelector("[data-scroll-anim-title]"),c=l?l.querySelectorAll(".line-child"):[],h=u.querySelectorAll(".line-child");c.length&&Cn.set(c,{y:100,skewY:"3deg"}),h.length&&Cn.set(h,{y:100,skewY:"5deg"});break;case"image":xr.device>=3&&Cn.set(i,{y:70,opacity:0});break;case"main-drag":var d=i.querySelector(".main-drag-slider__title"),f=i.querySelector(".main-drag-slider__index"),p=i.querySelectorAll(".main-drag-slider__slide"),g=i.querySelector(".main-drag-slider__sub"),v=i.querySelectorAll(".main-drag-slider__nav-button");d&&Cn.set(d,{opacity:0,y:"30px"}),f&&Cn.set(f,{opacity:0,y:"30px"}),p.length&&xr.device>=3&&Cn.set(p,{opacity:0,y:"60px"}),g&&Cn.set(g,{opacity:0,y:"30px"}),v.length&&Cn.set(v,{opacity:0,y:"30px"});break;case"post-card":var m=i.querySelector(".post-card__overtitle"),y=i.querySelector(".post-card__media"),b=i.querySelector(".post-card__title"),w=i.querySelector(".post-card__cta"),x=i.querySelector(".post-card__border");Cn.set([m,y,b,w],{opacity:0,y:30}),Cn.set(x,{scaleX:0});break;default:Cn.set(i,{y:50,opacity:0})}}},reveal:function(e){if(e)switch(e.dataset.scroll){case"text-col":var t=e.querySelector(".title-hold__side"),i=e.querySelector("[data-scroll-anim-title]"),n=e.querySelector("[data-scroll-anim-text]"),r=t?t.querySelectorAll(".line-child"):[],o=i?i.querySelectorAll(".line-child"):[],a=Cn.timeline();o.length>0?a.to(o,{y:0,skewY:"0deg",duration:1.5,ease:pi.easeInOut,stagger:.15}):a.to(i,{y:0,opacity:1,duration:1.5,ease:pi.easeInOut}),n&&a.to(n,{y:0,skewY:"0deg",opacity:1,duration:1,ease:pi.easeInOut},"-=1.1"),a.to(r,{y:0,skewY:"0deg",duration:1.5,ease:pi.easeInOut,stagger:.1},"-=1.2");break;case"big-sup":var s=e.querySelector(".overtitle"),l=e.querySelector("[data-scroll-anim-title]"),u=s?s.querySelectorAll(".line-child"):[],c=l.querySelectorAll(".line-child"),h=Cn.timeline(),d=u.length>0;d&&h.to(u,{y:0,skewY:"0deg",duration:1.5,ease:pi.easeInOut,stagger:.15}),h.to(c,{y:0,skewY:"0deg",ease:pi.easeInOut,duration:1.8,stagger:.15},d?"-=1.2":0);break;case"image":xr.device>=3&&Cn.to(e,{y:0,opacity:1,duration:.8,ease:pi.easeInOut});break;case"post-card":var f=e.querySelector(".post-card__overtitle"),p=e.querySelector(".post-card__media"),g=e.querySelector(".post-card__title"),v=e.querySelector(".post-card__cta"),m=e.querySelector(".post-card__border");Cn.timeline({delay:.6}).to(f,{y:0,opacity:.5,duration:1,ease:pi.easeInOut}).to([p,g,v],{y:0,opacity:1,stagger:.08,duration:1,ease:pi.easeInOut},"-=1").to(m,{scaleX:1,duration:.5,ease:mi.easeInOut},"-=0.6");break;case"main-drag":var y=e.querySelector(".main-drag-slider__title"),b=e.querySelector(".main-drag-slider__index"),w=e.querySelectorAll(".main-drag-slider__slide"),x=e.querySelector(".main-drag-slider__sub"),D=e.querySelectorAll(".main-drag-slider__nav-button"),_=Cn.timeline();b&&_.to(b,{duration:.7,y:0,opacity:1,ease:pi.easeInOut}),y&&_.to(y,{duration:.7,y:0,opacity:1,ease:pi.easeInOut},"-=0.7"),xr.device>=3&&_.to(w,{duration:1,stagger:.15,y:0,opacity:1,ease:pi.easeInOut},"-=0.4"),x&&_.to(x,{duration:.7,y:0,opacity:1,ease:pi.easeInOut},"-=0.7"),D.length&&_.to(D,{duration:.8,y:0,opacity:1,stagger:.1,ease:pi.easeInOut});break;default:Cn.to(e,{y:0,opacity:1,duration:1,delay:Math.random()*(.3-.1)+.1,ease:pi.easeInOut})}}};function Ks(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Js=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scrollElements=document.querySelectorAll("[data-scroll]"),this.scrollObserver=null,this.observerOptions={root:br.nextScrollContainer||document.querySelector("[data-scroll-container]")||document.body,rootMargin:"".concat(xr.window.height/3,"px 0px")},this.init()}var t,i,n;return t=e,(i=[{key:"hide",value:function(){Zs.hideAll(this.scrollElements)}},{key:"initScrollObserver",value:function(){this.scrollObserver=new IntersectionObserver((function(e,t){for(var i=0;i<e.length;i++){var n=e[i];n.intersectionRatio>0&&(Zs.reveal(n.target),t.unobserve(n.target))}}),this.observerOptions);for(var e=0;e<this.scrollElements.length;e++){var t=this.scrollElements[e];this.scrollObserver.observe(t)}}},{key:"destroy",value:function(){this.scrollObserver&&(this.scrollObserver.disconnect(),this.scrollObserver=null)}},{key:"init",value:function(){this.scrollElements.length&&(this.hide(),this.initScrollObserver())}}])&&Ks(t.prototype,i),n&&Ks(t,n),e}();function Qs(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var el=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.checkWebpSupport()}var t,i,n;return t=e,(i=[{key:"checkWebpSupport",value:function(){var e=this,t=new Image;t.addEventListener("load",(function(){return e.hasWebpSupport=!0})),t.addEventListener("error",(function(){return e.hasWebpSupport=!1})),t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"}},{key:"onLazyLoad",value:function(e){(e.isHtml||2!==xr.device||br.isIos)&&e.el&&(e.el.querySelector("img")||e.el.appendChild(e.img));var t=e.el?e.el.querySelector("[data-placeholder]"):null,i=e.el?e.el.querySelector("[data-placeholder-blend]"):null;if(t&&i){var n=1;2!==xr.device||br.isIos||(e.isWebgl||e.isSlide)&&(n=0),Cn.to(t,{duration:n,opacity:0,onComplete:function(){Cn.set(t,{zIndex:-1})}}),xr.device<3&&Cn.to(i,{duration:n,opacity:0,delay:n?.9:0,onComplete:function(){Cn.set(i,{zIndex:-1})}})}}},{key:"load",value:function(e,t,i){var n=e.src.ratio||e.cR,r=i||Ar(n,e.cW,e.cH),o=new Image;o.alt="Parsons Branding",o.addEventListener("load",(function(){return t&&t(Object.assign(e,{img:o,ratio:n,isLoaded:!0},e.loaderId?{loaderId:e.loaderId}:null))})),o.src=e.src[r]}}])&&Qs(t.prototype,i),n&&Qs(t,n),e}();function tl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var il=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.images=t,this.loadObserver=null,this.appearObserver=null,this.init()}var t,i,n;return t=e,(i=[{key:"initObserver",value:function(){var e=this;this.loadObserver=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting||t.intersectionRatio>0){var i=e.images.find((function(e){return e.el.isEqualNode(t.target)}));gr.call("imageLoader","load",i,(function(e){e.isLoaded=!0,gr.call("imageLoader","onLazyLoad",e),gr.call("scrollGL","onImageLoad",e)})),e.loadObserver.unobserve(i.el)}}))}),{root:br.nextScrollContainer||document.querySelector("[data-scroll-container]")||document.body,rootMargin:2!==xr.device||br.isIos?"".concat(xr.window.height/2,"px 0px"):"".concat(xr.window.height,"px 0px")}),this.appearObserver=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting||t.intersectionRatio>0){var i=e.images.find((function(e){return e.el.isEqualNode(t.target)}));i.hasAppeared=!0,gr.call("scrollGL","onImageAppear",i),e.appearObserver.unobserve(i.el)}}))})),this.images.forEach((function(t){e.loadObserver.observe(t.el),e.appearObserver.observe(t.el)}))}},{key:"destroy",value:function(){this.loadObserver.disconnect(),this.loadObserver=null,this.appearObserver.disconnect(),this.appearObserver=null,this.images=[]}},{key:"init",value:function(){this.initObserver()}}])&&tl(t.prototype,i),n&&tl(t,n),e}();function nl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var rl=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(){r.showNextLetter()},(i="render")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.init()}var t,i,n;return t=e,(i=[{key:"activate",value:function(){this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isOpen=!0,this.letterPosition=0,this.letters.forEach((function(e){return e.classList.remove("is-active")})),this.layer.classList.add("is-egg-open"),this.navLogo.classList.add("is-egg-open"),this.navToggle.classList.add("is-egg-open"),this.square.classList.add("is-egg-open"),this.bottomText&&this.bottomText.classList.add("is-egg-open"),this.sequenceInterval=setInterval(this.render,300)}},{key:"deactivate",value:function(){var e=this;this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){e.layer.classList.remove("is-egg-open"),e.navLogo.classList.remove("is-egg-open"),e.navToggle.classList.remove("is-egg-open"),e.square.classList.remove("is-egg-open"),e.bottomText&&e.bottomText.classList.remove("is-egg-open"),e.isOpen=!1,e.letters.forEach((function(e){return e.classList.remove("is-active")})),e.sequenceInterval&&clearInterval(e.sequenceInterval)}),400)}},{key:"showNextLetter",value:function(){var e=this.letters[this.letterPosition];(0===this.letterPosition?this.letters[this.letters.length-1]:this.letters[this.letterPosition-1]).classList.remove("is-active"),e.classList.add("is-active"),this.letterPosition=this.letterPosition===this.letters.length-1?0:this.letterPosition+1}},{key:"reinit",value:function(){this.init()}},{key:"destroy",value:function(){this.deactivate()}},{key:"init",value:function(){var e=document.querySelector(".is-home");null==e||(this.scrollTimeout=null,this.sequenceInterval=null,this.letterPosition=0,this.isOpen=!1,this.layer=document.querySelector(".js-egg-layer"),this.navLogo=document.querySelector(".nav__logo"),this.navToggle=document.querySelector(".nav__toggle"),this.bottomText=document.querySelector(".grid__bottom-text"),this.square=document.querySelector(".grid__bottom-logo"),this.letters=document.querySelectorAll(".egg__letter"))}}])&&nl(t.prototype,i),n&&nl(t,n),e}();function ol(e){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function al(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ll(e,t,i){return t&&sl(e.prototype,t),i&&sl(e,i),e}function ul(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var cl=function(){function e(t){var i=this;al(this,e),ul(this,"onMouseDown",(function(e){i.shouldCheckHover=!1,i.resetHover(),i.updateMouse(e);var t=qr({y:i.sliderTop,c:xr.window}).y,n=qr({y:i.sliderBottom,c:xr.window}).y;(!i.isSlider||e.clientY>t&&e.clientY<n)&&(i.hasClicked=!0,i.previousDragPosition.x=e.clientX,i.previousDragPosition.y=e.clientY,i.hoverInstance&&(i.hoverInstance.isAnimating||i.hoverInstance.isActive||!i.hoverInstance.isHidden)&&(i.hoverInstance.activePlane=null,i.hoverInstance.disappear(!0)),i.killTranslate(),i.isSlider?(i.clickTimeout&&clearTimeout(i.clickTimeout),i.clickTimeout=setTimeout((function(){xr.device>=2&&lo.trigger("dragOn"),i.clickTimeout=null}),250)):(i.setPlanesSaturation(0,.3,!0),i.clickTimeout&&clearTimeout(i.clickTimeout),i.clickTimeout=setTimeout((function(){xr.device>=2&&lo.trigger("gridOn"),i.updateZ(1,{duration:.5,ease:fi.easeOut}),i.clickTimeout=null}),250)))})),ul(this,"onTouchStart",(function(e){i.updateMouse(e);var t=qr({y:i.sliderTop,c:xr.window}).y,n=qr({y:i.sliderBottom,c:xr.window}).y;(!i.isSlider||e.touches[0].clientY>t&&e.touches[0].clientY<n)&&(i.hasClicked=!0,i.previousDragPosition.x=e.touches[0].clientX,i.previousDragPosition.y=e.touches[0].clientY,i.killTranslate(),i.isSlider?i.clickTimeout=setTimeout((function(){i.clickTimeout=null}),300):i.clickTimeout=setTimeout((function(){i.updateZ(1,{duration:.5,ease:fi.easeOut}),i.clickTimeout=null}),300))})),ul(this,"onMouseMove",(function(e){i.updateMouse(e),i.hasClicked?(i.dragCount++,i.isDragging=!0,i.shouldCheckHover=!1,i.onDrag(e),i.hasDragged=!0):(i.isDragging=!1,i.isOnMouseMove=!0,i.isUpdatingZ||i.isMoving||(i.shouldCheckHover=!0,i.checkHover()),i.isSlider||i.isMoving||lo.trigger("gridOff"),i.hoverTimeout&&clearTimeout(i.hoverTimeout),i.hoverTimeout=setTimeout((function(){i.isOnMouseMove=!1}),20))})),ul(this,"onTouchMove",(function(e){e.preventDefault(),i.updateMouse(e),i.hasClicked&&(i.dragCount++,i.onDrag(e),i.hasDragged=!0)})),ul(this,"onMouseUp",(function(e){if(i.updateMouse(e),i.isDragging=!1,xr.device>=2&&lo.trigger(i.isSlider?"dragOff":"gridOff"),i.hasClicked&&(!i.hasDragged||i.dragCount<5)&&i.hasClicked&&i.clickTimeout&&(clearTimeout(i.clickTimeout),i.clickTimeout=null,i.onClick(e)),i.hasClicked=!1,i.initialTranslate.x=i.translate.x,i.initialTranslate.y=i.translate.y,i.hasDragged&&i.dragCount>=5){var t=i.dragSpeed.x,n=i.dragSpeed.y;i.translateGrid({x:.04*t,y:i.isSlider?0:.04*n,duration:1,ease:pi.easeOut}),i.isSlider?(i.dragSpeedTween&&(i.dragSpeedTween.kill(),i.isUpdatingDragSpeed=!1),i.updateDragSpeed({x:0,duration:1,onStart:function(){i.isSliding=!0},onComplete:function(){i.isSliding=!1,xr.device>=2&&lo.trigger("dragOff"),i.isOnMouseMove||i.checkHover()}})):(xr.device>=2&&lo.trigger("gridOff"),setTimeout((function(){xr.device>=2&&lo.trigger("gridOff")}),500))}else i.dragSpeedTween&&(i.dragSpeedTween.kill(),i.dragSpeedTween=null,i.isUpdatingDragSpeed=!1,i.isSliding=!1),i.updateDragSpeed({x:0,y:0,duration:0});i.isSlider||(lo.trigger("gridOff"),setTimeout((function(){lo.trigger("gridOff"),i.updateZ(0,{duration:i.hasDragged?1:.5,ease:pi.easeInOut})}),300)),i.hasDragged=!1,i.dragCount=0})),ul(this,"onTouchEnd",(function(e){if(i.updateMouse(e),i.isDragging=!1,i.hasClicked&&(!i.hasDragged||i.dragCount<3)&&i.clickTimeout&&(i.clickTimeout=clearTimeout(i.clickTimeout),i.onClick(e)),i.hasClicked=!1,i.initialTranslate.x=i.translate.x,i.initialTranslate.y=i.translate.y,i.hasDragged&&i.dragCount>=3){var t=i.dragSpeed.x,n=i.dragSpeed.y;i.translateGrid({x:.2*t,y:i.isSlider?0:.04*n,duration:1,ease:pi.easeOut}),i.isSlider&&(i.dragSpeedTween&&(i.dragSpeedTween.kill(),i.dragSpeedTween=null,i.isUpdatingDragSpeed=!1),i.updateDragSpeed({x:0,duration:1,onStart:function(){i.isSliding=!0},onUpdate:function(){i.isSliding=!0},onComplete:function(){i.isSliding=!1}}))}else i.dragSpeedTween&&(i.dragSpeedTween.kill(),i.dragSpeedTween=null,i.isUpdatingDragSpeed=!1,i.isSliding=!1),i.isSliding=!1,i.updateDragSpeed({x:0,y:0,duration:0});i.isSlider||setTimeout((function(){i.updateZ(0,{duration:i.hasDragged?1:.5,ease:pi.easeInOut})}),300),i.hasDragged=!1,i.dragCount=0})),ul(this,"onWindowLeave",(function(e){if(i.hasDragged){if(i.isDragging=!1,i.hasClicked=!1,i.initialTranslate.x=i.translate.x,i.initialTranslate.y=i.translate.y,xr.device>=2&&lo.trigger(i.isSlider?"dragOff":"gridOff"),i.hasDragged&&i.dragCount>=5){var t=i.dragSpeed.x,n=i.dragSpeed.y;i.translateGrid({x:.04*t,y:i.isSlider?0:.04*n,duration:1,ease:pi.easeOut}),i.isSlider?(i.dragSpeedTween&&(i.dragSpeedTween.kill(),i.isUpdatingDragSpeed=!1),i.updateDragSpeed({x:0,duration:1,onStart:function(){i.isSliding=!0},onComplete:function(){i.isSliding=!1}})):setTimeout((function(){i.updateZ(0,{duration:i.hasDragged?1:.5,ease:pi.easeInOut})}),300)}i.hasDragged=!1,i.dragCount=0}})),ul(this,"onWheel",(function(e){i.updateMouse(e),e.preventDefault(),i.isSlider||(i.hasWheeled||(i.hasWheeled=!0,i.setPlanesSaturation(0,.3,!0)),i.isScrolling||(i.isScrolling=!0,i.updateZ(1,{duration:1-i.z,ease:fi.easeOut}))),i.hoverInstance&&(i.hoverInstance.isAnimating||i.hoverInstance.isActive)&&(i.hoverInstance.activePlane=null,i.hoverInstance.disappear(!0)),i.killTranslate(),i.onDrag(e),i.scrollTimeout&&clearTimeout(i.scrollTimeout),i.scrollTimeout=setTimeout((function(){i.isDragging=!1,i.isScrolling=!1,i.hasWheeled=!1,i.isSlider?i.updateDragSpeed({x:0,duration:.5,onComplete:function(){i.isOnMouseMove||i.checkHover(e)}}):i.updateZ(0,{duration:.5,ease:pi.easeOut,onComplete:function(){i.isOnMouseMove||i.checkHover(e)}})}),50)})),ul(this,"render",(function(){i.gl.useProgram(i.programInfo.program),i.gl.clear(i.gl.COLOR_BUFFER_BIT),Object(Qr.setUniforms)(i.programInfo,{m:i.matrix,hT:i.translate.x,vT:i.translate.y,s:i.scale.v}),i.gl.activeTexture(i.gl.TEXTURE0),i.getPlanesStatus(),i.sliderInstance&&i.sliderInstance.shouldUpdate&&i.sliderInstance.updateProgress(),i.renderPlanes(),i.renderId=requestAnimationFrame(i.render)})),this.canvas=null,this.gl=null,this.matrix=null,this.translateOffsets={x:0,y:0},this.xVertices=10,this.yVertices=10,this.sizes={h:0,vo:0,ho:0,imageRatios:[.67,.92],imageWidths:[],rowWidth:0,gridHeight:0,invertedTranslate:0},this.windowRatio=0,this.mouse={clientX:0,clientY:0,x:0,y:0},this.dragSpeed={x:0,y:0},this.dragCount=0,this.initialTranslate={x:0,y:0},this.previousDragPosition={x:0,y:0},this.translate={x:0,y:0},this.translateTween=null,this.firstCategory=0,this.categories=[],this.totalRows=5,this.totalCols=0,this.rows=[],this.isInverted=!1,this.shouldCheckHover=!0,this.shouldUpdate=!0,this.isDragging=!1,this.hasDragged=!1,this.hasWheeled=!1,this.isMoving=!1,this.isUpdatingZ=!1,this.isReady=!1,this.isLoaded=!1,this.isScrolling=!1,this.scrollTimeout=null,this.z={v:0},this.zDuration=.5,this.isSlider=!0,this.isSliding=!1,this.opacity={v:0},this.scale={v:1},this.saturation={v:1},this.isTickingHover=!1,this.isOnMouseMove=!1,this.hoverTimeout=null,this.onReady=t,this.init()}return ll(e,[{key:"calculateSizes",value:function(){this.windowWidth=xr.window.width,this.windowHeight=xr.window.height,this.windowRatio=xr.window.ratio,this.leftMargin=Mr({x:xr.window.width*xr.navPadding[xr.device>1?"desk":"mobile"],c:xr.window}).x,this.sizes.h=.8,this.sizes.vo=.16*this.sizes.h,this.sizes.ho=Fr(this.sizes.vo/this.windowRatio),this.sizes.imageRatios=[.67,.92],this.sizes.imageWidths=[Fr(this.sizes.imageRatios[0]*this.sizes.h/this.windowRatio),Fr(this.sizes.imageRatios[1]*this.sizes.h/this.windowRatio)],this.sizes.invertedTranslate=this.sizes.imageWidths[0]+this.sizes.ho,this.translateOffsets.x=this.sizes.imageWidths[0]+this.sizes.imageWidths[1]+2*this.sizes.ho,this.translateOffsets.y=this.sizes.h+this.sizes.vo,this.totalCols=2*Math.ceil((2+2*this.translateOffsets.x+this.sizes.invertedTranslate)/this.translateOffsets.x),this.sizes.rowWidth=Fr(Math.floor(this.totalCols/2)*this.sizes.imageWidths[0]+Math.ceil(this.totalCols/2)*this.sizes.imageWidths[1]+(this.totalCols-1)*this.sizes.ho),this.sizes.gridHeight=Fr(this.totalRows*this.sizes.h+(this.totalRows-1)*this.sizes.vo),this.sliderScale=(2-2*(xr.nav.heightHome+xr.footer.heightHome))/this.sizes.h,this.sliderCenter=1-xr.nav.heightHome+(-1+xr.footer.heightHome),this.sliderTop=this.sliderCenter+this.sizes.h*this.sliderScale/2,this.sliderBottom=this.sliderTop-this.sizes.h*this.sliderScale,this.sliderOffsetLeft=xr.window.width*xr.navPadding[xr.window.width>1024?"desk":"mobile"]/xr.window.width*.5,this.maxPlaneHeight=this.sizes.h*this.sliderScale,this.maxPlaneWidth=this.maxPlaneHeight*this.sizes.imageRatios[1]}},{key:"getCategories",value:function(){var e=this,t=[];for(var i in br.categories)t.push(br.categories[i]);this.categories=t,this.totalProjects=0,this.categories.forEach((function(t){t.projects.forEach((function(i){i.categoryIndex=t.index,e.totalProjects++}))})),this.firstCategory=Br(-2,this.categories,!0)}},{key:"createTextures",value:function(){var e=this;this.categories.forEach((function(t){t.projects.forEach((function(t){t.texture=Object(Qr.createTexture)(e.gl,{width:1,height:1,src:new Uint8Array([157,152,147,50])})}))}))}},{key:"setLoadedTextures",value:function(e,t){var i=this;e.forEach((function(e){var n=i.categories[t].projects.find((function(t){return t.id===e.id}));i.setLoadedTexture(n,e)}))}},{key:"setLoadedTexture",value:function(e,t){Object(Qr.setTextureFromElement)(this.gl,e.texture,t.img,{flipY:!0})}},{key:"loadAll",value:function(e){var t=this;this.categories.forEach((function(i){i.projects.forEach((function(n){gr.call("router","prefetch",n.url),gr.call("imageLoader","load",n.image,(function(n){var r=i.projects.find((function(e){return e.id===n.id}));t.setLoadedTexture(r,n),t.loadedProjects++,t.loadedProjects===t.totalProjects&&(t.isLoaded=!0,e&&e())}))}))}))}},{key:"setupRows",value:function(){for(var e=0;e<this.totalRows;e++)this.rows.push(new hl(this,zr(this.firstCategory+e,this.categories,!0),e))}},{key:"resetRows",value:function(){this.rows.forEach((function(e){e.planes.forEach((function(e){e.reset()})),e.planes=[]})),this.rows=[]}},{key:"deleteTextures",value:function(){var e=this;this.categories.forEach((function(t){t.projects.forEach((function(t){e.gl.deleteTexture(t.texture)}))}))}},{key:"setPlanesSaturation",value:function(e,t,i){this.rows.forEach((function(n){n.planes.forEach((function(n){n.saturation.v!==e&&n.updateSaturation(e,t,i)}))}))}},{key:"bindPlanesBuffers",value:function(){var e=this;this.rows.forEach((function(t){t.planes.forEach((function(t){t.bufferInfo=Object(Qr.createBufferInfoFromArrays)(e.gl,{pos:{numComponents:2,data:t.vertices},uv:{numComponents:2,data:t.uvs}})}))}))}},{key:"setInitialPosition",value:function(){this.rows[2].planes[0].getActualPosition();var e=this.rows[2].planes[0].actualPosition.left,t=2*xr.navPadding[xr.window.width>1024?"desk":"mobile"]-1-e-.001;this.translateGrid({x:t,duration:.1})}},{key:"resetHover",value:function(){this.hoverInstance&&(this.hoverInstance.activePlane=null,this.hoverInstance.disappear(!0))}},{key:"isIntersecting",value:function(e,t){var i=e.actualPosition,n=i.top,r=i.right,o=i.bottom;return i.left<=t.x&&r>=t.x&&n>=t.y&&o<=t.y}},{key:"isVisible",value:function(e){var t=e.actualPosition,i=t.top,n=t.right,r=t.bottom,o=t.left;return(o<=-1&&n>=-1||o<=1&&n>=1||o>=-1&&n<=1)&&(i>=-1&&r<=-1||i>=1&&r<=1||i<=1&&r>=-1)}},{key:"checkTranslateOffset",value:function(e,t){return Math.abs(t)>=this.translateOffsets[e]*this.scale.v}},{key:"updateRowsVertically",value:function(e){var t=this;this.isInverted=!this.isInverted,this.rows.forEach((function(i){i.category=zr(i.category.index+e,t.categories,!0),i.updateTextures()})),this.isSlider||this.setPlanesSaturation(0,0,!0)}},{key:"updateRowsHorizontally",value:function(e){this.categories.forEach((function(t){t.firstTexture=Br(t.firstTexture-2*e,t.projects,!0)})),this.rows.forEach((function(e){e.updateTextures()})),this.isSlider||this.setPlanesSaturation(0,0,!0)}},{key:"openSlider",value:function(e){var t=this,i=e.duration,n=e.onStart,r=e.onComplete,o=e.delay;this.isChangingMode=!0,this.setPlanesSaturation(0,.3,!0),this.translateGrid({y:-(this.translate.y-this.sliderCenter),duration:.5,delay:o||0,onStart:function(){n&&n()},onComplete:function(){Cn.timeline({onUpdate:function(){t.updateMatrix()},onComplete:function(){t.isChangingMode=!1,t.isSlider=!0,r&&r()}}).to(t.opacity,{duration:i||.5,v:0}).to(t.saturation,{duration:i||.5,v:1},0).to(t.scale,{duration:i||.5,v:t.sliderScale},0)}})}},{key:"closeSlider",value:function(e){var t=this,i=e.duration,n=e.onStart,r=e.onComplete,o=e.delay;this.isChangingMode=!0,this.isSlider=!1;var a=Cn.timeline({onStart:function(){n&&n()},onUpdate:function(){t.updateTranslate(t.translate.x,t.translate.y),t.updateMatrix()},onComplete:function(){t.isChangingMode=!1,t.initialTranslate.x=t.translate.x,t.initialTranslate.y=t.translate.y,r&&r()},delay:o||0});return a.to(this.opacity,{duration:i||.5,v:.7}).to(this.saturation,{duration:i||.5,v:0},0).to(this.scale,{duration:i||.5,v:1},0),a}},{key:"onDrag",value:function(e){this.isDragging=!0,this.isMoving=!0,this.shouldCheckHover=!1;var t="wheel"===e.type,i=e.type.indexOf("touch")>-1,n=Hr(i?this.previousDragPosition.x-e[e.touches.length?"touches":"changedTouches"][0].clientX:t?.5*e.deltaX:this.previousDragPosition.x-e.clientX,-60,60),r=i?this.previousDragPosition.y-e[e.touches.length?"touches":"changedTouches"][0].clientY:t?.5*e.deltaY:this.previousDragPosition.y-e.clientY,o=Hr(r,-60,60),a=this.isSlider&&t&&Math.abs(o)>Math.abs(n)?this.initialTranslate.x-o/this.windowWidth*2:this.initialTranslate.x-n/this.windowWidth*2,s=this.initialTranslate.y+o/this.windowHeight*2;if(this.updateTranslate(a,this.isSlider?this.sliderCenter:s),this.updateMatrix(),this.initialTranslate.x=this.translate.x,this.initialTranslate.y=this.translate.y,xr.device>=2&&!t&&lo.trigger(this.isSlider?"dragOn":"gridOn"),!this.isSliding){var l=i?e.touches[0].clientX-this.previousDragPosition.x:t?this.isSlider&&Math.abs(o)>Math.abs(n)?-e.deltaY:-e.deltaX:e.clientX-this.previousDragPosition.x,u=Hr(l,-40,40),c=Hr(o,-40,40);this.updateDragSpeed({x:u,y:c,duration:this.isSlider?.2:0});var h=xr.device<=1||br.isIos?110:400,d=xr.device<=1||br.isIos?120:180;t&&(l<-h||l>h||r<-d||r>d)?this.isSlider||this.egg&&!this.egg.isOpen&&this.egg.activate():this.egg&&this.egg.isOpen&&this.egg.deactivate()}this.previousDragPosition.x=i?e.touches[0].clientX:e.clientX,this.previousDragPosition.y=i?e.touches[0].clientY:e.clientY,this.isMoving=!1}},{key:"updateZ",value:function(e,t){var i=this,n={duration:t&&t.duration?t.duration:this.zDuration,ease:t&&t.ease?t.ease:hi.easeOut,onStart:t&&t.onStart?t.onStart:Wr,onComplete:t&&t.onComplete?t.onComplete:Wr};Cn.to(this.z,{duration:n.duration,v:e,ease:n.ease,onStart:function(){i.isUpdatingZ=!0,i.shouldCheckHover=!1,n.onStart()},onUpdate:function(){i.isUpdatingZ=!0,i.shouldCheckHover=!1},onComplete:function(){i.isUpdatingZ=!1,i.shouldCheckHover=!0,xr.device>1&&0===i.z.v&&!i.isOnMouseMove&&i.checkHover(),n.onComplete()}})}},{key:"updateDragSpeed",value:function(e){var t=this,i={x:e&&!isNaN(e.x)?e.x:0,y:e&&!isNaN(e.y)?e.y:0,duration:e&&e.duration?e.duration:this.zDuration,ease:e&&e.ease?e.ease:hi.easeOut,onStart:e&&e.onStart?e.onStart:Wr,onComplete:e&&e.onComplete?e.onComplete:Wr};this.dragSpeedTween=Cn.to(this.dragSpeed,{duration:i.duration,x:i.x,y:i.y,ease:i.ease,onStart:function(){t.shouldCheckHover=!1,t.isUpdatingDragSpeed=!0,i.onStart()},onUpdate:function(){t.shouldCheckHover=!1},onComplete:function(){t.shouldCheckHover=!0,t.isUpdatingDragSpeed=!1,i.onComplete()}})}},{key:"translateGrid",value:function(e){var t=this,i={x:e&&!isNaN(e.x)?e.x:0,y:e&&!isNaN(e.y)?e.y:0,duration:e&&!isNaN(e.duration)?e.duration:1,ease:e&&e.ease?e.ease:hi.easeOut,onStart:e&&e.onStart?e.onStart:Wr,onComplete:e&&e.onComplete?e.onComplete:Wr,delay:e&&!isNaN(e.delay)?e.delay:0,catSlider:!(!e||!e.catSlider)},n={x:0,y:0},r=this.initialTranslate.x,o=this.initialTranslate.y,a=0,s=0,l=!1;this.translateTween=Cn.to(n,{duration:i.duration,x:i.x,y:i.y,ease:i.ease,delay:i.delay,onStart:function(){t.isMoving=!0,t.shouldCheckHover=!1,t.resetHover(),i.onStart()},onUpdate:function(){if(t.isMoving=!0,t.shouldCheckHover=!1,r+=n.x-a,a=n.x,o+=n.y-s,s=n.y,t.checkTranslateOffset("x",r)){var e=Math.sign(r);r-=e*t.translateOffsets.x*t.scale.v,t.updateRowsHorizontally(e)}if(t.checkTranslateOffset("y",o)){var u=Math.sign(o);o-=u*t.translateOffsets.y*t.scale.v,t.updateRowsVertically(u),i.catSlider&&(l=!0)}t.translate.x=r,t.translate.y=o,t.initialTranslate.x=r,t.initialTranslate.y=o,t.updateMatrix()},onComplete:function(){if(i.catSlider&&!l){var e=Math.sign(t.translate.y);t.translate.y=0,t.initialTranslate.y=0,t.updateRowsVertically(e),t.updateMatrix()}t.killTranslate(!0),t.isMoving=!1,t.shouldCheckHover=!0,i.onComplete(l)}})}},{key:"killTranslate",value:function(e){this.translateTween&&(e||this.translateTween.kill(),this.initialTranslate.x=this.translate.x,this.initialTranslate.y=this.translate.y,this.isMoving=!1,this.translateTween=null)}},{key:"centerVertically",value:function(e){var t=e.duration,i=e.ease,n=e.onStart,r=e.onComplete;this.translateGrid({y:-this.translate.y,duration:t||.5,ease:i||hi.easeOut,onStart:function(){n&&n()},onComplete:function(){r&&r()}})}},{key:"centerHorizontally",value:function(e){var t={duration:e&&!isNaN(e.duration)?e.duration:.5,ease:e&&e.ease?e.ease:hi.easeOut,onStart:e&&e.onStart?e.onStart:Wr,onComplete:e&&e.onComplete?e.onComplete:Wr};this.translateGrid({x:-this.translate.x,duration:t.duration,ease:t.ease,onStart:function(){t.onStart()},onComplete:function(){t.onComplete()}})}},{key:"centerGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.duration,i=e.onStart,n=e.onComplete;this.translateGrid({x:-this.translate.x,y:-this.translate.y,duration:t||.5,ease:vi.easeOut,onStart:function(){return i&&i()},onComplete:function(){return n&&n()}})}},{key:"checkHover",value:function(){var e=this;if(this.shouldCheckHover){var t=null;this.rows.forEach((function(i){i.planes.forEach((function(i,n){i.getActualPosition(),e.isIntersecting(i,{x:e.mouse.x,y:e.mouse.y})?(t=i,i.hover.active=!0):i.hover.active=!1}))})),this.hoverInstance&&(t?this.isSlider?2===t.row.index&&(this.hoverInstance.activePlane=t):this.hoverInstance.activePlane=t:this.hoverInstance.activePlane=null,this.isSlider?t?2===t.row.index&&(this.isMoving||this.isDragging||this.isScrolling||this.isUpdatingZ?this.hoverInstance.isHidden||(this.hoverInstance.activePlane=null,this.hoverInstance.disappear(!0)):this.hoverInstance.update()):this.isMoving||this.isDragging||this.isScrolling||this.isUpdatingZ?this.hoverInstance.isHidden||(this.hoverInstance.activePlane=null,this.hoverInstance.disappear(!0)):this.hoverInstance.update():this.isChangingMode||(this.isMoving||this.isDragging||this.isScrolling||this.isUpdatingZ?this.hoverInstance.isHidden||(this.hoverInstance.activePlane=null,this.hoverInstance.disappear(!0)):this.hoverInstance.update())),t&&this.isSlider&&2===t.row.index&&(this.isMoving||this.isDragging||this.isScrolling||this.isUpdatingZ||Er.changeBg(t.project.color,.4))}else this.setPlanesSaturation(0,.3,!0)}},{key:"addListeners",value:function(){this.hasListeners||(this.canvas.addEventListener("mousedown",this.onMouseDown),this.canvas.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.canvas.addEventListener("mouseup",this.onMouseUp),this.canvas.addEventListener("touchend",this.onTouchEnd),window.addEventListener("wheel",this.onWheel,{passive:!1}),document.addEventListener("mouseleave",this.onWindowLeave),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.canvas.removeEventListener("mousedown",this.onMouseDown),this.canvas.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.canvas.removeEventListener("mousemove",this.onMouseMove),this.canvas.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.canvas.removeEventListener("mouseup",this.onMouseUp),this.canvas.removeEventListener("touchend",this.onTouchEnd),window.removeEventListener("wheel",this.onWheel,{passive:!1}),document.removeEventListener("mouseleave",this.onWindowLeave),this.hasListeners=!1)}},{key:"onClick",value:function(e){var t=this;if(!this.isMoving&&!this.isSliding&&!this.isDragging){var i=e.type.indexOf("touch")>-1,n={x:i?e[e.touches.length?"touches":"changedTouches"][0].clientX:e.clientX,y:i?e[e.touches.length?"touches":"changedTouches"][0].clientY:e.clientY,c:xr.window};this.rows.forEach((function(e){e.planes.forEach((function(e){e.getActualPosition(),t.isIntersecting(e,Mr(n))&&(t.isUpdatingZ&&t.updateZ(0),br.activeCategory=br.categories[e.row.category.slug],br.activeProject=br.activeCategory.projects.find((function(t){return t.id===e.project.id})),t.activePlane=e,gr.call("gridManager","resetState"),gr.call("scrollManager","disableScroll"),document.body.classList.add("is-animating"),xr.device>=2&&lo.trigger("loadOn"),gr.call("router","goTo",e.project.url))}))}))}}},{key:"onExit",value:function(e){var t=this;if(this.activePlane){var i=this.activePlane;this.loadNextImage((function(n,r,o){Er.changeBg(i.project.color,.6),t.setLoadedTexture(i.project,n),t.setDestination(i,r,o),t.isChangingPage=!0,i.isActive=!0,Cn.to(t.opacity,{duration:1,v:0}),Cn.to(t.saturation,{duration:1,v:0}),t.setPlanesSaturation(0,1),setTimeout((function(){i.updateProgress((function(){e()}))}),600)}))}}},{key:"loadNextImage",value:function(e){var t=this.activePlane,i=this.sizes.imageRatios["portrait"===t.project.headerRatio?0:1],n=(xr.window.width<=1440?.55:.46)*xr.window.width,r=n/i,o=Ar(t.project.image.ratio,n,r);gr.call("imageLoader","load",t.project.image,(function(t){e(t,n,r)}),o)}},{key:"setDestination",value:function(e,t,i){for(var n=Mr({x:.3*xr.window.width,y:.14*xr.window.height,c:xr.window}),r=n.y,o=n.x,a=jr(t,xr.window.width),s=jr(i,xr.window.height),l=t/i,u=this.xVertices,c=this.yVertices,h=[],d=0;d<c;d++)for(var f=r-d/c*s,p=0;p<u;p++){var g=o+p/u*a;h.push(g),h.push(f),h.push(g+1/u*a),h.push(f),h.push(g),h.push(f-1/c*s),h.push(g),h.push(f-1/c*s),h.push(g+1/u*a),h.push(f-1/c*s),h.push(g+1/u*a),h.push(f)}e.destinationRatio=l,e.destinationBufferInfo=Object(Qr.createBufferInfoFromArrays)(this.gl,{dest:{numComponents:2,data:h}})}},{key:"requestRender",value:function(){this.renderId=requestAnimationFrame(this.render)}},{key:"cancelRender",value:function(){cancelAnimationFrame(this.renderId)}},{key:"getPlanesStatus",value:function(){var e=this;this.rows.forEach((function(t){t.planes.forEach((function(t){t.getActualPosition(),t.isVisible=e.isVisible(t),xr.device>1?t.hover.active=!(e.isPrevented||e.isMoving||e.isUpdatingZ||e.isDragging||e.isSliding)&&e.isIntersecting(t,{x:e.mouse.x,y:e.mouse.y}):t.hover.active=!1}))}))}},{key:"updateTranslate",value:function(e,t){if(!isNaN(e)){if(this.checkTranslateOffset("x",e)){var i=Math.sign(e);e-=i*this.translateOffsets.x*this.scale.v,this.initialTranslate.x=e,this.updateRowsHorizontally(i)}this.translate.x=e}if(!isNaN(t)){if(this.checkTranslateOffset("y",t)){var n=Math.sign(t);t-=n*this.translateOffsets.y*this.scale.v,this.initialTranslate.y=t,this.updateRowsVertically(n)}this.translate.y=t}}},{key:"updateMatrix",value:function(){var e=Is.frustum(-1,1,-1,1,1,10);Is.setTranslation(e,[this.translate.x,this.translate.y,0],e),Is.scale(e,[this.scale.v,this.scale.v,1],this.matrix)}},{key:"updateMouse",value:function(e){var t=e.type.indexOf("touch")>-1;this.mouse.clientX=t?e.touches.length?e.touches[0].clientX:e.changedTouches[0].clientX:e.clientX,this.mouse.clientY=t?e.touches.length?e.touches[0].clientY:e.changedTouches[0].clientY:e.clientY;var i=Mr({x:this.mouse.clientX,y:this.mouse.clientY,c:xr.window});this.mouse.x=i.x,this.mouse.y=i.y}},{key:"checkActive",value:function(e){if(xr.device<2&&!(this.isMoving||this.isSliding||this.isUpdatingZ||this.isDragging)){var t=e.actualPosition,i=t.right,n=t.left;t.center;return!!this.isSlider&&(2===e.row.index&&Math.min(Math.abs(n),Math.abs(i)))}return!1}},{key:"renderPlanes",value:function(){var e=this,t=100,i=null;this.rows.forEach((function(n,r){Object(Qr.setUniforms)(e.programInfo,{t:(e.isInverted?n.index%2:1-n.index%2)*e.sizes.invertedTranslate,dS:e.isSlider?e.dragSpeed.x:0,zP:e.z.v}),n.planes.forEach((function(r,o){if(r.isVisible){e.gl.bindTexture(e.gl.TEXTURE_2D,r.project.texture);var a=e.checkActive(r);!1!==a&&(i=a<t?r:i,t=a<t?a:t),e.isSlider||e.isChangingMode||(e.isDragging||e.isUpdatingZ||e.isSliding||e.isMoving?r.updateSaturation(0,.3,!0):r.hover.active?(r.hover.hasExited=!1,r.hover.hasEntered||(r.hover.hasEntered=!0,r.updateSaturation(1,.3))):(r.hover.hasEntered=!1,r.hover.hasExited||(r.hover.hasExited=!0,r.updateSaturation(0,.3))));var s=r.saturation.v,l=.7;e.isChangingPage?(s=e.isSlider?r.isActive?1:2===n.index?e.saturation.v:r.saturation.v:r.isActive?1:r.saturation.v,l=r.isActive?.7:e.opacity.v):e.isChangingMode?(s=2===n.index?e.saturation.v:r.saturation.v,l=2===n.index?.7:e.opacity.v):e.isSlider?(s=2===n.index?e.saturation.v:1-e.saturation.v,l=2===n.index?.7:e.opacity.v):e.isNav&&(s=0,l=.7);var u=e.sizes.imageRatios[Nr(r.rowIndex)?0:1];Object(Qr.setUniforms)(e.programInfo,{r:u,dR:r.isActive?r.destinationRatio:u,iR:r.imageRatio,sP:s,o:l,cP:r.isActive?r.progress.v:0,z:r.isActive?"0.0001":0}),Object(Qr.setBuffersAndAttributes)(e.gl,e.programInfo,r.bufferInfo),r.destinationBufferInfo&&Object(Qr.setBuffersAndAttributes)(e.gl,e.programInfo,r.destinationBufferInfo),Object(Qr.drawBufferInfo)(e.gl,r.bufferInfo,e.gl.TRIANGLES)}}))})),i&&this.isSlider?(this.activePlaneId!==i.project.id&&gr.call("gridManager","toggleName",i),this.activePlaneId=i.project.id,this.hadActivePlane=!0):this.isSlider||(this.hadActivePlane&&gr.call("gridManager","disappearName"),this.activePlaneId=null,this.hadActivePlane=!1)}},{key:"resize",value:function(){"home"===mr.get("page")&&(this.cancelRender(),this.calculateSizes(),Object(Qr.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.resetRows(),this.setupRows(),this.bindPlanesBuffers(),Object(Qr.setUniforms)({dF:xr.device>0?.05:.25}),this.requestRender())}},{key:"destroy",value:function(){this.gl&&this.canvas&&(this.removeListeners(),this.cancelRender(),this.resetRows(),this.deleteTextures(),this.gl.disable(this.gl.DEPTH_TEST),_r.resetState(),this.programInfo=null,this.gl=null,this.canvas=null,this.egg&&(this.egg.destroy(),this.egg=null))}},{key:"start",value:function(e){Object(Qr.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),_r.setCSS(),this.gl.useProgram(this.programInfo.program),this.setLoadedTextures(e,0),this.loadedProjects=this.categories[0].projects.length,this.isReady=!0,this.requestRender(),this.onReady&&this.onReady()}},{key:"init",value:function(){"home"===mr.get("page")&&(this.canvas=_r.el,this.gl=_r.gl,this.canvas&&this.gl&&(this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.DEPTH_TEST),this.programInfo=Object(Qr.createProgramInfo)(this.gl,["#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform mat4 m; // transform matrix\nuniform float t; // translate righe sfasate\nuniform float zP; // z displacement progress\nuniform float z; // initial z\nuniform float dS; // drag speed\nuniform float dF; // distortion factor\nuniform float cP; // change page progress\nuniform float hT; // horizontal translate\nuniform float vT; // vertical translate\nuniform float s; // scale\nuniform float iR; // image ratio\nuniform float r; // current plane ratio\nuniform float dR; // destination plane ratio\n\nattribute vec2 pos;\nattribute vec2 uv;\nattribute vec2 dest;\n\nvarying vec2 v_p;\n\nvoid main () {\n  vec3 p = vec3(pos, z);\n\n  p.x -= t;\n  p.x += sin(uv.y * 3.1415) * sin(dS / 90.) * dF;\n  p.z += length(m * vec4(p,1.)) / 12. * zP;\n\n  float sP = smoothstep(distance(uv,vec2(0.5)) * 0.1,1.,cP);\n  \n  vec2 iP = p.xy;\n  vec2 fP = vec2((dest.x-hT)/s,(dest.y-vT)/s);\n  vec2 aP = iP + (fP - iP) * sP;\n\n  float aR = r + (dR - r) * sP;\n  gl_Position = m*vec4(aP,p.z,1.);\n  v_p = .5+(uv-.5)*vec2(min(aR/iR,1.),min(iR/aR,1.));\n}","#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D tex;\nuniform float sP; // saturation progress\nuniform float o; // opacity\n\nvarying vec2 v_p;\n\nconst vec3 g = vec3(0.2125, 0.7154, 0.0721);\nvec3 saturate (vec3 c, float p) {\n  return mix(vec3(dot(c, g)), c, p);\n}\n\nvoid main () {\n  vec4 color = texture2D(tex, v_p);\n  gl_FragColor = vec4(saturate(color.rgb, sP),(o+((1.-o)*sP)));\n  gl_FragColor.rgb *= gl_FragColor.a;\n}"]),Object(Qr.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.useProgram(this.programInfo.program),this.calculateSizes(),this.getCategories(),this.createTextures(),this.setupRows(),this.matrix=Is.identity(),Object(Qr.setUniforms)(this.programInfo,{z:0,dS:0,m:this.matrix,tex:this.rows[0].planes[0].texture,dF:xr.device>0?.05:.25}),this.bindPlanesBuffers(),this.scale.v=this.sliderScale,this.opacity.v=0,this.saturation.v=1,this.updateTranslate(0,this.sliderCenter),this.initialTranslate.y=this.sliderCenter,this.updateMatrix(),this.setInitialPosition(),this.egg=new rl,window.grid=this))}}]),e}(),hl=function(){function e(t,i,n){al(this,e),this.grid=t,this.category=i,this.index=n,this.planes=[],this.init()}return ll(e,[{key:"setupPlanes",value:function(){for(var e=0;e<this.grid.totalCols;e++){var t=e+this.index*this.grid.totalCols;this.planes.push(new dl(this.grid,this,t,e))}}},{key:"getVertices",value:function(){for(var e=this.grid.sizes,t=e.h,i=e.vo,n=e.ho,r=e.imageWidths,o=e.imageRatios,a=e.gridHeight,s=e.rowWidth,l=e.invertedTranslate,u=this.grid,c=u.xVertices,h=u.yVertices,d=u.totalCols,f=-Fr(-a/2+this.index*(t+i)),p=t,g=0;g<d;g++){for(var v=[],m=[],y=Nr(g)?0:1,b=Fr(Math.ceil(g/2)*r[0]+Math.floor(g/2)*r[1]),w=Fr(g*n),x=Fr(-s/2+(b+w)+l/2),D=r[y],_=o[y],S=0;S<h;S++)for(var E=S/h,C=f-E*p,k=0;k<c;k++){var T=k/c,A=x+T*D;v.push(A),v.push(C),m.push(T),m.push(1-E),v.push(A+D/c),v.push(C),m.push(T+1/c),m.push(1-E),v.push(A),v.push(C-p/h),m.push(T),m.push(1-(E+1/h)),v.push(A),v.push(C-p/h),m.push(T),m.push(1-(E+1/h)),v.push(A+D/c),v.push(C-p/h),m.push(T+1/c),m.push(1-(E+1/h)),v.push(A+D/c),v.push(C),m.push(T+1/c),m.push(1-E)}this.planes[g].set({width:D,height:p,ratio:_,top:f,right:x+D,bottom:f-p,left:x,vertices:v,uvs:m})}}},{key:"updateTextures",value:function(){var e=this;this.planes.forEach((function(t,i){var n=(e.category.firstTexture+i)%e.category.projects.length;t.updateTexture(e.category.projects[n])}))}},{key:"init",value:function(){this.setupPlanes(),this.getVertices(),this.updateTextures()}}]),e}(),dl=function(){function e(t,i,n,r){al(this,e),this.width=0,this.height=0,this.top=0,this.left=0,this.ratio=0,this.imageRatio=0,this.vertices=[],this.uvs=[],this.bufferInfo=null,this.texture=null,this.grid=t,this.row=i,this.project=null,this.index=n,this.rowIndex=r,this.hover={active:!1,hasEntered:!1,hasExited:!1},this.saturation={v:0},this.progress={v:0},this.saturationTween=null,this.actualPosition={top:0,right:0,bottom:0,left:0},this.isActive=!1,this.isAnimating=!1}return ll(e,[{key:"set",value:function(e){for(var t in e)this[t]=e[t]}},{key:"updateTexture",value:function(e){this.project=e,this.texture=e.texture,this.imageRatio=e.image.url.ratio}},{key:"updateSaturation",value:function(e,t,i){var n=this;Cn.to(this.saturation,{duration:isNaN(t)?0:t,v:isNaN(e)?0:e,onStart:function(){n.isAnimating=!0,i&&(n.hover={active:!1,hasEntered:!1,hasExited:!1})},onComplete:function(){n.isAnimating=!1}})}},{key:"updateProgress",value:function(e){Cn.to(this.progress,{duration:1,v:1,onComplete:function(){return e&&e()}})}},{key:"getActualPosition",value:function(){var e=(this.grid.isInverted?this.row.index%2:1-this.row.index%2)*this.grid.sizes.invertedTranslate,t=this.top*this.grid.scale.v+this.grid.translate.y,i=(this.right-e)*this.grid.scale.v+this.grid.translate.x,n=this.bottom*this.grid.scale.v+this.grid.translate.y,r=(this.left-e)*this.grid.scale.v+this.grid.translate.x;this.actualPosition={top:t,right:i,bottom:n,left:r,center:[(r+i)/2,(t+n)/2]}}},{key:"reset",value:function(){if(this.bufferInfo)for(var e in this.bufferInfo.attribs)"object"===ol(this.bufferInfo.attribs[e])&&this.grid.gl.deleteBuffer(this.bufferInfo.attribs[e].buffer)}}]),e}();function fl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pl(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var gl=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pl(this,"prev",(function(){var e=i.getClosestPlane(),t=e.plane,n=e.index,r=Fr(i.margin-t.actualPosition.left,4),o=r>0?r:i.margin-i.grid.rows[2].planes[n-1].actualPosition.left;i.grid.translateGrid({x:o,duration:Hr(Math.abs(o),.5,1)}),i.grid.updateDragSpeed({x:20,duration:Hr(Math.abs(o),.5,1)/2,onComplete:function(){i.grid.updateDragSpeed({x:0,duration:Hr(Math.abs(o),.5,1)/2})}})})),pl(this,"next",(function(){var e=i.getClosestPlane(),t=e.plane,n=e.index,r=Fr(i.margin-t.actualPosition.left,4),o=r<0?r:i.margin-i.grid.rows[2].planes[n+1].actualPosition.left;i.grid.translateGrid({x:o,duration:Hr(Math.abs(o),.5,1)}),i.grid.updateDragSpeed({x:-20,duration:Hr(o,.5,1)/2,onComplete:function(){i.grid.updateDragSpeed({x:0,duration:Hr(o,.5,1)/2})}})})),this.grid=t,this.visiblePlanes=[],this.progressContainer=null,this.progress=null,this.currentContainer=null,this.current=null,this.prevArrow=null,this.nextArrow=null,this.gridOpener=null,this.filterLabel=null,this.activeIndex=0,this.total=0,this.shouldUpdate=!1,this.init()}var t,i,n;return t=e,(i=[{key:"setup",value:function(){this.margin=Mr({x:xr.window.width*xr.navPadding[xr.device>1?"desk":"mobile"],c:xr.window}).x,this.total=this.grid.rows[2].category.projects.length,this.setProgress(0)}},{key:"setProgress",value:function(e){}},{key:"updateProgress",value:function(){for(var e=0;e<this.grid.rows[2].planes.length;e++){var t=this.grid.rows[2].planes[e];if(t.project.index+1===this.total&&t.actualPosition.right+this.grid.sizes.ho*this.grid.scale.v>this.margin){var i=t.width===this.grid.sizes.imageWidths[0]?0:1;Math.ceil(this.total/2),this.grid.sizes.imageWidths[i],this.grid.scale.v,Math.floor(this.total/2),this.grid.sizes.imageWidths[1-i],this.grid.scale.v,this.total,this.grid.sizes.ho,this.grid.scale.v,e=this.grid.rows[2].planes.length,t.actualPosition.right,this.grid.sizes.ho,this.grid.scale.v,this.margin}}}},{key:"getClosestPlane",value:function(){var e=this,t=null,i=0;return this.grid.rows[2].planes.forEach((function(n,r){var o=Math.abs(e.margin-n.actualPosition.left);(null===t||o<t)&&(t=o,i=r)})),{plane:this.grid.rows[2].planes[i],index:i}}},{key:"updateCurrent",value:function(){this.current.innerHTML=this.grid.rows[2].category.name}},{key:"getVisiblePlanes",value:function(){var e=this,t=[];this.grid.rows[2].planes.forEach((function(i){i.getActualPosition(),e.grid.isVisible(i)&&t.push(i)})),this.visiblePlanes=t}},{key:"enterElements",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.duration,n=t.onStart,r=t.onComplete,o=t.delay,a=Cn.timeline({onStart:function(){n&&n()},onComplete:function(){r&&r()},delay:o||0});return a.to(this.progressContainer,{duration:i||.35,scaleX:1,ease:pi.easeInOut,onStart:function(){Cn.set(e.progressContainer,{display:"block"})}}).to(this.filterLabel,{duration:i||.5,opacity:1,onStart:function(){Cn.set(e.filterLabel,{display:"block"})}},0).to(this.currentContainer,{duration:i||.5,opacity:1,onStart:function(){Cn.set(e.currentContainer,{display:"flex"})}},0).to(this.gridOpener,{duration:i||.5,opacity:1,onStart:function(){Cn.set(e.gridOpener,{display:"flex"})}},0).to(this.prevArrow,{duration:i||.5,opacity:1,onStart:function(){Cn.set(e.prevArrow,{display:"block"})}},0).to(this.nextArrow,{duration:i||.5,opacity:1,onStart:function(){Cn.set(e.nextArrow,{display:"block"})}},0),a}},{key:"exitElements",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.duration,n=t.onStart,r=t.onComplete,o=t.delay,a=Cn.timeline({onStart:function(){n&&n()},onComplete:function(){r&&r()},delay:o||0});return a.to(this.progressContainer,{duration:i||.35,scaleX:0,ease:mi.easeInOut,onStart:function(){Cn.set(e.progressContainer,{transformOrigin:"right center"})},onComplete:function(){Cn.set(e.progressContainer,{display:"none",transformOrigin:"left center"})}},"-=0.3").to(this.filterLabel,{duration:i||.5,opacity:0,onComplete:function(){Cn.set(e.filterLabel,{display:"none"})}},0).to(this.currentContainer,{duration:i||.5,opacity:0,onComplete:function(){Cn.set(e.currentContainer,{display:"none"})}},0).to(this.gridOpener,{duration:i||.5,opacity:0,onComplete:function(){Cn.set(e.gridOpener,{display:"none"})}},0).to(this.prevArrow,{duration:i||.5,opacity:0,onComplete:function(){Cn.set(e.prevArrow,{display:"none"})}},0).to(this.nextArrow,{duration:i||.5,opacity:0,onComplete:function(){Cn.set(e.nextArrow,{display:"none"})}},0),a}},{key:"addListeners",value:function(){this.hasListeners||(this.prevArrow.addEventListener("click",this.prev),this.nextArrow.addEventListener("click",this.next),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.prevArrow.removeEventListener("click",this.prev),this.nextArrow.removeEventListener("click",this.next),this.hasListeners=!1)}},{key:"init",value:function(){this.progressContainer=(br.nextContainer||document).querySelector(".js-categories-progress-container"),this.progress=(br.nextContainer||document).querySelector(".js-categories-progress"),this.currentContainer=(br.nextContainer||document).querySelector(".js-categories-current-container"),this.current=(br.nextContainer||document).querySelector(".js-categories-current"),this.prevArrow=(br.nextContainer||document).querySelector(".js-categories-prev"),this.nextArrow=(br.nextContainer||document).querySelector(".js-categories-next"),this.gridOpener=(br.nextContainer||document).querySelector(".js-categories-grid-open"),this.filterLabel=(br.nextContainer||document).querySelector(".js-categories-filter-label"),this.progressContainer&&this.progress&&this.currentContainer&&this.current&&this.gridOpener&&this.prevArrow&&this.nextArrow&&this.filterLabel&&(this.setup(),this.updateCurrent(),this.getVisiblePlanes(),this.addListeners(),this.grid.sliderInstance=this)}},{key:"destroy",value:function(){this.removeListeners()}}])&&fl(t.prototype,i),n&&fl(t,n),e}();function vl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ml(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var yl=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ml(this,"onMouseDown",(function(e){i.onDragStart(e)})),ml(this,"onTouchStart",(function(e){i.onDragStart(e)})),ml(this,"onMouseMove",(function(e){i.isDragging&&i.onDragMove(e)})),ml(this,"onTouchMove",(function(e){e.preventDefault(),i.onDragMove(e)})),ml(this,"onMouseUp",(function(e){i.onDragEnd(e)})),ml(this,"onTouchEnd",(function(e){i.onDragEnd(e)})),ml(this,"onWheel",(function(e){e.preventDefault(),i.isAnimating||i.isDragging||(e.deltaY<-15?i.activeIndex>0&&(i.isAnimating=!0,i.goPrev({onComplete:function(){setTimeout((function(){i.isAnimating=!1}),200)}})):e.deltaY>15&&i.activeIndex<i.items.length-1&&(i.isAnimating=!0,i.goNext({onComplete:function(){setTimeout((function(){i.isAnimating=!1}),200)}})))})),ml(this,"onKeyUp",(function(e){if(!i.isAnimating&&!i.isDragging)switch(e.keyCode){case 13:case 27:gr.call("gridManager","navToSlider");break;case 38:i.activeIndex>0&&(i.isAnimating=!0,i.goPrev({onComplete:function(){i.isAnimating=!1}}));break;case 40:i.activeIndex<i.items.length-1&&(i.isAnimating=!0,i.goNext({onComplete:function(){i.isAnimating=!1}}))}})),ml(this,"onDragStart",(function(e){i.isDragging=!0,i.dragStart="touchstart"===e.type?e.touches[0].clientY:e.clientY})),ml(this,"onDragMove",(function(e){i.hasDragged=!0;var t="touchmove"===e.type?e.touches[0].clientY:e.clientY;i.dragDelta=i.dragStart-t})),ml(this,"onDragEnd",(function(e){i.isDragging=!1,!i.isAnimating&&i.hasDragged&&(i.dragDelta<-i.slideMargin/2?i.activeIndex>0&&(i.isAnimating=!0,i.goPrev({onComplete:function(){setTimeout((function(){i.isAnimating=!1}),200)}})):i.dragDelta>i.slideMargin/2&&i.activeIndex<i.items.length-1&&(i.isAnimating=!0,i.goNext({onComplete:function(){setTimeout((function(){i.isAnimating=!1}),200)}}))),i.hasDragged=!1,i.dragDelta=0})),ml(this,"onItemClick",(function(e){var t=i.items.findIndex((function(t){return t.el.isSameNode(e.currentTarget)}));if(t>-1){var n=.5*Math.abs(i.activeIndex-t),r=t-i.activeIndex,o=i.grid.translateOffsets.y*r;i.onItemLeave(e),0!==r?i.goTo(t,{duration:n,onStart:function(){i.grid.translateGrid({catSlider:!0,y:o,duration:n,onComplete:function(){setTimeout((function(){gr.call("gridManager","navToSlider")}),200)}},!0)}}):setTimeout((function(){gr.call("gridManager","navToSlider")}),200)}})),ml(this,"onItemHover",(function(e){for(var t=i.items.findIndex((function(t){return t.el.isSameNode(e.currentTarget)})),n=0;n<i.items.length;n++)n!==t&&i.items[n].el.classList.add("is-hover")})),ml(this,"onItemLeave",(function(e){for(var t=0;t<i.items.length;t++)i.items[t].el.classList.remove("is-hover")})),this.slider=null,this.list=null,this.slides=[],this.items=[],this.line=null,this.lineBar=null,this.slideTitles=[],this.slideTotals=[],this.slideHeight=0,this.slideMargin=0,this.grid=t,this.activeIndex=0,this.isAnimating=!1,this.dragStart=0,this.dragDelta=0,this.isDragging=!1,this.hasDragged=!1}var t,i,n;return t=e,(i=[{key:"getSizes",value:function(){this.slideHeight=this.items[0].el.clientHeight,this.slideMargin=parseFloat(getComputedStyle(this.items[0].el).marginBottom.slice(0,-2)),this.translateValue=this.slideMargin+this.slideHeight,Cn.set(this.list,{top:xr.window.height/2-this.slideHeight/2}),Cn.set(this.line,{top:xr.window.height/2+this.slideHeight/2})}},{key:"setActiveIndex",value:function(e){this.activeIndex=e}},{key:"goTo",value:function(e,t){if(e>=0&&e<=this.items.length-1){var i=t.duration,n=t.onStart,r=t.onComplete;this.setActiveIndex(e);var o=0===e?0:"-".concat(this.translateValue*e);Cn.to(this.list,{duration:i||.5,y:o,onStart:function(){n&&n()},onComplete:function(){r&&r()}}),this.scaleLine(i||.5)}}},{key:"goNext",value:function(e){var t=this,i=e.duration,n=e.onStart,r=e.onComplete;this.goTo(this.activeIndex+1,{duration:i||.5,onStart:function(){t.grid.translateGrid({catSlider:!0,y:t.grid.translateOffsets.y,duration:i||.5},!0),n&&n()},onComplete:function(){r&&r()}})}},{key:"goPrev",value:function(e){var t=this,i=e.duration,n=e.onStart,r=e.onComplete;this.goTo(this.activeIndex-1,{duration:i||.5,onStart:function(){t.grid.translateGrid({catSlider:!0,y:-t.grid.translateOffsets.y,duration:i||.5},!0),n&&n()},onComplete:function(){r&&r()}})}},{key:"scaleLine",value:function(e){Cn.to(this.line,{duration:e,scaleX:this.items[this.activeIndex].width/100,ease:pi.easeOut})}},{key:"initItems",value:function(){var e=this;this.items=[],this.slides.forEach((function(t){var i=t.querySelector(".categories-slider__item-inner"),n=i?i.clientWidth:0;e.items.push({el:t,width:n})}))}},{key:"addListeners",value:function(){var e=this;this.hasListeners||(window.addEventListener("mousedown",this.onMouseDown),window.addEventListener("touchstart",this.onTouchStart,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd),window.addEventListener("wheel",this.onWheel,{passive:!1}),window.addEventListener("keyup",this.onKeyUp),this.items.forEach((function(t){t.el.addEventListener("click",e.onItemClick),t.el.addEventListener("mouseenter",e.onItemHover),t.el.addEventListener("mouseleave",e.onItemLeave)})),this.hasListeners=!0)}},{key:"removeListeners",value:function(){var e=this;this.hasListeners&&(window.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd),window.removeEventListener("wheel",this.onWheel,{passive:!1}),window.removeEventListener("keyup",this.onKeyUp),this.items.forEach((function(t){t.el.removeEventListener("click",e.onItemClick),t.el.removeEventListener("mouseenter",e.onItemHover),t.el.removeEventListener("mouseleave",e.onItemLeave)})),this.hasListeners=!1)}},{key:"resize",value:function(){this.list&&this.slides.length&&this.line&&(this.lineBar=document.querySelector(".js-categories-slider-line-bar"),this.slideTitles=document.querySelectorAll(".categories-slider__item-name .line-child"),this.slideTotals=document.querySelectorAll(".categories-slider__item-total .line-child"),this.initItems(),this.getSizes(),this.goTo(this.activeIndex,{duration:0}))}},{key:"destroy",value:function(){this.removeListeners()}},{key:"init",value:function(e){this.slider=(br.nextContainer||document).querySelector(".js-categories-slider"),this.slider&&(this.list=(br.nextContainer||document).querySelector(".js-categories-slider-list"),this.slides=(br.nextContainer||document).querySelectorAll(".js-categories-slider-item"),this.line=(br.nextContainer||document).querySelector(".js-categories-slider-line"),this.list&&this.slides.length&&this.line&&(this.lineBar=(br.nextContainer||document).querySelector(".js-categories-slider-line-bar"),this.slideTitles=(br.nextContainer||document).querySelectorAll(".categories-slider__item-name .line-child"),this.slideTotals=(br.nextContainer||document).querySelectorAll(".categories-slider__item-total .line-child"),this.initItems(),this.getSizes(),e&&e()))}}])&&vl(t.prototype,i),n&&vl(t,n),e}();function bl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wl(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var xl=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),wl(this,"open",(function(){if(!i.isAnimating&&i.grid.isReady){i.isAnimate(!0),i.slider.goTo(i.grid.rows[2].category.index,{duration:0,onComplete:function(){return i.slider.isOnScroll=!1}});var e=Cn.timeline({onComplete:function(){i.isOpen=!0,i.slider.addListeners(),i.isAnimate(!1)}});return e.set(i.target,{visibility:"visible",zIndex:3}).to(i.gridBottomLines,{duration:.7,yPercent:-120,skewY:"-4deg",stagger:.1,ease:pi.easeInOut,onComplete:function(){Cn.set(i.gridBottomLines,{yPercent:120,skewY:"0deg"})}}).to(i.bg,{duration:.4,opacity:.5,ease:pi.easeIn},"-=0.1").to(i.slider.slideTitles,{duration:1,yPercent:0,skewY:"0deg",stagger:{amount:.25,from:i.slider.activeIndex},ease:pi.easeInOut}).to(i.slider.slideTotals,{duration:1,yPercent:0,skewY:"0deg",stagger:{amount:.25,from:i.slider.activeIndex},ease:pi.easeInOut},"-=1.2").to(i.slider.lineBar,{duration:.5,scaleX:1,ease:mi.easeInOut,onComplete:function(){Cn.set(i.slider.lineBar,{transformOrigin:"right center"})}},"-=0.8"),e}})),wl(this,"close",(function(){if(!i.isAnimating){i.isAnimate(!0),i.slider.removeListeners();var e=Cn.timeline({onComplete:function(){i.isOpen=!1,i.isAnimate(!1)}});return e.to(i.slider.lineBar,{duration:.5,scaleX:0,ease:mi.easeInOut,onComplete:function(){Cn.set(i.slider.lineBar,{transformOrigin:"left center"})}}).to(i.slider.slideTitles,{duration:.8,yPercent:130,skewY:"-6deg",stagger:{amount:.2,from:i.slider.activeIndex},ease:pi.easeInOut},"-=0.4").to(i.slider.slideTotals,{duration:.8,yPercent:130,skewY:"-6deg",stagger:{amount:.2,from:i.slider.activeIndex},ease:pi.easeInOut},"-=1.3").to(i.bg,{duration:.35,opacity:0,ease:pi.easeOut,onComplete:function(){Cn.set(i.target,{visibility:"hidden",zIndex:"-1"}),Cn.set(i.slider.slideTitles,{yPercent:130,skewY:"6deg"}),Cn.set(i.slider.slideTotals,{yPercent:130,skewY:"6deg"}),Cn.to(i.gridBottomLines,{duration:.7,yPercent:0,skewY:"0deg",stagger:.1,ease:pi.easeInOut})}},"-=0.6"),e}})),this.target=(br.nextContainer||document).querySelector(".js-categories-nav"),this.grid=t,this.slider=null,this.bg=null,this.opener=null,this.closer=null,this.isAnimating=!1,this.isOpen=!1,this.init()}var t,i,n;return t=e,(i=[{key:"setup",value:function(){var e=this;this.slider.init((function(){e.gridBottomLines=(br.nextContainer||document).querySelectorAll(".grid__bottom-text .line-child"),Cn.set(e.slider.slideTitles,{yPercent:130,skewY:"6deg"}),Cn.set(e.slider.slideTotals,{yPercent:130,skewY:"6deg"}),Cn.set(e.slider.lineBar,{scaleX:0})}))}},{key:"isAnimate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isAnimating=e,e?document.body.classList.add("is-animating"):document.body.classList.remove("is-animating")}},{key:"resize",value:function(){this.gridBottomLines=document.querySelectorAll(".grid__bottom-text .line-child"),this.slider.resize(),this.isOpen?(Cn.set(this.slider.slideTitles,{yPercent:0,skewY:"0deg"}),Cn.set(this.slider.slideTotals,{yPercent:0,skewY:"0deg"}),Cn.set(this.slider.lineBar,{scaleX:1})):(Cn.set(this.slider.slideTitles,{yPercent:130,skewY:"6deg"}),Cn.set(this.slider.slideTotals,{yPercent:130,skewY:"6deg"}),Cn.set(this.slider.lineBar,{scaleX:0}))}},{key:"destroy",value:function(){this.grid=null,this.slider.destroy(),this.slider=null}},{key:"reinit",value:function(){this.target=document.querySelector(".js-categories-nav"),this.slider=new yl,this.bg=this.target?this.target.querySelector(".categories-nav__bg"):null,this.init()}},{key:"init",value:function(){this.target&&(this.slider=new yl(this.grid),this.bg=this.target.querySelector(".categories-nav__bg"),this.opener=(br.nextContainer||document).querySelector(".js-categories-open"),this.closer=(br.nextContainer||document).querySelector(".js-categories-close"),this.categoryBottom=(br.nextContainer||document).querySelector(".js-grid-mobile-category"),this.setup())}}])&&bl(t.prototype,i),n&&bl(t,n),e}();function Dl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.grid=t,this.tl=null,this.isAnimating=!1,this.isActive=!1,this.isHidden=!0,this.activePlane=null,this.animatedPlane=null,this.shouldUpdate=!0,this.init()}var t,i,n;return t=e,(i=[{key:"setRectangle",value:function(e){this.activePlane=e;var t=e.actualPosition,i=t.top,n=t.right,r=t.bottom,o=t.left,a=qr({x:n,y:i,c:xr.window}),s=qr({x:o,y:r,c:xr.window});Cn.set(this.blockEl,{top:a.y,right:xr.window.width-a.x,bottom:xr.window.height-s.y,left:s.x}),Cn.set([this.name,this.number],{left:"calc(100% + ".concat(Math.min(Rr(this.grid.sizes.ho*this.grid.scale.v/2,xr.window.width),25),"px)")}),this.nameInner.innerText=e.project.name;var l=e.project.index+1;this.numberInner.innerText="".concat(e.row.category.name," ").concat(l>=10?l:"0".concat(l))}},{key:"appear",value:function(){var e=this;this.isInitialized&&(this.isAnimating=!0,this.isAppearing=!0,this.isHidden=!1,this.isDisappearing=!1,this.animatedPlane=Object.assign({},this.activePlane),Cn.set(this.blockEl,{display:"block"}),Cn.timeline({onStart:function(){},onComplete:function(){e.isAppearing=!1,e.isAnimating=!1,e.isActive=!0,e.activePlane||(e.disappear(),xr.device>=2&&lo.trigger("defaultOff"),e.grid&&e.grid.canvas.classList.remove("pointer"))}}).to(this.shadow,{duration:.15,opacity:1}).to([this.nameInner,this.numberInner],{duration:.15,y:"0%"},0))}},{key:"disappear",value:function(e,t){var i=this;this.isInitialized&&(this.isAnimating=!0,this.isAppearing=!1,this.isDisappearing=!0,this.isActive=!1,Cn.timeline({onStart:function(){},onComplete:function(){i.isDisappearing=!1,i.isAnimating=!1,i.isHidden=!0,i.animatedPlane=null,Cn.set(i.blockEl,{display:"none"}),i.activePlane&&(i.setRectangle(i.activePlane),i.appear(),xr.device>=2&&lo.trigger("scaleOn"),i.grid&&i.grid.canvas.classList.add("pointer")),e&&t&&t()}}).to(this.shadow,{duration:e?0:.15,opacity:0}).to([this.nameInner,this.numberInner],{duration:e?0:.15,y:"100%"}))}},{key:"update",value:function(){var e=this;this.isInitialized&&this.shouldUpdate&&(this.isAnimating?this.isAppearing?this.activePlane?this.animatedPlane&&this.animatedPlane.index!==this.activePlane.index&&(this.disappear(),xr.device>=2&&lo.trigger("defaultOff"),this.grid&&this.grid.canvas.classList.remove("pointer")):(this.disappear(),xr.device>=2&&lo.trigger("defaultOff"),this.grid&&this.grid.canvas.classList.remove("pointer")):this.activePlane&&this.animatedPlane&&this.animatedPlane.index===this.activePlane.index&&this.animatedPlane.project.index==this.animatedPlane.project.index&&(this.appear(),xr.device>=2&&lo.trigger("scaleOn"),this.grid&&this.grid.canvas.classList.add("pointer")):this.isActive?this.activePlane?this.animatedPlane&&this.animatedPlane.index!==this.activePlane.index&&this.animatedPlane.project.index!==this.activePlane.project.index&&this.disappear(!0,(function(){e.setRectangle(e.activePlane),xr.device>=2&&lo.trigger("defaultOff"),e.grid&&e.grid.canvas.classList.remove("pointer")})):(this.disappear(),xr.device>=2&&lo.trigger("defaultOff"),this.grid&&this.grid.canvas.classList.remove("pointer")):this.activePlane&&(this.setRectangle(this.activePlane),this.appear(),xr.device>=2&&lo.trigger("scaleOn"),this.grid&&this.grid.canvas.classList.add("pointer")))}},{key:"init",value:function(){xr.device>1&&!br.isIos&&(this.blockEl=(br.nextContainer||document).querySelector(".js-grid-rectangle"),this.blockEl&&(this.shadow=this.blockEl.querySelector("[data-shadow]"),this.name=this.blockEl.querySelector("[data-name]"),this.number=this.blockEl.querySelector("[data-number]"),this.shadow&&this.name&&this.number&&(this.nameInner=this.name.querySelector("div"),this.numberInner=this.number.querySelector("div"),this.nameInner&&this.numberInner&&(this.grid.hoverInstance=this),this.isInitialized=!0)))}},{key:"resize",value:function(){this.isInitialized&&this.disappear(!0)}},{key:"destroy",value:function(){this.shouldUpdate=!1}}])&&Dl(t.prototype,i),n&&Dl(t,n),e}();function Sl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var El=function(){function e(t){var i,n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(){var e=o.activePlane;e&&(br.activeProject=e.project,br.activeCategory=e.row.category,o.activePlane=e,gr.call("gridManager","resetState"),gr.call("scrollManager","disableScroll"),xr.device>=2&&lo.trigger("loadOn"),gr.call("router","goTo",e.project.url))},(n="goToCase")in(i=this)?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,this.grid=t,this.grid&&(this.isOpen=!0,this.isAnimating=!1,this.hasRemovedClone=!1,this.init())}var t,i,n;return t=e,(i=[{key:"removeListeners",value:function(){this.target&&this.target.removeEventListener("click",this.goToCase)}},{key:"addListeners",value:function(){this.target.addEventListener("click",this.goToCase)}},{key:"disappear",value:function(){this.isOpen&&(this.isOpen=!1,Cn.to(this.target,{duration:.4,opacity:0,pointerEvents:"none"}))}},{key:"appear",value:function(){this.isOpen||(this.isOpen=!0,Cn.to(this.target,{duration:.4,opacity:1,pointerEvents:"auto"}))}},{key:"createNextCategory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("div");t.className="grid-mobile__category-item nom";var i=document.createElement("p");i.className="h5",i.textContent=e,t.appendChild(i),Cn.set(t,{yPercent:100}),this.wrap.appendChild(t),this.categories=this.wrap.querySelectorAll(".grid-mobile__category-item")}},{key:"changeName",value:function(e){var t=this;this.activePlane=e;var i="0".concat(e.project.index+1,"-").concat(e.project.name);this.createNextCategory(i),this.target.setAttribute("data-url",e.project.url),this.appear(),Cn.timeline({onStart:function(){t.isAnimating=!0,t.hasRemovedClone=!1},onComplete:function(){t.categories[1]&&t.categories[1].removeAttribute("style"),t.categories&&t.categories.length>0&&t.categories[0]&&!t.hasRemovedClone&&(Cr(t.categories[0]),t.hasRemovedClone=!0),t.isAnimating=!1}}).to(this.categories[0],{duration:.5,yPercent:-100,ease:pi.easeInOut}).to(this.categories[1],{duration:.5,yPercent:0,ease:pi.easeInOut},"-=0.5")}},{key:"init",value:function(){this.target=(br.nextContainer||document).querySelector(".js-grid-mobile-category"),this.target&&(this.wrap=this.target.querySelector(".js-grid-mobile-category-wrap"),this.addListeners())}},{key:"destroy",value:function(){this.removeListeners()}},{key:"resize",value:function(){}}])&&Sl(t.prototype,i),n&&Sl(t,n),e}();function Cl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kl(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Tl=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kl(this,"sliderToGrid",(function(){t.grid.removeListeners(),t.menu.removeListeners(),t.grid&&t.grid.egg&&t.grid.egg.deactivate(),Er.changeBg(Er.metaColor,.3),t.slider.exitElements({duration:.8,onComplete:function(){return t.slider.shouldUpdate=!1}}),t.grid.closeSlider({delay:.2,duration:.8,onStart:function(){t.menu.animateToggleIn()},onComplete:function(){t.menu.toggler.addEventListener("click",t.gridToSlider),t.grid.addListeners(),t.slider.setProgress(0)}})})),kl(this,"gridToSlider",(function(){t.grid.removeListeners(),t.menu.toggler.removeEventListener("click",t.gridToSlider),t.grid.updateDragSpeed({x:0,y:0,duration:0}),t.slider.setup(),t.slider.setProgress(0),t.slider.updateCurrent(),t.menu.animateToggleOut(),t.grid.openSlider({duration:1}),t.slider.enterElements({delay:.5,duration:1,onComplete:function(){t.menu.addListeners(),t.grid.addListeners(),t.slider.shouldUpdate=!0}})})),kl(this,"sliderToNav",(function(){t.grid.removeListeners(),t.menu.removeListeners(),Er.changeBg(Er.metaColor,.3),t.grid.setPlanesSaturation(0,.3),t.grid.isNav=!0,t.slider.exitElements({duration:.8,onComplete:function(){return t.slider.shouldUpdate=!1}}),t.grid.centerVertically({duration:.4}),t.grid.closeSlider({delay:.5,duration:1,onStart:function(){t.menu.setDataColor("white"),t.menu.animateToggleIn(),t.nav.open()},onComplete:function(){t.menu.toggler.addEventListener("click",t.navToSlider),t.slider.setProgress(0)}})})),kl(this,"navToSlider",(function(){t.menu.toggler.removeEventListener("click",t.navToSlider),t.slider.setup(),t.slider.setProgress(0),t.slider.updateCurrent(),t.menu.animateToggleOut(),t.nav.close(),t.grid.openSlider({duration:1}),t.slider.enterElements({delay:.5,duration:1,onStart:function(){t.menu.setDataColor("black",!0)},onComplete:function(){t.menu.addListeners(),t.grid.addListeners(),t.slider.shouldUpdate=!0,t.grid.isNav=!1}})})),kl(this,"onFirstClick",(function(e){var i=!!e.target.classList.contains("js-categories-grid-open")||!!e.target.closest(".js-categories-grid-open");t.slider.gridOpener.removeEventListener("click",t.onFirstClick),t.nav.opener.removeEventListener("click",t.onFirstClick),xr.device>=2&&lo.trigger("loadOn"),document.body.classList.add("is-animating"),t.grid.loadAll((function(){t.addListeners(),document.body.classList.remove("is-animating"),xr.device>=2&&lo.trigger("loadOff"),i?t.sliderToGrid():t.sliderToNav()}))})),this.loader=null,this.grid=null,this.slider=null,this.nav=null,this.init()}var t,i,n;return t=e,(i=[{key:"hideElements",value:function(){this.grid.isSlider&&this.slider.exitElements({duration:.8}),this.bottomText&&Cn.to(this.bottomText,{duration:.8,opacity:0}),this.bottomLogo&&Cn.to(this.bottomLogo,{duration:.8,opacity:0})}},{key:"appearName",value:function(e){this.toggleName(e)}},{key:"toggleName",value:function(e){this.names&&this.names.changeName(e)}},{key:"disappearName",value:function(){this.names&&this.names.disappear()}},{key:"resetState",value:function(){this.grid.removeListeners(),this.menu.toggler.removeEventListener("click",this.gridToSlider),this.menu.addListeners(),this.menu.animateToggleOut(),this.hover.activePlane=null,this.hover.disappear(!0),this.hover.destroy(),this.hideElements()}},{key:"addListeners",value:function(){this.hasListeners||(this.slider&&this.slider.gridOpener.addEventListener("click",this.sliderToGrid),this.nav&&this.nav.opener.addEventListener("click",this.sliderToNav),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.slider&&this.slider.gridOpener.removeEventListener("click",this.sliderToGrid),this.nav&&this.nav.opener.removeEventListener("click",this.sliderToNav),this.hasListeners=!1)}},{key:"init",value:function(){var e=this;this.bottomText=(br.nextContainer||document).querySelector(".grid__bottom-text"),this.bottomLogo=(br.nextContainer||document).querySelector(".grid__bottom-logo"),this.menu=oo,this.navLogo=document.querySelector(".nav__logo"),this.grid=new cl((function(){e.slider.gridOpener.addEventListener("click",e.onFirstClick),e.nav.opener.addEventListener("click",e.onFirstClick)})),this.slider=new gl(this.grid),this.nav=new xl(this.grid),this.hover=new _l(this.grid),this.names=new El(this.grid)}},{key:"destroy",value:function(){this.removeListeners(),this.menu=null,this.grid&&(this.grid.destroy(),this.grid=null),this.nav&&(this.nav.destroy(),this.nav=null),this.hover&&(this.hover.destroy(),this.hover=null),this.slider=null}},{key:"resize",value:function(){this.grid&&this.grid.resize(),this.nav&&this.nav.resize(),this.hover&&this.hover.resize(),this.addListeners()}}])&&Cl(t.prototype,i),n&&Cl(t,n),e}();function Al(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ll(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Pl=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ll(this,"render",(function(){t.gl.useProgram(t.programInfo.program),t.gl.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),Object(Qr.setUniforms)(t.programInfo,{p:t.progress.v});for(var e=t.planes.length-1;e>=(xr.device>1?0:2);e--){var i=t.planes[t.planes.length-1-e];t.gl.activeTexture(t.gl.TEXTURE0),t.gl.bindTexture(t.gl.TEXTURE_2D,t.baseTexture),t.gl.activeTexture(t.gl.TEXTURE1),t.gl.bindTexture(t.gl.TEXTURE_2D,i.texture),Object(Qr.setUniforms)(t.programInfo,{r:i.element.ratio,iR:i.element.imageRatio,o:i.opacity.v,s:i.saturation.v,t:[i.translate.x,i.translate.y]}),Object(Qr.setBuffersAndAttributes)(t.gl,t.programInfo,i.bufferInfo),Object(Qr.drawBufferInfo)(t.gl,i.bufferInfo,t.gl.TRIANGLE_FAN)}t.renderId=requestAnimationFrame(t.render)})),Ll(this,"onImageLoad",(function(e){var i=mr.get("page");if("home"===i){var n=t.elements.find((function(t){return t.id===e.loaderId}));n&&(n.img=e.img)}var r=gr.get("loaderManager");t.loadedImages.push(e),"home"===i&&Bo.updateMobileProgress(t.loadedImages.length/r.initial.length*100),xr.device>=2&&!br.isIos&&lo.updateProgress(t.loadedImages.length/r.initial.length*100),t.loadedImages.length===r.initial.length&&t.onLoadAll()})),this.elements=[],this.planes=[],this.loadedImages=[],this.progress={v:br.isSafari||br.isFirefox||br.isWin?1:0},this.init()}var t,i,n;return t=e,(i=[{key:"calculateSizes",value:function(){this.height=xr.window.height-(xr.nav.heightHome+xr.footer.heightHome)*xr.window.height,this.scale=this.height/(.4*xr.window.height),this.ho=Rr(.128/xr.window.ratio,xr.window.width)*this.scale,this.ratios=[.67,.92],this.widths=[Fr(this.height*this.ratios[0]),Fr(this.height*this.ratios[1])],this.destCenter=1-xr.nav.heightHome+(-1+xr.footer.heightHome)}},{key:"getElements",value:function(){var e=this,t=this.images.length?this.images[0].parentNode:null;t&&(Cn.set(t,{width:xr.device>0?this.widths[0]+this.widths[1]:xr.window.width}),this.images.forEach((function(t,i){var n=e.ratios[i%2],r=e.widths[i%2],o=e.height;Cn.set(t,{width:r,height:o,zIndex:2-i});var a=t.getBoundingClientRect(),s=a.top,l=a.left;e.elements.push({el:t,img:null,width:r,height:o,ratio:n,top:s,left:l,imageRatio:parseFloat(t.getAttribute("data-img-ratio")),z:parseFloat(t.getAttribute("data-z")),id:i})})))}},{key:"createPlanes",value:function(){var e=this;this.elements.forEach((function(t,i){var n=jr(t.width,xr.window.width),r=jr(t.height,xr.window.height),o=Mr({x:t.left,y:t.top,c:xr.window}),a=Mr({x:t.left+t.width,y:t.top+t.height,c:xr.window}),s=[o.x,o.y,a.x,o.y,a.x,a.y,o.x,a.y],l=Math.ceil(i/2)*(e.widths[0]+e.ho)+Math.floor(i/2)*(e.widths[1]+e.ho),u=Mr({x:xr.navPadding[xr.device>1?"desk":"mobile"]*xr.window.width+l,y:xr.window.height-xr.footer.heightHome*xr.window.height,c:xr.window}),c=Object(Qr.createTexture)(e.gl,{width:1,height:1});e.planes.push({element:t,width:n,height:r,top:o.y,right:a.x,bottom:a.y,left:o.x,vertices:s,uvs:[0,1,1,1,1,0,0,0],texture:c,opacity:{v:0},saturation:{v:0},translate:{x:0,y:0},finalTranslate:u})}))}},{key:"setTextures",value:function(){var e=this;this.baseTexture=Object(Qr.createTexture)(this.gl,{width:1,height:1,src:new Uint8Array([161,162,166,255])}),this.planes.forEach((function(t){Object(Qr.setTextureFromElement)(e.gl,t.texture,t.element.img,{flipY:!0})}))}},{key:"bindPlanesBuffers",value:function(){var e=this;this.planes.forEach((function(t){t.bufferInfo=Object(Qr.createBufferInfoFromArrays)(e.gl,{pos:{numComponents:2,data:t.vertices},uv:{numComponents:2,data:t.uvs}})}))}},{key:"requestRender",value:function(){this.renderId=requestAnimationFrame(this.render)}},{key:"cancelRender",value:function(){cancelAnimationFrame(this.renderId)}},{key:"enterHome",value:function(){var e=this,t=Cn.timeline({onStart:function(){io.hide(),setTimeout((function(){Er.changeMeta(Er.bgColor)}),2e3)}}),i=gr.get("textSplit");this.loadLetters.forEach((function(e){i.create(e,{type:"lines",linesClass:"line-parent"}),i.create(e.querySelectorAll(".line-parent"),{type:"lines",linesClass:"line-child"})}));var n=this.loadLettersContainer.querySelectorAll(".line-child");if(t.to(this.circle,{duration:1.2,opacity:1}).to(this.circle,{duration:3,rotation:"720deg",ease:vi.easeInOut},"-=0.2").to(n,{duration:.35,stagger:.03,color:"#fff",onStart:function(){lo.hideProgress()}},2.3).to(n,{duration:.7,stagger:.06,y:"-110%",skewY:"-5deg",ease:pi.easeInOut},"-=1.1").add(Bo.hideMobileProgress(),"-=0.6").to(this.fadeEls,{duration:.6,opacity:0},"-=0.2").to(this.bg,{duration:1,opacity:0,ease:vi.easeIn}),t.to(this.logo,{duration:1,opacity:0},"-=1").add(Bo.menuReveal()).add(Bo.revealPage(),"-=0.4"),xr.device>0){var r=this.planes[1],o=this.planes[2];this.planes[1]=o,this.planes[2]=r}this.planes.forEach((function(e,t){Cn.to(e.opacity,{duration:.7,v:.01*e.element.z})})),Cn.to(this.progress,{duration:1,v:br.isSafari||br.isFirefox||br.isWin?0:1,onComplete:function(){e.planes.forEach((function(t,i){Cn.timeline().to(t.opacity,{duration:1.8,v:1,delay:1+.5*i,ease:vi.easeInOut}).to(t.saturation,{duration:1.8,v:1,ease:vi.easeInOut},"-=1.8").to(t.translate,{duration:1.5,x:t.left-t.finalTranslate.x+.001,y:t.bottom-t.finalTranslate.y,ease:vi.easeInOut,onComplete:function(){if(xr.device>=2&&(lo.activateMovement(),lo.getReady()),i===e.planes.length-1){var t=gr.get("gridManager");t&&t.grid&&t.slider&&(t.slider.setProgress(0),e.destroy(),t.grid.start(e.loadedImages),t.grid.addListeners(),t.slider.shouldUpdate=!0,e.container.remove())}}},4)}))}})}},{key:"initHome",value:function(){this.canvas=_r.el,this.gl=_r.gl,this.images=Array.from(document.querySelectorAll(".js-intro-img")),this.content=document.querySelectorAll(".js-intro-loader-anim"),this.logo=document.querySelector(".js-intro-logo"),this.circle=document.querySelector(".js-intro-circle"),this.fadeEls=document.querySelectorAll(".js-intro-fade"),this.loadLettersContainer=document.querySelector(".js-intro-loader-loading-text-container"),this.loadLetters=this.loadLettersContainer.querySelectorAll(".intro-loader__loading-text-char"),this.calculateSizes(),this.getElements()}},{key:"startHome",value:function(){this.canvas&&this.images.length&&(xr.device<1&&this.images.splice(2),this.gl&&(Cn.set(this.canvas,{zIndex:1e3}),this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this.programInfo=Object(Qr.createProgramInfo)(this.gl,["#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float r;\nuniform float iR;\nuniform vec2 t; // translate\n\nattribute vec2 pos;\nattribute vec2 uv;\n\nvarying vec2 v_uv;\n\nvoid main () {\n  gl_Position = vec4(pos.x-t.x,pos.y-t.y,0.,1.);\n  v_uv = .5+(uv-.5)*vec2(min(r/iR,1.),(min(iR/r,1.)));\n}","#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D tex;\nuniform sampler2D tex2;\nuniform float o; // opacity\nuniform float s; // saturation\nuniform float p; // progress\n\nvarying vec2 v_uv;\n\nconst vec3 g = vec3(0.2125, 0.7154, 0.0721);\nvec3 saturate (vec3 c, float p) {\n  return mix(vec3(dot(c, g)), c, p);\n}\n\nvoid main () {\n  vec4 color1 = texture2D(tex,v_uv);\n  vec4 color2 = texture2D(tex2,v_uv);\n  gl_FragColor = vec4(saturate(vec4(mix(color2, color1, p)).xyz, s), o);\n  gl_FragColor.rgb *= gl_FragColor.a;\n}\n"],["pos","uv"]),Object(Qr.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.useProgram(this.programInfo.program),this.gl.activeTexture(this.gl.TEXTURE0),this.createPlanes(),this.setTextures(),this.bindPlanesBuffers(),Object(Qr.setUniforms)(this.programInfo,{tex:this.baseTexture,tex2:this.planes[0].texture}),this.requestRender(),this.enterHome()))}},{key:"enterOther",value:function(){var e=this,t=mr.get("page");Cn.timeline({onStart:function(){switch(lo.hideProgress(),(2!==xr.device||br.isIos)&&(e.loadedImages&&e.loadedImages.length&&e.loadedImages.forEach((function(e){return gr.call("imageLoader","onLazyLoad",e)})),Cn.to(e.mobileCircle,{duration:.3,opacity:0})),t){case"single-case":case"single-article":case"about":case"journal":tu.afterImageLoad();break;case"not-found":var i=gr.get("loaderManager");i&&Zr.init(i.initial)}},onComplete:function(){switch(e.destroy(),t){case"single-case":case"single-article":case"about":case"journal":case"not-found":break;default:tu.afterImageLoad()}}}).set(this.bg,{opacity:0,onComplete:function(){io.prepareInitialLoad()}}).add(io.moveMain({value:0,type:"load",onComplete:function(){xr.device>=2&&(lo.activateMovement(),lo.getReady()),e.destroy(),e.container.remove(),io.hide()}})).add(Bo.menuReveal()).add(Bo.revealPage(),"-=1.2")}},{key:"loadInitial",value:function(e){var t=this,i=gr.get("loaderManager");i&&(i.initial.length?(xr.device>=2&&(lo.showProgress(),lo.appearFirstTime()),"home"===mr.get("page")&&(Bo.showMobileProgress(),Bo.setMobileProgress("0%")),setTimeout((function(){i.initial.forEach((function(i,n){gr.call("imageLoader","load",i,t.onImageLoad),e&&e()}))}),2500)):setTimeout((function(){t.onLoadAll(!0),e&&e()}),1e3))}},{key:"onLoadAll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=mr.get("page");"home"===i?this.startHome():t&&xr.device>=2?lo.appearFirstTime(!0,(function(){e.enterOther()})):this.enterOther()}},{key:"start",value:function(e){"home"===mr.get("page")&&(this.initHome(),Cn.to(this.content,{duration:1,opacity:1,stagger:.18,ease:pi.easeOut})),this.loadInitial(e)}},{key:"init",value:function(){this.container=document.querySelector(".js-intro"),this.bg=document.querySelector(".js-intro-bg"),this.path=document.querySelectorAll(".js-intro-path"),this.mobileCircle=document.querySelector(".js-intro-loader-circle")}},{key:"destroy",value:function(){var e=this;this.gl&&(this.cancelRender(),this.gl.deleteTexture(this.baseTexture),this.planes.forEach((function(t){e.gl.deleteTexture(t.texture)})),this.gl.disable(this.gl.DEPTH_TEST),_r.resetState(),this.programInfo=null,this.gl=null)}}])&&Al(t.prototype,i),n&&Al(t,n),e}();function Ol(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Il=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.clipHeight=.8,this.pixelHeight=Rr(this.clipHeight,xr.window.height),this.ratios=[.67,.92],this.clipWidths=[Fr(this.ratios[0]*this.clipHeight/xr.window.ratio),Fr(this.ratios[1]*this.clipHeight/xr.window.ratio)],this.pixelWidths=this.clipWidths.map((function(e){return Rr(e,xr.window.width)})),this.maxScale=(2-2*(xr.nav.heightHome+xr.footer.heightHome))/this.clipHeight,this.maxPlaneWidth=this.pixelWidths[1]*this.maxScale,this.maxPlaneHeight=this.pixelHeight*this.maxScale}},{key:"reinit",value:function(){this.init()}}])&&Ol(t.prototype,i),n&&Ol(t,n),e}());function Fl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ml=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(e){if(r.loadedImages++,r.loadedImages==r.initial.length){var t=gr.get("gridManager");t&&t.grid&&t.slider&&(t.slider.setProgress(0),t.grid.start(r.initial),t.grid.addListeners(),t.slider.shouldUpdate=!0)}},(i="onGridImageLoad")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.images=[],this.initial=[],this.lazy=[],this.lastId=-1}var t,i,n;return t=e,(i=[{key:"addImages",value:function(e){var t=this,i=this.lastId;return e.forEach((function(e){return t.addImage(e)})),this.images.filter((function(e){return e.id>i}))}},{key:"addImage",value:function(e){this.lastId++,e.setAttribute("data-img-id",this.lastId);var t=e.clientWidth,i=e.hasAttribute("data-ratio")?t/parseFloat(e.getAttribute("data-ratio")):e.clientHeight;return this.images.push({el:e,id:this.lastId,src:JSON.parse(e.getAttribute("data-img"))||JSON.parse(e.getAttribute("data-slide"))||JSON.parse(e.getAttribute("data-next-img")),isInitial:e.hasAttribute("data-load-initial"),isLazy:e.hasAttribute("data-lazy"),isWebgl:e.hasAttribute("data-webgl"),isHtml:e.hasAttribute("data-html"),isSlide:e.hasAttribute("data-slide"),isNext:e.hasAttribute("data-next-img"),cW:t,cH:i,cR:e.hasAttribute("data-ratio")?parseFloat(e.getAttribute("data-ratio")):i/t}),this.images[this.images.length-1]}},{key:"initHome",value:function(e){var t=this;tu.beforeImageLoad([]),gr.add("gridManager",new Tl);var i=gr.get("gridManager");i&&i.grid&&(i.grid.categories.forEach((function(e){e.projects.forEach((function(e,t){e.image.loaderId=t,e.image.id=e.id,e.image.src=e.image.url,e.image.src.ratio=e.image.ratio,e.image.cW=Il.maxPlaneWidth,e.image.cH=Il.maxPlaneHeight,e.image.isWebgl=!0}))})),this.initial=i.grid.categories[0].projects.map((function(e){return e.image})),e?this.initial.length&&this.initial.forEach((function(e,i){gr.call("imageLoader","load",e,t.onGridImageLoad)})):this.loader.start())}},{key:"setup",value:function(){var e=this;"home"===mr.get("page")?this.initHome():(this.getImages(),this.initial=this.images.filter((function(e){return e.isInitial})),tu.beforeImageLoad(this.images),this.loader.start((function(){e.startLazy()})))}},{key:"getImages",value:function(){var e=this;this.images=[],Array.from((br.nextContainer||document).querySelectorAll("[data-img]")).forEach((function(t){e.addImage(t)}))}},{key:"startLazy",value:function(e){this.lazyLoader=new il(e?this.images:this.images.filter((function(e){return e.isLazy})))}},{key:"init",value:function(){this.loader=new Pl,this.setup()}},{key:"reset",value:function(){this.images=[],this.initial=[],this.lazy=[],this.loadedImages=0,this.lastId=-1}}])&&Fl(t.prototype,i),n&&Fl(t,n),e}();function ql(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var jl=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(){r.userInteracted=!0,window.removeEventListener("click",r.onFirstInteraction),window.removeEventListener("touchstart",r.onFirstInteraction),r.videos.forEach((function(e){e.playOnInteraction&&r.tryPlay(e)}))},(i="onFirstInteraction")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.videos=[],this.init()}var t,i,n;return t=e,(i=[{key:"listenFirstInteraction",value:function(){this.userInteracted||(window.addEventListener("click",this.onFirstInteraction),window.addEventListener("touchstart",this.onFirstInteraction))}},{key:"tryPlay",value:function(e){e.promise||(e.promise=e.el.play(),e.promise.then((function(t){e.hasPlayed=!0})).catch((function(t){console.warn("PROMISE ERROR",t),e.playOnInteraction=!0,e.promise=null})))}},{key:"get",value:function(e){return this.videos.find((function(t){return t.container.isSameNode(e)}))}},{key:"load",value:function(e,t){e.downloading=!0,e.el.src=e.url,e.el.load(),e.el.addEventListener("loadeddata",(function(i){e.ratio=e.el.videoWidth/e.el.videoHeight,e.loaded=!0,e.downloading=!1,e.downloaded=!0,e.el.play(),t&&t(e)})),e.el.addEventListener("play",(function(t){e.hasPlayed=!0,e.isPlaying=!0})),e.el.addEventListener("pause",(function(t){e.isPlaying=!1})),e.el.addEventListener("ended",(function(t){e.el.currentTime=0,e.el.play()}))}},{key:"initObserver",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t.forEach((function(t){var i=e.videos.find((function(e){return e.container.isSameNode(t.target)}));(t.isIntersecting||t.intersectionRatio>0)&&i&&(i.downloaded||i.downloading||e.load(i,(function(i){e.observer.unobserve(t.target)})))}))})),xr.device>1&&(this.videos.forEach((function(t){e.observer.observe(t.container)})),this.isObserving=!0)}},{key:"init",value:function(){var e=this;document.querySelectorAll("[data-video]").forEach((function(t,i){var n=t.querySelector("video");n&&(n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline",""),n.muted=!0,n.preload="auto",e.videos.push({id:i,container:t,url:t.getAttribute("data-video"),el:n,isTeam:t.hasAttribute("data-team"),isVisible:!1,isPlaying:!1}))})),this.initObserver(),this.listenFirstInteraction()}},{key:"destroy",value:function(){this.videos=[]}},{key:"resize",value:function(){var e=this;xr.device>1?this.isObserving||(this.videos.forEach((function(t){t.downloaded&&t.downloading||e.observer.observe(t.container)})),this.isObserving=!0):this.isObserving&&(this.videos.forEach((function(t){e.observer.unobserve(t.container)})),this.isObserving=!1)}}])&&ql(t.prototype,i),n&&ql(t,n),e}();function Rl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Bl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bg=(br.nextContainer||document).querySelector(".js-case-hero-bg-inner"),this.cta=(br.nextContainer||document).querySelector(".case-hero__scroll"),this.letters=(br.nextContainer||document).querySelectorAll(".case-hero__scroll-text .char"),this.path=(br.nextContainer||document).querySelectorAll(".case-hero__scroll-icon path"),this.firstSection=(br.nextContainer||document).querySelector(".js-case-intro"),this.image=(br.nextContainer||document).querySelector(".js-case-hero-img"),this.shouldScroll="single-case"===mr.get("page"),this.init()}var t,i,n;return t=e,(i=[{key:"animate",value:function(e){var t=e/xr.window.height;this.cta&&Cn.set(this.cta,{y:Lr(t,0,1,0,-.6*xr.window.height)}),this.bg&&Cn.set(this.bg,{y:Lr(t,0,1,0,-xr.window.height/2)}),this.letters&&this.letters.length&&Cn.to(this.letters,{duration:0,opacity:function(e){return 1-t*(e+4)}}),this.path&&Cn.set(this.path,{opacity:1-t})}},{key:"onScroll",value:function(e){var t=e.scroll;this.shouldScroll&&xr.device>1&&!br.isIos&&t.changed&&t.y<=xr.window.height&&this.animate(t.y)}},{key:"manageFirstSection",value:function(){if(this.image&&this.firstSection){var e=gr.get("scrollManager"),t=this.image.getBoundingClientRect(),i=t.height,n=(e&&e.scroll?e.scroll.y:0)+t.top-br.oldContainerHeight,r=getComputedStyle(this.firstSection).paddingBottom;r=parseInt(r.substring(0,r.length-2));var o=Hr(i+n-xr.window.height+r,r,1500);Cn.set(this.firstSection,{paddingTop:o})}}},{key:"resize",value:function(){this.manageFirstSection(),xr.device<2&&!br.isIos&&this.animate(0)}},{key:"init",value:function(){this.manageFirstSection()}}])&&Rl(t.prototype,i),n&&Rl(t,n),e}();function zl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Nl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.navLogo=document.querySelector(".nav__logo"),this.navToggle=document.querySelector(".nav__toggle"),this.navCategories=(br.nextContainer||document).querySelector(".nav-case-categories");var t=mr.get("page");this.shouldScroll="single-case"===t||"about"===t,this.mobileLastScrollTop=0}var t,i,n;return t=e,(i=[{key:"onScroll",value:function(e){var t=e.scroll;if(this.shouldScroll&&xr.device<2&&t.changed){var i=t.y>this.mobileLastScrollTop;this.navLogo&&this.navLogo.classList.toggle("is-case-scroll",i),this.navToggle&&this.navToggle.classList.toggle("is-case-scroll",i),this.navCategories&&this.navCategories.classList.toggle("is-case-scroll",i),this.mobileLastScrollTop=t.y<=0?0:t.y}}}])&&zl(t.prototype,i),n&&zl(t,n),e}();function Hl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ul(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Wl=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ul(this,"openMobileMenu",(function(){t.isAnimatingMenu||t.isMobileNavOpen||Cn.timeline({onStart:function(){gr.call("scrollManager","disableScroll"),io.prepareChange(),io.show(),document.body.classList.add("is-side-menu-open"),t.isAnimatingMenu=!0},onComplete:function(){t.isMobileNavOpen=!0,t.isAnimatingMenu=!1}}).set(t.mobileMenu.el,{pointerEvents:"auto",visibility:"visible",zIndex:422}).call(io.moveMain,[{duration:1,value:xr.window.height,type:"side-menu"}]).to(t.mobileMenu.numberLines,{duration:1,yPercent:0,skewY:"0deg",stagger:.1,ease:pi.easeInOut},"+=0.3").to(t.mobileMenu.nameLines,{duration:1,yPercent:0,skewY:"0deg",stagger:.1,ease:pi.easeInOut},"-=1.1").to(t.mobileMenu.lines,{duration:.4,scaleX:1,ease:mi.easeInOut,stagger:.1,onComplete:function(){Cn.set(t.mobileMenu.lines,{transformOrigin:"right center"})}},"-=1.2").to(t.mobileMenu.closeLines,{duration:.5,scaleX:1,stagger:.1,ease:mi.easeInOut},"-=1")})),Ul(this,"closeMobileMenu",(function(e){t.closeAction()})),Ul(this,"goToSection",(function(e){e.preventDefault();var i=e.currentTarget.getAttribute("href"),n=document.querySelector(i);t.closeAction((function(){t.isAnimatingFast=!0,gr.call("anchorScroll","jumpTo",n,{offset:xr.window.height*xr.nav.height,callback:function(){t.isAnimatingFast=!1}})}))})),this.navHeight=0,this.hero={el:null,height:0},this.title={el:null,width:0,height:0,scale:.77,currentScale:1,isTransformed:!1,isHideNext:!1},this.sidebar={el:null,height:0,finalTranslate:0,top:0,isTransformed:!1,isTranslatingNext:!1,isNextFinal:!1,isHideNext:!1},this.item={height:0,translateOffset:0,margin:26},this.next={el:null,top:0,switchHidden:!1},this.mobileMenu={el:null},this.mobileNavCategories={el:null},this.genericMargin=50,this.items=[],this.sections=[],this.activeCategory="",this.isMobileNavOpen=!1,this.isAnimatingMenu=!1,this.isAnimatingCategory=!1,this.isAnimatingFast=!1,this.hasRemovedClone=!1,this.shouldScroll="single-case"===mr.get("page"),this.init()}var t,i,n;return t=e,(i=[{key:"getSizes",value:function(){var e=this,t=gr.get("scrollManager"),i=t&&t.scroll?t.scroll.y:0;this.navHeight=xr.window.height*xr.nav.height,this.hero.height=this.hero.el.clientHeight,this.title.width=this.title.el.clientWidth/this.title.currentScale,this.title.height=this.title.el.clientHeight/this.title.currentScale,this.title.initialPosition=xr.window.height/2-this.title.height/2,this.title.initialTranslate=this.title.height/2,this.title.finalTranslate=xr.window.height/2-this.navHeight+this.title.height*(1-this.title.scale),this.sidebar.height=xr.window.height-(this.navHeight+2*this.genericMargin+this.title.height*this.title.scale),this.sidebar.finalTranslate=this.sidebar.height+this.genericMargin,this.sidebar.top=this.sidebar.el.getBoundingClientRect().top,this.item.height=this.items[0].el.clientHeight,this.item.translateOffset=.5*xr.window.height,this.items.forEach((function(t,i){t.bottom=(e.items.length-1-i)*(e.item.height+e.item.margin),t.finalTranslate=-(e.sidebar.height-t.bottom-e.item.height-i*(e.item.height+e.item.margin)),t.translateOffsetStart=t.section.top-e.item.translateOffset,t.lineOffsetStart=t.section.top,t.lineOffsetEnd=t.lineOffsetStart+t.section.height})),this.next.top=i+this.next.el.getBoundingClientRect().top-br.oldContainerHeight}},{key:"setPositions",value:function(){var e=Cn.timeline();e.set(this.title.el,{yPercent:0,y:-this.title.initialTranslate}).set(this.sidebar.el,{height:this.sidebar.height}),this.items.forEach((function(t){e.set(t.el,{bottom:t.bottom})}))}},{key:"linkSections",value:function(){var e=this;this.items.forEach((function(t){t.section=e.sections.find((function(e){if(e.category===t.category)return e.item=t,!0}))}))}},{key:"checkHeader",value:function(e){var t=this,i=e.scroll;if(i.y<this.title.finalTranslate){var n=i.y/this.title.finalTranslate,r=Cn.timeline();r.to(this.title.el,{duration:.3,y:Math.min(n*-this.title.finalTranslate,-this.title.initialTranslate),scale:this.title.scale+(1-n)*(1-this.title.scale),ease:pi.easeOut,onUpdate:function(){t.title.currentScale=t.title.scale+(1-n)*(1-t.title.scale)*r.progress()},onComplete:function(){t.title.currentScale=t.title.scale+(1-n)*(1-t.title.scale)}}).to(this.sidebar.el,.3,{duration:.3,y:n*-this.sidebar.finalTranslate,ease:pi.easeOut},0),this.title.offset=this.title.initialPosition+Math.min(n*-this.title.finalTranslate,-this.title.initialTranslate)+this.title.height,this.sidebar.offset=xr.window.height-n*this.sidebar.finalTranslate,this.title.isTransformed=!1,this.sidebar.isTransformed=!1}else{if(!this.title.isTransformed){var o=Cn.to(this.title.el,{duration:.3,y:-this.title.finalTranslate,scale:this.title.scale,onStart:function(){return t.title.isTransformed=!0},onUpdate:function(){t.title.currentScale=t.title.scale*o.progress()},onComplete:function(){t.title.currentScale=t.title.scale}});this.title.offset=this.title.initialPosition-this.title.finalTranslate+this.title.height}this.sidebar.isTransformed||(Cn.to(this.sidebar.el,{duration:.3,y:-this.sidebar.finalTranslate,onStart:function(){return t.sidebar.isTransformed=!0}}),this.sidebar.offset=xr.window.height-this.sidebar.finalTranslate)}}},{key:"checkItems",value:function(e){var t=this,i=e.scroll;this.items.forEach((function(e){if(i.y<e.translateOffsetStart)e.isTranslateInitial&&!e.isTranslateFinal||Cn.to(e.el,{duration:.2,y:0,force3D:!0,onStart:function(){e.isTranslateInitial=!0,e.isTranslateFinal=!1}}),e.offset=t.sidebar.offset+t.sidebar.height-e.bottom-t.item.height/2;else if(i.y>=e.translateOffsetStart&&i.y<e.lineOffsetStart){var n=(i.y-e.translateOffsetStart)/t.item.translateOffset;e.offset=t.sidebar.offset+t.sidebar.height-e.bottom-t.item.height/2+n*e.finalTranslate,Cn.to(e.el,{duration:.2,y:n*e.finalTranslate,force3D:!0}),e.isTranslateInitial=!1,e.isTranslateFinal=!1}else i.y>=e.lineOffsetStart&&i.y<e.lineOffsetEnd?(!e.isTranslateInitial&&e.isTranslateFinal||(Cn.to(e.el,{duration:.2,y:e.finalTranslate,force3D:!0,onStart:function(){e.isTranslateInitial=!1,e.isTranslateFinal=!0}}),e.offset=t.sidebar.offset+t.sidebar.height-e.bottom-t.item.height/2+e.finalTranslate),e.isScaleInitial=!1,e.isScaleFinal=!1):!e.isTranslateInitial&&e.isTranslateFinal||(Cn.to(e.el,{duration:.2,y:e.finalTranslate,force3D:!0,onStart:function(){e.isTranslateInitial=!1,e.isTranslateFinal=!0}}),e.offset=t.sidebar.offset+t.sidebar.height-e.bottom-t.item.height/2+e.finalTranslate)}))}},{key:"checkDisappear",value:function(e){var t=this,i=e.scroll;if(!this.isOnNext){var n=!1,r=!1,o=!1,a=!1;this.disappearSections.forEach((function(e){e.top-i.y<=t.items[t.items.length-1].offset+t.item.height/2&&e.bottom-i.y>=xr.window.height-t.sidebar.finalTranslate&&(n=!0,e.hideZ&&(r=!0)),e.top-i.y<=t.title.offset+t.title.height/2&&e.bottom-i.y>=t.title.offset+t.title.height/2&&(o=!0,e.hideZ&&(a=!0))})),n?this.sidebar.isHidden||(r&&xr.device>2?this.sidebar.el.setAttribute("data-hide",""):this.sidebar.el.setAttribute(r?"data-hide-z":"data-hide",""),this.sidebar.isHidden=!0):this.sidebar.isHidden&&(this.sidebar.el.removeAttribute("data-hide"),this.sidebar.el.removeAttribute("data-hide-z"),this.sidebar.isHidden=!1),o?this.title.isHidden||(a&&xr.device>2?this.title.el.setAttribute("data-hide",""):this.title.el.setAttribute(a?"data-hide-z":"data-hide",""),this.title.isHidden=!0):this.title.isHidden&&(this.title.el.removeAttribute("data-hide"),this.title.el.removeAttribute("data-hide-z"),this.title.isHidden=!1)}}},{key:"checkNext",value:function(e){var t=e.scroll;if(t.changed){var i=xr.window.height-this.sidebar.finalTranslate+this.sidebar.height;t.y+i>=this.next.top?(this.isOnNext=!0,this.title.isHideNext||(this.title.el.setAttribute("data-hide","fast"),this.title.isHideNext=!0),this.sidebar.isHideNext||(this.sidebar.el.setAttribute("data-hide","fast"),this.sidebar.isHideNext=!0)):(this.isOnNext=!1,this.title.isHideNext&&!this.title.isHidden&&(this.title.el.removeAttribute("data-hide"),this.title.isHideNext=!1),this.sidebar.isHideNext&&!this.sidebar.isHidden&&(this.sidebar.el.removeAttribute("data-hide"),this.sidebar.isHideNext=!1))}}},{key:"hideMobileMenu",value:function(){Cn.set(this.mobileMenu.closeLines,{scaleX:0}),Cn.set(this.mobileMenu.numberLines,{yPercent:120,skewY:"3deg"}),Cn.set(this.mobileMenu.nameLines,{yPercent:120,skewY:"3deg"}),Cn.set(this.mobileMenu.lines,{scaleX:0})}},{key:"closeAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isAnimatingMenu&&this.isMobileNavOpen){var i=Cn.timeline({onStart:function(){e.isAnimatingMenu=!0}});i.to(this.mobileMenu.closeLines,{duration:.5,scaleX:0,stagger:.1,ease:mi.easeInOut}).to(this.mobileMenu.lines,{duration:.45,scaleX:0,stagger:.1,onComplete:function(){Cn.set(e.mobileMenu.lines,{transformOrigin:"left center"})},ease:mi.easeInOut},"-=0.5").to(this.mobileMenu.numberLines,{duration:.8,yPercent:-120,skewY:"-3deg",stagger:.1,ease:pi.easeInOut},"-=1").to(this.mobileMenu.nameLines,{duration:.8,yPercent:-120,skewY:"-3deg",stagger:.1,ease:pi.easeInOut},"-=1.2").call(io.moveMain,[{duration:1,value:0,type:"side-menu",onComplete:function(){gr.call("scrollManager","enableScroll"),Cn.set(e.mobileMenu.numberLines,{yPercent:120,skewY:"3deg"}),Cn.set(e.mobileMenu.nameLines,{yPercent:120,skewY:"3deg"}),Cn.set(e.mobileMenu.el,{pointerEvents:"none",visibility:"hidden",zIndex:-1}),e.isMobileNavOpen=!1,e.isAnimatingMenu=!1,io.hide(),document.body.classList.remove("is-side-menu-open"),t&&t()}}],"-=0.6")}}},{key:"addMobileListeners",value:function(){this.mobileNavCategories.el.addEventListener("click",this.openMobileMenu),this.mobileMenu.closer.addEventListener("click",this.closeMobileMenu);for(var e=0;e<this.mobileMenu.links.length;e++)this.mobileMenu.links[e].addEventListener("click",this.goToSection)}},{key:"removeMobileListeners",value:function(){this.mobileNavCategories.el.removeEventListener("click",this.openMobileMenu),this.mobileMenu.closer.removeEventListener("click",this.closeMobileMenu);for(var e=0;e<this.mobileMenu.links.length;e++)this.mobileMenu.links[e].removeEventListener("click",this.goToSection)}},{key:"createNextElement",value:function(e){var t=document.createElement("div");t.className="nav-case-categories__active-element nom";var i=document.createElement("p");i.className="h6",i.textContent=e.charAt(0).toUpperCase()+e.slice(1),t.appendChild(i),Cn.set(t,{yPercent:100}),this.mobileNavCategories.wrap.appendChild(t),this.mobileNavCategories.categories=this.mobileNavCategories.wrap.querySelectorAll(".nav-case-categories__active-element")}},{key:"changeActiveCategory",value:function(e){var t=this;this.createNextElement(e),Cn.timeline({delay:.1,onStart:function(){t.isAnimatingCategory=!0,t.hasRemovedClone=!1},onComplete:function(){t.mobileNavCategories.categories[1]&&t.mobileNavCategories.categories[1].removeAttribute("style"),t.mobileNavCategories.categories&&t.mobileNavCategories.categories.length>0&&t.mobileNavCategories.categories[0]&&!t.hasRemovedClone&&(Cr(t.mobileNavCategories.categories[0]),t.hasRemovedClone=!0),t.isAnimatingCategory=!1}}).to(this.mobileNavCategories.categories[0],{duration:.5,yPercent:-100}).to(this.mobileNavCategories.categories[1],{duration:.5,yPercent:0},"-=0.5")}},{key:"checkActiveCategory",value:function(e){var t=this,i=e.scroll;this.mobileNavCategories&&this.mobileNavCategories.el&&(i.y>=xr.window.height?this.mobileNavCategories.el.classList.add("is-active"):this.mobileNavCategories.el.classList.remove("is-active")),this.sections.forEach((function(e){i.y>=e.top&&i.y<e.top+e.height&&(t.isAnimatingCategory||e.category===t.activeCategory||t.isAnimatingFast||(t.activeCategory=e.category,t.changeActiveCategory(e.category)))}))}},{key:"onScroll",value:function(e){var t=e.scroll;t.changed&&this.shouldScroll&&(xr.device>=2&&!xr.isFakeMobile?this.onDeskScroll({scroll:t}):this.onMobileScroll({scroll:t}))}},{key:"onDeskScroll",value:function(e){var t=e.scroll;this.shouldScroll&&this.hero.el&&this.title.el&&this.sidebar.el&&(this.checkHeader({scroll:t}),this.checkItems({scroll:t}),this.checkNext({scroll:t}),this.checkDisappear({scroll:t}))}},{key:"onMobileScroll",value:function(e){var t=e.scroll;this.shouldScroll&&this.checkActiveCategory({scroll:t})}},{key:"prepareNavDisappear",value:function(){var e=this,t=gr.get("scrollManager"),i=t&&t.scroll?t.scroll.y:0,n=(br.nextContainer||document).querySelectorAll('[data-switch="hide"]');this.disappearSections=[],n.forEach((function(t){var n=t.getBoundingClientRect();e.disappearSections.push({section:t,top:i+n.top-br.oldContainerHeight,bottom:i+n.top+n.height-br.oldContainerHeight,hideZ:t.hasAttribute("data-hide-z")})}))}},{key:"deskInit",value:function(e){var t=this;if(this.hero.el=(br.nextContainer||document).querySelector(".js-case-hero"),this.title.el=(br.nextContainer||document).querySelector(".js-case-title"),this.sidebar.el=(br.nextContainer||document).querySelector(".js-case-side"),this.next.el=(br.nextContainer||document).querySelector(".js-case-next-measure"),this.hero.el&&this.title.el&&this.sidebar.el&&this.next.el){this.prepareNavDisappear();var i=this.sidebar.el.querySelectorAll("[data-category]"),n=(br.nextContainer||document).querySelectorAll("[data-section]");i.forEach((function(e,i){var n=e.getAttribute("data-category");t.items.push({el:e,line:e.querySelector(".js-case-side-line"),category:n,section:null,finalTranslate:0,translateOffsetStart:0,lineOffsetStart:0,lineOffsetEnd:0,isTranslateInitial:!0,isTranslateFinal:!1,isScaleInitial:!0,isScaleFinal:!1})})),n.forEach((function(e){var i=e.getAttribute("data-section"),n=e.getBoundingClientRect(),r=gr.get("scrollManager"),o=r&&r.scroll?r.scroll.y:0;t.sections.push({el:e,category:i,height:n.height,top:o+n.top-br.oldContainerHeight})})),this.sectionsEnd=this.sections[this.sections.length-1].top+this.sections[this.sections.length-1].height,this.linkSections(),this.getSizes(),this.setPositions()}e||(this.titleColor=this.title.el?this.title.el.getAttribute("data-color"):"#000000")}},{key:"mobileInit",value:function(){var e=this;if(this.mobileMenu.el=(br.nextContainer||document).querySelector(".js-case-mobile-menu"),this.mobileMenu.closer=(br.nextContainer||document).querySelector(".js-case-mobile-menu-close"),this.mobileMenu.links=(br.nextContainer||document).querySelectorAll(".case-mobile-menu__link"),this.mobileMenu.numberLines=(br.nextContainer||document).querySelectorAll(".case-mobile-menu__number .line-child"),this.mobileMenu.nameLines=(br.nextContainer||document).querySelectorAll(".case-mobile-menu__name .line-child"),this.mobileMenu.lines=(br.nextContainer||document).querySelectorAll(".js-case-mobile-menu-line"),this.mobileMenu.closeLines=(br.nextContainer||document).querySelectorAll(".case-mobile-menu__close-icon"),this.mobileNavCategories.el=(br.nextContainer||document).querySelector(".js-nav-case-categories"),this.mobileNavCategories.wrap=(br.nextContainer||document).querySelector(".nav-case-categories__wrap"),this.mobileMenu.el&&this.mobileNavCategories.el){var t=this.mobileMenu.el.querySelectorAll("[data-category]"),i=(br.nextContainer||document).querySelectorAll("[data-section]");t.forEach((function(t,i){var n=t.getAttribute("data-category");e.items.push({el:t,category:n,section:null})}));var n=gr.get("scrollManager"),r=n&&n.scroll?n.scroll.y:0;i.forEach((function(t){var i=t.getAttribute("data-section"),n=t.getBoundingClientRect();e.sections.push({el:t,category:i,height:n.height,top:r+n.top-br.oldContainerHeight})})),this.linkSections(),this.hideMobileMenu(),this.addMobileListeners()}}},{key:"init",value:function(e){this.items=[],this.sections=[],xr.device>=2&&!xr.isFakeMobile?this.deskInit(e):this.mobileInit(e)}},{key:"resize",value:function(){this.items.length&&(Cn.set(this.items.map((function(e){return e.el})),{clearProps:"all"}),this.items=[],this.sections=[],this.init(!0),this.title.isTransformed=!1,this.sidebar.isTransformed=!1,this.items.forEach((function(e){e.isTranslateInitial=!1,e.isTranslateFinal=!1,e.isScaleInitial=!1,e.isScaleFinal=!1})))}}])&&Hl(t.prototype,i),n&&Hl(t,n),e}();function Yl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Vl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hasWebpSupport=gr.get("imageLoader").hasWebpSupport,this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){var e=this;this.src=document.querySelector("[data-noise]")?document.querySelector("[data-noise]").getAttribute("data-noise"):null,this.els=document.querySelectorAll(".js-noise"),this.src&&this.els.forEach((function(t){return t.setAttribute("style","background-image:url('".concat(e.src).concat(e.hasWebpSupport?".webp":"","');"))}))}}])&&Yl(t.prototype,i),n&&Yl(t,n),e}();function Xl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Gl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements=document.querySelectorAll("[data-plax]"),this.plaxes=[],this.tolerance=xr.window.height,this.init()}var t,i,n;return t=e,(i=[{key:"onScroll",value:function(e){var t=e.scroll;if(this.elements.length>0&&t.changed&&xr.device>=3)for(var i=0;i<this.plaxes.length;i++){var n=this.plaxes[i];t.y>=n.startPoint&&t.y<n.endPoint&&Cn.set(n.el,{y:"".concat(-parseInt((t.y-n.startPoint)/7,10),"px")})}}},{key:"destroy",value:function(){}},{key:"resize",value:function(){this.tolerance=xr.window.height}},{key:"init",value:function(){if(this.elements.length&&xr.device>=3){this.plaxes=[];for(var e=gr.get("scrollManager"),t=e&&e.scroll?e.scroll.y:0,i=0;i<this.elements.length;i++){var n=this.elements[i].getBoundingClientRect(),r=n.top+t;this.plaxes.push({el:this.elements[i],offsetTop:r,startPoint:r-br.oldContainerHeight-this.tolerance,endPoint:n.y-br.oldContainerHeight+this.tolerance})}}}}])&&Xl(t.prototype,i),n&&Xl(t,n),e}();function $l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Zl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements=[],this.init()}var t,i,n;return t=e,(i=[{key:"onScroll",value:function(e){var t=e.scroll;this.elements.length&&xr.device>1&&t.changed&&this.elements.forEach((function(e){t.y<=e.offset?(Cn.set(e.el,{yPercent:0,y:-e.height/2-t.y}),e.hasExited=!1):e.hasExited||(Cn.set(e.el,{yPercent:0,y:-e.offset-e.height/2}),e.hasExited=!0)}))}},{key:"init",value:function(){var e=this,t=(br.nextContainer||document).querySelectorAll(".js-article-intro-el"),i=gr.get("scrollManager"),n=i&&i.scroll?i.scroll.y:0;t.forEach((function(t){var i=t.getBoundingClientRect();e.elements.push({el:t,top:n+i.top,height:i.height,offset:n+i.top+i.height,hasExited:!1})}))}}])&&$l(t.prototype,i),n&&$l(t,n),e}();function Kl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jl(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ql=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Jl(this,"goPrev",(function(){t.isAnimatingSlide||(t.activeIndex=0===t.activeIndex?t.slides.length-1:t.activeIndex-1,t.isAnimatingSlide=!0,t.onSlideChange())})),Jl(this,"goNext",(function(){t.isAnimatingSlide||(t.activeIndex=t.activeIndex+1===t.slides.length?0:t.activeIndex+1,t.isAnimatingSlide=!0,t.onSlideChange())}));var i=(br.nextContainer||document).querySelector(".js-next-slider-container");null!=i&&(this.container=i,this.activeIndex=0,this.isAnimatingSlide=!1,this.hasAttachedListeners=!1,this.init())}var t,i,n;return t=e,(i=[{key:"setupDimensions",value:function(){var e=this.titleWrap.querySelector("p");Cn.set(this.titleWrap,{height:"".concat(e.getBoundingClientRect().height,"px")})}},{key:"setupListeners",value:function(){this.prevButton&&this.nextButton&&(this.prevButton.addEventListener("click",this.goPrev),this.nextButton.addEventListener("click",this.goNext),this.hasAttachedListeners=!0)}},{key:"removeListeners",value:function(){this.hasAttachedListeners&&(this.prevButton&&this.nextButton&&(this.prevButton.removeEventListener("click",this.goPrev),this.nextButton.removeEventListener("click",this.goNext)),this.hasAttachedListeners=!1)}},{key:"setupIndex",value:function(){this.indexNum.textContent="0".concat(this.activeIndex+1)}},{key:"setup",value:function(){this.slider=this.container.querySelector(".js-next-articles-slider"),this.slides=this.container.querySelectorAll(".js-next-articles-slider-item"),this.titleWrap=this.container.querySelector(".js-next-articles-slider-title-wrap"),this.mainLink=this.container.querySelector(".js-next-articles-slider-main-link"),this.indexWrap=this.container.querySelector(".js-next-articles-slider-index-wrap"),this.indexNum=this.container.querySelector(".js-next-articles-slider-index"),this.prevButton=this.container.querySelector(".js-next-articles-slider-prev"),this.nextButton=this.container.querySelector(".js-next-articles-slider-next"),this.setupDimensions(),this.setupListeners(),this.indexNum&&this.setupIndex()}},{key:"appendItem",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"articles-slider__wrap-el",o=document.createDocumentFragment(),a=document.createElement("div"),s=document.createElement(t);s.textContent=e,""!==i&&(s.className=i),a.appendChild(s),a.className=r,Cn.set(a,{opacity:0,position:"absolute",top:0,left:0}),o.appendChild(a),n.appendChild(o)}},{key:"animateTitle",value:function(){var e=gr.get("textSplit"),t=this.titleWrap.querySelectorAll(".articles-slider__wrap-el"),i=t[0].querySelectorAll(".line-child"),n=t[1].querySelector("p"),r=Cn.timeline();return r.to(i,{duration:.65,y:"-100%",stagger:.125,ease:fi.easeInOut}).set(t[0],{opacity:0,onComplete:function(){e.create(n,{type:"lines",linesClass:"line-parent"}),e.create(n.querySelectorAll(".line-parent"),{type:"lines",linesClass:"line-child"});var i=t[1].querySelectorAll(".line-child");Cn.set(i,{y:"100%"}),Cn.set(t[1],{opacity:1}),Cr(t[0]),Cn.to(i,{duration:.55,y:"0%",stagger:.2})}}),r}},{key:"animateIndex",value:function(){var e=this.container.querySelectorAll(".next-articles-slider__index-el");Cn.set(e[1],{y:"100%",skewY:"8deg",opacity:1});var t=Cn.timeline({onComplete:function(){Cn.set(e[1],{position:"relative",top:"auto",left:"auto"}),Cr(e[0])}});return t.to(e[0],.7,{y:"-100%",skewY:"-8deg",ease:pi.easeInOut}).to(e[1],.7,{y:"0%",skewY:"0deg",ease:pi.easeInOut},"-=0.7"),t}},{key:"onSlideChange",value:function(){var e=this,t=this.slides[this.activeIndex],i=t.dataset.title,n=t.dataset.url;this.appendItem(i,"p","h4",this.titleWrap),this.appendItem("0".concat(this.activeIndex+1),"div","",this.indexWrap,"next-articles-slider__index-el"),this.mainLink.setAttribute("href",n),Cn.timeline({onComplete:function(){e.isAnimatingSlide=!1}}).add(this.animateTitle()).add(this.animateIndex(),"-=0.6")}},{key:"onResize",value:function(){this.setup()}},{key:"destroy",value:function(){this.removeListeners()}},{key:"init",value:function(){this.setup()}}])&&Kl(t.prototype,i),n&&Kl(t,n),e}();function eu(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Cn.registerPlugin(Nn,ur);var tu=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"beforeImageLoad",value:function(e){_r.init(),gr.add("videoLoader",new jl),gr.add("noise",new Vl),gr.add("anchorScroll",new qo),gr.add("fixedHeight",new Fo),gr.add("textSplit",new Ro),gr.add("linkHover",new Po),gr.add("ratio",new po),gr.add("readMore",new yo),gr.add("scrollManager",new ks),gr.add("caseIntro",new Bl),gr.add("caseSide",new Wl),gr.add("caseMobileNav",new Nl),gr.add("articleIntro",new Zl),gr.add("nextArticleSlider",new Ql),gr.add("hoverSwitch",new Ps),gr.add("sliderManager",new vo),gr.add("scrollGL",new $s(e)),gr.add("contactManager",new _o),gr.add("parallaxManager",new Gl),gr.add("journal",new Wo),gr.add("journalSide",new Vo),gr.add("scrollAnimator",new Js),gr.call("scrollManager","add",gr.get("caseIntro")),gr.call("scrollManager","add",gr.get("caseSide")),gr.call("scrollManager","add",gr.get("caseMobileNav")),gr.call("scrollManager","add",gr.get("articleIntro")),gr.call("scrollManager","add",gr.get("journalSide")),gr.call("scrollManager","add",gr.get("hoverSwitch")),gr.call("scrollManager","add",gr.get("parallaxManager")),gr.call("scrollManager","add",gr.get("scrollGL"))}},{key:"afterImageLoad",value:function(e){var t=gr.get("loaderManager");t&&(gr.call("scrollGL","start",e?null:t.initial,e),"not-found"===mr.get("page")&&Zr.init(t.initial))}},{key:"reinit",value:function(){xr.reinit(),Il.reinit(),_r.onChange();var e=gr.get("loaderManager"),t=mr.get("page");e&&(gr.call("loaderManager","reset"),"home"===t?gr.call("loaderManager","initHome",!0):(gr.call("loaderManager","getImages"),gr.call("loaderManager","startLazy",!0),this.beforeImageLoad(e.images),this.afterImageLoad(!0)))}},{key:"init",value:function(){var e=this;window.addEventListener("DOMContentLoaded",(function(){document.documentElement.className="js",document.body.classList.toggle("is-touch",Or()),mr.setMainOptions(),br.init(),document.body.classList.toggle("is-ios",br.isIos),ko.init(),Er.changeBg(mr.get("activeBg"),.3),Er.changeMeta("#201D1E",!1),gr.add("imageLoader",new el,!0),gr.add("router",new ho,!0),No.init()})),window.addEventListener("load",(function(){xr.init(),gr.add("layout",xr,!0),lo.init(),Il.init(),io.init();var t=new Ml;gr.add("loaderManager",t,!0),t.init({onStart:function(t){e.beforeImageLoad(t)},onComplete:function(t){e.afterImageLoad(t)}}),oo.init()})),window.addEventListener("resize",kr((function(){xr.resize(),document.body.classList.toggle("is-touch",Or()),document.body.classList.toggle("is-ios",br.getIos()),gr.map("resize"),oo.resize(),Zr.resize(),io.resize()}),100)),window.addEventListener("orientationchange",kr((function(){xr.resize(),document.body.classList.toggle("is-touch",Or()),document.body.classList.toggle("is-ios",br.getIos()),gr.map("resize"),oo.resize(),Zr.resize(),io.resize()}),100))}}])&&eu(t.prototype,i),n&&eu(t,n),e}());i(63),console.info(),console.info("\n\n\nPowered by , developed by   &  .\n\n\n"),tu.init()}]);